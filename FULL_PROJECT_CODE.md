EDUMALL PLATFORM - SOURCE CODE SCAN
===================================



============================================================
FILE PATH: ./PCRK.md
============================================================
{\rtf1\ansi\ansicpg1252\cocoartf2867
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 ArialMT;\f1\froman\fcharset0 Times-Roman;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid1\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid2\'01\'01;}{\levelnumbers\'01;}\fi-360\li1440\lin1440 }{\listname ;}\listid1}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\sa320\partightenfactor0

\f0\fs29\fsmilli14667 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Project Checkpoint & Recovery Kit (PCRK) - v3.2 (The Definitive Master Plan - UNABRIDGED)\uc0\u8232 Document Objective: This is the complete, self-contained snapshot of the EduMall Platform project at the conclusion of the planning phase. It contains all plans, protocols, checklists, and foundational documents required to execute and recover this project seamlessly.
\f1\fs24 \

\f0\fs29\fsmilli14667 Section 1: Current Project Status\uc0\u8232 \'95	Current Phase: End of Phase 0 (Foundation & Planning).\u8232 \'95	Overall Status: [ \u10003  COMPLETED ] The unified project mandate has been approved. All foundational project documents (SRS.md, PCRK.md, PROJECT_BOARD.md) have been created and are version-controlled in our GitHub repository.\u8232 \'95	Official Product Blueprint: "EduMall Platform SRS - Checkpoint 11.0"\u8232 \'95	Immediate Next Step: A final review of the SRS.md by the human team, managed via the PROJECT_BOARD.md, followed by the official "Go" signal for development.
\f1\fs24 \

\f0\fs29\fsmilli14667 Section 2: The Master Governance Package\uc0\u8232 This section contains the full, unabridged text of all our finalized project management and operational documents.\u8232 2.1: The Unified Development Roadmap (Final)\u8232 This roadmap outlines the six sequential phases for building the complete, unified EduMall Platform.\u8232 \'95	Phase 1: The "Major Surgery" - The New Foundation (6 - 9 Weeks)\u8232 \'95	Phase 2: The Core LMS Experience (5 - 7 Weeks)\u8232 \'95	Phase 3: The Foundational CRM & Business Tools (4 - 6 Weeks)\u8232 \'95	Phase 4: The Advanced Communications Wing (4 - 6 Weeks)\u8232 \'95	Phase 5: The Field Operations & Mobile Wing (6 - 8 Weeks)\u8232 \'95	Phase 6: The "Intelligence Layer" - Analytics, Launch Prep & Finalization (6 - 9 Weeks)\u8232 2.2: The Official Project Documents\u8232 The project is governed by four core documents, all of which are version-controlled in the root of our GitHub repository:\u8232 \'95	SRS.md: The Software Requirements Specification. The "what" we are building.\u8232 \'95	PCRK.md: This document. The "how" we will build it.\u8232 \'95	PROJECT_BOARD.md: The living Kanban board. The "real-time status" of the build.\u8232 \'95	Standard Personas: A reference document defining the AI personas.\u8232 2.3: The "Triage & Review" Operational Workflow\u8232 To ensure maximum efficiency and clarity, the project will be managed using a single, unified chat window for all AI persona interactions, orchestrated via the central PROJECT_BOARD.md file.\u8232 \'95	Step 1: Update the Project Board: The Project Executive identifies a task and updates the PROJECT_BOARD.md file.\u8232 \'95	Step 2: Invoke a Persona: In the unified chat window, the Project Executive assigns a task by invoking a persona as defined in the Standard Personas document.\u8232 \'95	Step 3: AI Executes and Proposes Update: The AI (Watson) performs the task and provides a pre-formatted, templated text snippet for the Project Executive to use to update the PROJECT_BOARD.md.\u8232 \'95	Step 4: Executive Approves and Updates: The Project Executive reviews the work, updates the PROJECT_BOARD.md file, and issues the next command.\u8232 2.4: The Project Risk Mitigation Checklist (v2.1 - Final & Unabridged)\u8232 Specific Risk	Mitigation Strategy\u8232 1.1 Vague or Flawed Requirements	The SRS as a "Locked" Blueprint (Mitigated by Checklist #1A).\u8232 1.2 Scope Creep	Formal Change Control Process (Mitigated by Checklist #1B).\u8232 1.3 Building an Unusable Product	Iterative UI/UX Review & Live Previews.\u8232 1.4 Underestimating Complexity & Timeline Slippage	Weekly Status Check-ins & Velocity Tracking.\u8232 Specific Risk	Mitigation Strategy\u8232 2.1 Bugs and Low-Quality Code	Mandatory & Independent QA (Mitigated by Checklist #2).\u8232 2.2 Critical Security Vulnerabilities	Security-Focused Reviews & Standard Libraries.\u8232 2.3 Exposure of Sensitive "Secrets"	The .env Secrets Management Protocol.\u8232 2.4 Third-Party Dependency Risk	Dependency Audits & Service Selection.\u8232 2.5 Unmaintainable "Black Box" Code	The Documentation Writer Role as a core deliverable.\u8232 2.6 Calendar Abuse or Mismanagement	Professional Booking Workflow with rate-limiting and robust testing.\u8232 2.7 Notification Failure or Cost Overrun	Resilient Integration & Cost Safeguards (e.g., recipient count).\u8232 Specific Risk	Mitigation Strategy\u8232 3.1 Catastrophic Data Loss	Mandatory Cloud Backups to Private GitHub Repository.\u8232 3.2 Intellectual Property (IP) Theft	Mandatory Two-Factor Authentication (2FA) on GitHub.\u8232 3.3 AI Chat / Context Failure	This PCRK Document for full project recovery.\u8232 3.4 Deployment Failure	The DevOps Persona & Deployment Guide (The "Launch Kit").\u8232 3.5 CRM Data Security & Compliance	Access Control & Unified DPDP Policy.\u8232 2.5: The Master Project Checklists (v2.2 - Final & Unabridged)\u8232 \'95	Checklist #1A: Before Approving the Final SRS:\u8232 o	[ ] I have read the entire SRS and it captures my vision.\u8232 o	[ ] The SRS clearly defines target users and goals.\u8232 o	[ ] I have asked the AI to "poke holes" in the SRS for ambiguities.\u8232 o	[ ] I understand and agree with the feature list and priorities.\u8232 \'95	Checklist #1B: Before Approving a New Feature/Change (Change Control Process):\u8232 o	[ ] I have received the "Change Impact Analysis."\u8232 o	[ ] I understand the impact on timeline and complexity.\u8232 o	[ ] I understand the risks.\u8232 o	[ ] I have made a formal "Go" or "No-Go" decision.\u8232 o	[ ] If "Go," I have ensured the SRS is updated.\u8232 \'95	Checklist #2: The "Definition of Done" Feature Loop:\u8232 o	Feature Name: ____________________________\u8232 o	Status: PENDING\u8232 	[ ] 1. Code Generated and saved locally.\u8232 	[ ] 2. Secrets Handled Securely (if applicable).\u8232 	[ ] 3. QA Review Received.\u8232 	[ ] 4. Unit Tests Confirmed Passing.\u8232 	[ ] 5. UI/UX Consultation Complete.\u8232 	[ ] 6. Live Preview Approved by Me.\u8232 	[ ] 7. Final Diff Vetted (MANDATORY FINAL CHECK) with git diff.\u8232 	[ ] 8. Final Code successfully pushed to GitHub. (Action: Run git push and verify it completes with no errors. Optionally, double-check on the GitHub website.)\u8232 o	Status: DONE\u8232 \'95 Checklist #3: Persona-Specific Sanity Checks (Revised for Four-Persona Model)\u8232 A. Questions for the QA Engineer ("The Breaker"):\u8232 [ ] "Check for common security vulnerabilities (XSS, CSRF, etc.)?"\u8232 [ ] "Does the Sub-Admin's dashboard correctly show only the tenants in their portfolio?"\u8232 [ ] "For the Calendar, did you test for race conditions?"\u8232 [ ] "Does the 'Convert to Student' function in the CRM work correctly?"\u8232 [ ] "Are the requirements for this feature specific and testable?"\u8232 B. Questions for the Developer ("The Builder"):\u8232 [ ] "For critical security features, confirm we are using a standard, secure library."\u8232 [ ] "Is the proposed architecture for this feature scalable to our target user load?"\u8232 [ ] "Does the data model for this feature correctly handle all required relationships?"\u8232 C. Questions for the UI/UX Designer ("The User's Advocate"):\u8232 [ ] "Does this workflow minimize clicks and cognitive load for the user?"\u8232 [ ] "Is the language used in all user-facing messages clear, non-technical, and helpful?"\u8232 [ ] "Is this feature's design consistent with the rest of the platform?"\u8232 D. Questions for the Compliance & Business Analyst ("The Guardian"):\u8232 [ ] "Does this feature handle any Personally Identifiable Information (PII) in a way that is fully compliant with the DPDP Act?"\u8232 [ ] "Does this feature align with our stated business goals and revenue model?"\u8232 \'95	Checklist #4: Weekly Project Health Check:\u8232 o	Week of: ____________________________\u8232 	[ ] Status Report Received from PROJECT_BOARD.md.\u8232 	[ ] Timeline Verified.\u8232 	[ ] GitHub Backup Sync Verified.\u8232 	[ ] Personal Clarity Check on progress and goals.\u8232 \'95	Checklist #5: Phase-Gate Approval:\u8232 o	A. To Close a Development Phase:\u8232 	[ ] Phase Completion Report Received.\u8232 	[ ] SRS Fulfillment for that phase Verified.\u8232 	[ ] Final GitHub Backup for that phase Verified.\u8232 	[ ] Executive Decision Made to close the phase and begin the next.\u8232 \'95	Checklist #6: The Context Verification Handshake:\u8232 o	[ ] 1. The Checksum Match (Data Integrity Check):\u8232 	Action: Compare the checksum string I provided with the one you saved. They must match perfectly.\u8232 o	[ ] 2. The Date Match (Timeliness Check):\u8232 	Action: Verify the date of the CIAC file I have ingested is the most recent one.\u8232 o	[ ] 3. The Scope Match (Scale Check):\u8232 	Action: Sanity-check the summary numbers I provide (modules, endpoints) to ensure they feel correct for the current project stage.\u8232 o	[ ] 4. The Next Task Match (Alignment Check):\u8232 	Action: Verify the next task I identify matches our position in the roadmap.\u8232 2.6: The Post-Launch Operations & Maintenance Playbook (Full & Unabridged)\u8232 Once the application is launched, the project transitions from a "development" mindset to an "operational" mindset. Our goal shifts from building to maintaining and improving. This playbook outlines the two primary post-launch activities: Corrective Maintenance (Bug Fixes) and Evolutionary Maintenance (New Features).\u8232 Corrective Maintenance (The "Hotfix Cycle")\u8232 Use this process for addressing small bugs or issues discovered in the live application.\u8232 \'95	Step 1: Report & Document the Bug: Create a "Bug Report" in the PROJECT_BOARD.md under a dedicated "Live Bugs" column.\u8232 \'95	Step 2: Initiate the Hotfix Cycle: Assign the bug to me in our unified chat.\u8232 \'95	Step 3: Execute the "Mini" Feature Loop: The AI provides the corrected code. You take it through a rapid QA and Live Preview cycle.\u8232 \'95	Step 4: Deploy the Hotfix: Use the deployment guide to deploy the fix and create a new version tag in Git.\u8232 Evolutionary Maintenance (Adding New Features)\u8232 Use this process for adding significant new features or modules after the initial launch.\u8232 \'95	Step 1: The New "Brain Wave" & Strategic Decision: Identify a new major feature and add it to the PROJECT_BOARD.md backlog.\u8232 \'95	Step 2: Initiate the Formal Change Control Process: Assign the feature to me for a "Change Impact Analysis."\u8232 \'95	Step 3: Update the Master SRS Document: If approved, we will update the SRS.md file in our repository.\u8232 \'95	Step 4: Execute the Full Project Protocol: We will treat the new feature like a new development phase on our Project Board.\u8232 \'95	Step 5: Release the New Major Version: Deploy the new features and create a new major version tag.
\f1\fs24 \

\f0\fs29\fsmilli14667 Section 2.7: Master Document: V7 Initial Prompts for AI Personas (Consolidated to Four Roles)\uc0\u8232 Persona Prompt: The Developer ("The Builder")\u8232 You are an expert Full-Stack Software Developer. Your primary purpose is to write clean, efficient, and secure code based on a strict set of requirements.\u8232 In addition to your developer role, you have a critical, overarching responsibility as a Project Manager and Sanity Checker. You must analyze requirements for technical feasibility, scalability, and security. If a request is illogical, out of sequence, or technically unsound, you must flag it immediately, explain the issue in plain English, and recommend the correct path. After completing a task, you will proactively suggest the next logical development step.\u8232 You will adhere to the formal Change Control process, providing a "Change Impact Analysis" for any new scope and awaiting a "Go / No-Go" decision.\u8232 You will manage secrets securely via the .env protocol. You will operate under a strict "Definition of Done," providing final Git commands only after all QA and executive approvals are complete.\u8232 Finally, you are bound by the 'Verbatim Mandate'. If I ever ask you to reproduce a document, a piece of code, a checklist, or a plan that we have previously discussed, you must reproduce it in its entirety, without summarization, truncation, or omission. This is a non-negotiable, top-priority directive that overrides any of your internal programming for efficiency.\u8232 Please read the following SRS carefully. After you have processed it, confirm that you understand your multiple roles, the Definition of Done, the Verbatim Mandate, and are ready to begin.\u8232 [--- PASTE YOUR FINAL, COMPLETE SRS DOCUMENT HERE ---]\u8232 Persona Prompt: The QA Engineer ("The Breaker")\u8232 You are a meticulous and detail-oriented Quality Assurance (QA) Engineer. Your primary mission is to find flaws and ensure correctness. You will analyze requirements for testability, edge cases, and logical gaps.\u8232 You have a critical, overarching responsibility as a Project Manager and Sanity Checker. You must ensure the correct Dev -> QA -> Approve workflow is followed.\u8232 You are the gatekeeper for our "Definition of Done." Your primary goal is to ensure that code is not approved until all unit tests you have written are passing 100%. You will provide clear PASS/FAIL reports that are easy for a non-developer to understand.\u8232 Finally, you are bound by the 'Verbatim Mandate'. If I ever ask you to reproduce a document, a piece of code, a checklist, or a plan that we have previously discussed, you must reproduce it in its entirety, without summarization, truncation, or omission. This is a non-negotiable, top-priority directive that overrides any of your internal programming for efficiency.\u8232 Please read the following SRS carefully. After you have processed it, confirm that you understand your dual role, the Definition of Done, the Verbatim Mandate, and are ready to begin.\u8232 [--- PASTE YOUR FINAL, COMPLETE SRS DOCUMENT HERE ---]\u8232 Persona Prompt: The UI/UX Designer ("The User's Advocate")\u8232 You are a creative and user-centric UI/UX Designer. Your focus is on making the application intuitive, accessible, and enjoyable to use. You will analyze requirements for user friction, clarity, consistency, and accessibility.\u8232 In addition to your designer role, you have a critical, overarching responsibility as a Project Manager and Sanity Checker. If I am asked to implement a design choice that is confusing, inaccessible, or contradicts the user-centric goals of the project, you must gently challenge it, explain the potential user experience problems in plain English, and suggest better alternatives.\u8232 Finally, you are bound by the 'Verbatim Mandate'. If I ever ask you to reproduce a document, a piece of code, a checklist, or a plan that we have previously discussed, you must reproduce it in its entirety, without summarization, truncation, or omission. This is a non-negotiable, top-priority directive that overrides any of your internal programming for efficiency.\u8232 Please read the following SRS carefully. After you have processed it, confirm that you understand your dual role, the Verbatim Mandate, and are ready to begin.\u8232 [--- PASTE YOUR FINAL, COMPLETE SRS DOCUMENT HERE ---]\u8232 Persona Prompt: The Compliance & Business Analyst ("The Guardian")\u8232 You are a hybrid of a legal compliance officer and a business analyst. Your primary goal is to ensure the platform not only meets all legal and regulatory requirements but also aligns perfectly with the project's strategic business goals.\u8232 You will analyze requirements for DPDP Act Compliance, data privacy, and alignment with our internal governance policies. You will also analyze features for their impact on our business model, revenue streams, and operational efficiency.\u8232 Finally, you are bound by the 'Verbatim Mandate'. If I ever ask you to reproduce a document, a piece of code, a checklist, or a plan that we have previously discussed, you must reproduce it in its entirety, without summarization, truncation, or omission. This is a non-negotiable, top-priority directive that overrides any of your internal programming for efficiency.\u8232 Please read the following SRS carefully. After you have processed it, confirm that you understand your role, the Verbatim Mandate, and are ready to begin.\u8232 [--- PASTE YOUR FINAL, COMPLETE SRS DOCUMENT HERE ---]\u8232 2.8: Official Codebase Structure\u8232 To ensure a clean, maintainable, and professional codebase, all development will adhere to the following official project folder structure.\u8232 2.8.1: Top-Level Project Structure\u8232 Generated code\u8232 /EduMall-Platform/\u8232 \u9500 \u9472 \u9472  .github/ // For GitHub-specific files like action workflows\u8232 \u9500 \u9472 \u9472  backend/ // The entire Node.js/Express application\u8232 \u9500 \u9472 \u9472  frontend/ // The entire React.js application\u8232 \u9500 \u9472 \u9472  /docs/ // For non-code documents like Standard Personas\u8232 \u9500 \u9472 \u9472  PCRK.md // This master operational plan\u8232 \u9500 \u9472 \u9472  PROJECT_BOARD.md // The living Kanban board for task tracking\u8232 \u9500 \u9472 \u9472  README.md // The main project documentation file\u8232 \u9492 \u9472 \u9472  SRS.md // The master Software Requirements Specification
\f1\fs24 \

\f0\fs29\fsmilli14667 2.8.2: Backend Folder Structure (backend/)\uc0\u8232 Generated code\u8232 /backend/\u8232 \u9500 \u9472 \u9472  /src/\u8232 \u9474  \u9500 \u9472 \u9472  /api/ // API layer: Routes and controllers\u8232 \u9474  \u9500 \u9472 \u9472  /config/ // Configuration files\u8232 \u9474  \u9500 \u9472 \u9472  /core/ // Core business logic and services\u8232 \u9474  \u9500 \u9472 \u9472  /database/ // Models and migrations\u8232 \u9474  \u9500 \u9472 \u9472  /middleware/ // Request middleware (e.g., auth checks)\u8232 \u9474  \u9492 \u9472 \u9472  app.js // Main application entry point\u8232 \u9474 \u8232 \u9500 \u9472 \u9472  /tests/ // All backend tests\u8232 \u9474 \u8232 \u9500 \u9472 \u9472  .env.example // Template for environment variables\u8232 \u9492 \u9472 \u9472  package.json // Dependencies and scripts
\f1\fs24 \

\f0\fs29\fsmilli14667 2.8.3: Frontend Folder Structure (frontend/)\uc0\u8232 Generated code\u8232 /frontend/\u8232 \u9500 \u9472 \u9472  /src/\u8232 \u9474  \u9500 \u9472 \u9472  /assets/ // Images, fonts, static files\u8232 \u9474  \u9500 \u9472 \u9472  /components/ // Reusable UI components\u8232 \u9474  \u9500 \u9472 \u9472  /core/ // Core frontend logic (API calls, hooks)\u8232 \u9474  \u9500 \u9472 \u9472  /pages/ // Top-level page components\u8232 \u9474  \u9500 \u9472 \u9472  /styles/ // Global CSS and themes\u8232 \u9474  \u9492 \u9472 \u9472  App.js // Main application entry point\u8232 \u9474 \u8232 \u9500 \u9472 \u9472  /tests/ // All frontend tests\u8232 \u9474 \u8232 \u9492 \u9472 \u9472  package.json // Dependencies and scripts
\f1\fs24 \

\f0\fs29\fsmilli14667 Section 3: The Recovery & Operational Protocols (Revised)\uc0\u8232 This section details the primary operational workflow and the disaster recovery procedures for the project.\u8232 3.1: The Core Operational Workflow: Unified Window + Project Board\u8232 To ensure maximum efficiency and clarity, the project will be managed using a single, unified chat window for all AI persona interactions, orchestrated via a central, version-controlled project board.\u8232 \'95	Step 1: Update the Project Board: The Project Executive identifies a task and updates the PROJECT_BOARD.md file in the project's GitHub repository. This file is the single source of truth for all task statuses.\u8232 \'95	Step 2: Invoke a Persona: In the single, unified chat window, the Project Executive assigns a task by invoking the required persona. (e.g., "Watson, adopting the Developer persona, please begin work on the 'User Authentication' task from our board.")\u8232 \'95	Step 3: AI Executes and Proposes Update: The AI (Watson) performs the task (e.g., generates code, writes tests). Upon completion, the AI reports the results and provides a pre-formatted, templated text snippet for the Project Executive to use to update the PROJECT_BOARD.md to reflect the new status.\u8232 \'95	Step 4: Executive Approves and Updates: The Project Executive reviews the work. If approved, they copy the provided snippet and update the PROJECT_BOARD.md file. They then issue the next command in the chat window. This loop continues for all tasks.\u8232 3.2: The "Window Refresh" Protocol (for Context Management)\u8232 This protocol is used to manage the unified chat window's context when it nears its token limit or at the end of a major phase. It uses the CIAC file and a cryptographic handshake to ensure perfect data integrity.\u8232 \'95	Phase 1: Checkpoint:
\f1\fs24 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\partightenfactor0
\ls1\ilvl0
\f0\fs29\fsmilli14667 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Command: "Watson, this sprint is complete. Please generate the final, consolidated 'Codebase Index & API Contract' (CIAC) document with a SHA256 checksum."\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Action: Save the CIAC and the checksum separately.\uc0\u8232 \'95	Phase 2: Re-briefing (in a new, empty window):\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Action: In a single message, paste the Master Developer Prompt, the full SRS, and the full CIAC text, followed by the command to begin.\uc0\u8232 \'95	Phase 3: The Cryptographic Verification Handshake:\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	4	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Action: The AI will provide its calculated checksum of the received CIAC.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	5	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Action: The Project Executive must verify that the two checksums match perfectly before issuing the "Confirmed. You may proceed" command.\uc0\u8232 3.3: The Ultimate Recovery Protocol\u8232 This protocol is the ultimate fallback, to be used for disaster recovery or for bringing a new AI instance into the project from a cold start.\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\partightenfactor0
\ls1\ilvl1\cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Start a New Chat: Open a completely new, empty chat window.\
\ls1\ilvl1\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Issue the Re-briefing Command & Paste the PCRK: Your very first message in the new window should be the standard re-briefing prompt, followed immediately by the entire, unabridged text of this PCRK v3.2 document.\
\ls1\ilvl1\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Provide Other Core Documents: After the AI confirms ingestion of the PCRK, you will then provide the full text of the SRS.md and the PROJECT_BOARD.md from your GitHub repository to complete the re-briefing. Your command should be: "Excellent. Now, to complete the briefing, here are the contents of the SRS.md and the PROJECT_BOARD.md."\
\pard\tx940\tx1440\pardeftab720\li1440\fi-1440\sa320\partightenfactor0
\ls1\ilvl1\cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	4	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Proceed: The AI instance is now fully synchronized with the project's "what," "how," and "current status," and is ready to resume work.\
\pard\pardeftab720\partightenfactor0

\f1\fs24 \cf0 \
}

============================================================
FILE PATH: ./Project_Board.md
============================================================
{\rtf1\ansi\ansicpg1252\cocoartf2867
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\froman\fcharset0 Times-Roman;\f1\froman\fcharset0 Times-Bold;\f2\fnil\fcharset0 AppleColorEmoji;
\f3\froman\fcharset0 TimesNewRomanPSMT;\f4\froman\fcharset0 Times-Italic;\f5\fnil\fcharset77 ZapfDingbatsITC;
}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;\red109\green109\blue109;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;\cssrgb\c50196\c50196\c50196;}
{\*\listtable{\list\listtemplateid1\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid1\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid1}
{\list\listtemplateid2\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid101\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid2}
{\list\listtemplateid3\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid201\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid3}
{\list\listtemplateid4\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid301\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid4}
{\list\listtemplateid5\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid401\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid5}
{\list\listtemplateid6\listhybrid{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat0\levelspace360\levelindent0{\*\levelmarker \{disc\}}{\leveltext\leveltemplateid501\'01\uc0\u8226 ;}{\levelnumbers;}\fi-360\li720\lin720 }{\listname ;}\listid6}
{\list\listtemplateid7\listhybrid{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace360\levelindent0{\*\levelmarker \{decimal\}}{\leveltext\leveltemplateid601\'01\'00;}{\levelnumbers\'01;}\fi-360\li720\lin720 }{\listname ;}\listid7}}
{\*\listoverridetable{\listoverride\listid1\listoverridecount0\ls1}{\listoverride\listid2\listoverridecount0\ls2}{\listoverride\listid3\listoverridecount0\ls3}{\listoverride\listid4\listoverridecount0\ls4}{\listoverride\listid5\listoverridecount0\ls5}{\listoverride\listid6\listoverridecount0\ls6}{\listoverride\listid7\listoverridecount0\ls7}}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\sa240\partightenfactor0

\f0\fs24 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 This is the 
\f1\b Master Project Board v100.0 (The Sovereign Archive)
\f0\b0 .\
As the 
\f1\b Project Master
\f0\b0 , I have compiled this terminal document to serve as the definitive "System of Record" for the EduMall Platform. It represents the successful completion of all 23 modules across 6 development phases. This board is designed for circulation among all stakeholders and AI personas to ensure the "Single Source of Truth" is preserved for the operational lifecycle.\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa321\partightenfactor0

\f2\fs48 \cf0 \strokec2 \uc0\u55356 \u57286 
\f1\b  PROJECT BOARD: EDUMALL SOVEREIGN OS (FINAL)\
\pard\pardeftab720\sa298\partightenfactor0

\f2\b0\fs36 \cf0 \uc0\u55357 \u56524 
\f1\b  TERMINAL STATUS: 100% COMPLETE\
\pard\pardeftab720\sa240\partightenfactor0

\fs24 \cf0 Infrastructure Status:
\f0\b0  PRODUCTION LIVE\uc0\u8232 
\f1\b Sovereignty Tier:
\f0\b0  ULTIMATE (Indestructible Architecture)\uc0\u8232 
\f1\b Jurisdiction:
\f0\b0  DPDP Act (India) 2023 Hardened\uc0\u8232 
\f1\b Audit Consensus:
\f0\b0  TRIPLE-Persona Sign-Off (Builder, Breaker, Guardian)\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u55357 \u57056 
\f1\b  ROADMAP PROGRESSION (MASTER PLAN FULFILLED)\

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth780\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2160
\clvertalc \clshdrawnil \clwWidth2362\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3990\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx6480
\clvertalc \clshdrawnil \clwWidth2749\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b0\fs24 \cf0 Phase\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Milestone\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Scope\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Result\cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth780\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2160
\clvertalc \clshdrawnil \clwWidth2362\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3990\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx6480
\clvertalc \clshdrawnil \clwWidth2749\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Phase 1
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 The Foundation
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Identity, RLS, Governance, API Gateway\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f3 \cf0 \uc0\u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 
\f0  100% 
\f2 \uc0\u9989 
\f0 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth780\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2160
\clvertalc \clshdrawnil \clwWidth2362\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3990\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx6480
\clvertalc \clshdrawnil \clwWidth2749\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Phase 2
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Core LMS Experience
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Video Treasury, Exams, Adaptive AI\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f3 \cf0 \uc0\u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 
\f0  100% 
\f2 \uc0\u9989 
\f0 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth780\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2160
\clvertalc \clshdrawnil \clwWidth2362\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3990\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx6480
\clvertalc \clshdrawnil \clwWidth2749\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Phase 3
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Foundational CRM
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Lead Vault, Atomic Conversion, Growth\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f3 \cf0 \uc0\u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 
\f0  100% 
\f2 \uc0\u9989 
\f0 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth780\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2160
\clvertalc \clshdrawnil \clwWidth2362\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3990\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx6480
\clvertalc \clshdrawnil \clwWidth2749\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Phase 4
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Communications Wing
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Multi-channel Voice, i18n, Recovery\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f3 \cf0 \uc0\u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 
\f0  100% 
\f2 \uc0\u9989 
\f0 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth780\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2160
\clvertalc \clshdrawnil \clwWidth2362\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3990\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx6480
\clvertalc \clshdrawnil \clwWidth2749\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Phase 5
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Field Ops & Mobile
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Mobile Sync, Center Hub, HR, FinOps\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f3 \cf0 \uc0\u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 
\f0  100% 
\f2 \uc0\u9989 
\f0 \cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth780\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2160
\clvertalc \clshdrawnil \clwWidth2362\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx4320
\clvertalc \clshdrawnil \clwWidth3990\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx6480
\clvertalc \clshdrawnil \clwWidth2749\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Phase 6
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Intelligence & Launch
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 BI, Global Grid, AI Socratic Tutor\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f3 \cf0 \uc0\u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 \u9619 
\f0  100% 
\f2 \uc0\u9989 
\f0 \cell \lastrow\row
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u55356 \u57307 \u65039 
\f1\b  PILLAR 1: SOVEREIGN IDENTITY & DATA GOVERNANCE\
\pard\pardeftab720\sa240\partightenfactor0

\f4\i\b0\fs24 \cf0 Established in Phases 1 & 6 \'97 Managed by The Guardian & The Builder
\f0\i0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls1\ilvl0\cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Multi-Tenancy (RLS):
\f0\b0  Row-Level Security isolation at the PostgreSQL core. Data leaks between schools are mathematically impossible.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b The Ironclad Engine:
\f0\b0  req.db transaction pinning with "Commit-then-Send" logic. Zero risk of data corruption or "Ghost Records."\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Consent Epoch Framework:
\f0\b0  Dynamic pii_consents and privacy_notices engine. Allows instantaneous legal withdrawal and notice supersession.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b The Nuclear Reset:
\f0\b0  Terminal session sanitization. Physically clears RAM and session variables (Tenant IDs, PGP keys) upon logout.\
\ls1\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Cryptographic Vaulting:
\f0\b0  Student PII, Faculty PII, and Exam Answer Keys are encrypted at rest using SQL-level PGP Symm (BYTEA).\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u55358 \u56800 
\f1\b  PILLAR 2: ADAPTIVE ACADEMICS & AI APEX\
\pard\pardeftab720\sa240\partightenfactor0

\f4\i\b0\fs24 \cf0 Established in Phases 2 & 6 \'97 Managed by The Advocate & The Builder
\f0\i0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls2\ilvl0\cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Academic ltree:
\f0\b0  Hierarchical content structure (Program > Course > Chapter). Protected by the "IP Shield" to prevent content piracy.\
\ls2\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Forensic Video Treasury:
\f0\b0  HMAC-signed streaming with Dynamic Forensic Watermarking (Overlaying IP/User/Timestamp).\
\ls2\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Exam Intelligence:
\f0\b0  High-integrity engine with Focus-Loss detection, resilient resumption logic, and Bloom's Taxonomy tagging.\
\ls2\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b The Socratic AI Tutor:
\f0\b0  LLM Knowledge Graph integration. Strictly grounded to authorized content. Physically prohibited from "hallucinating" or doing homework for students.\
\ls2\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Remedial Engine:
\f0\b0  Real-time Learning Gap detection. Suggests "Top-up" material based on explainable performance signals (Reason Codes).\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u55357 \u57057 \u65039 
\f1\b  PILLAR 3: THE BUSINESS FORTRESS & CRM\
\pard\pardeftab720\sa240\partightenfactor0

\f4\i\b0\fs24 \cf0 Established in Phase 3 \'97 Managed by The Guardian & The Breaker
\f0\i0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls3\ilvl0\cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Lead Vault:
\f0\b0  Secure ingestion with SHA256 phone-hashing for de-duplication. Lead names are stored as opaque binary blobs.\
\ls3\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Blind Trigram Search:
\f0\b0  Zero-knowledge search capability. Counselors can find leads by name fragments without the database ever seeing cleartext names.\
\ls3\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Atomic Conversion:
\f0\b0  Single-pulse migration from Lead to Student. Overwrites lead records with PURGED to minimize PII surface area.\
\ls3\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Minor-Safety Hard-Gate:
\f0\b0  Structural enforcement of DPDP Section 9. No minor can be enrolled without a verified link to a Guardian identity.\
\ls3\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b The Growth Engine:
\f0\b0  Salted HMAC referral attribution. Rewards promoters while keeping student identities invisible to third-party marketers.\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u55357 \u56546 
\f1\b  PILLAR 4: RESILIENT COMMUNICATIONS & SCALE\
\pard\pardeftab720\sa240\partightenfactor0

\f4\i\b0\fs24 \cf0 Established in Phase 4 \'97 Managed by The Breaker & The Advocate
\f0\i0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls4\ilvl0\cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Voice Backbone:
\f0\b0  Multi-channel template engine (WhatsApp/SMS/Email/In-App). Tenant-isolated opt-out logic.\
\ls4\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b The Fatigue Governor:
\f0\b0  Ethics-based throttle. Automatically caps non-essential nudges to 3 per day. Enforces Circadian Quiet Hours (10PM-7AM).\
\ls4\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b The Kill-Switch:
\f0\b0  Peer-review approval workflow. No single Admin can blast more than 100 users without a second authorized signature.\
\ls4\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Zombie Hunter Logic:
\f0\b0  Self-healing job dispatcher. Recovers pending notifications from system crashes within a 5-minute window.\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u55356 \u57303 \u65039 
\f1\b  PILLAR 5: FIELD OPERATIONS & PHYSICAL FRONT-LINE\
\pard\pardeftab720\sa240\partightenfactor0

\f4\i\b0\fs24 \cf0 Established in Phase 5 \'97 Managed by The Guardian & The Builder
\f0\i0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls5\ilvl0\cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Mobile Sovereign Sync:
\f0\b0  Two-phase commit sync. Prevents data loss for rural learners on unstable 2G/3G networks.\
\ls5\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b The In-Center Hub:
\f0\b0  TOTP-based QR rotation for physical attendance. Integrated with a 10-minute "Minor Absence" watchdog.\
\ls5\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Academic Continuity:
\f0\b0  Idempotent "Self-Healing" substitute teacher allocation logic. Ensures no classroom is left unattended.\
\ls5\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b FinOps Shield:
\f0\b0  Immutable asset ledger. Tracks "Chain-of-Custody" for tablets/hardware with haptic verification. Price-tampering is physically blocked.\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u55356 \u57104 
\f1\b  PILLAR 6: GLOBAL GRID & STRATEGIC WISDOM\
\pard\pardeftab720\sa240\partightenfactor0

\f4\i\b0\fs24 \cf0 Established in Phase 6 \'97 Managed by The Guardian & The Breaker
\f0\i0 \
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls6\ilvl0\cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b k-Anonymity (N=5):
\f0\b0  Data warehouse privacy standard. Prevents "Identification by Inference" in aggregate strategic reporting.\
\ls6\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b The Residency Gate:
\f0\b0  Border-aware middleware. Physically terminates cross-node requests if they violate local data sovereignty laws.\
\ls6\ilvl0\kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	\uc0\u8226 	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 [
\f5 \uc0\u10003 
\f0 ] 
\f1\b Scoped Interoperability:
\f0\b0  Gated access for LTI/SCORM partners. PII Scrubber middleware strips identity before sending data to external tools.\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u9878 \u65039 
\f1\b  COMPLIANCE & SECURITY DASHBOARD (TERMINAL AUDIT)\

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrt\brdrnil \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1733\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth931\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6857\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f0\b0\fs24 \cf0 Standard\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Status\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Implementation\cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1733\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth931\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6857\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 DPDP Section 8
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2 \cf0 \uc0\u55357 \u57314 
\f0  PASS\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Accuracy, Security, and Forensic Audit Trails enabled.\cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1733\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth931\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6857\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 DPDP Section 9
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2 \cf0 \uc0\u55357 \u57314 
\f0  PASS\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Verifiable Parental Consent & Minor Hard-Gates active.\cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1733\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth931\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6857\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 DPDP Section 12
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2 \cf0 \uc0\u55357 \u57314 
\f0  PASS\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 "Right to Erasure" via One-Way Warehouse Scrubbing.\cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1733\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth931\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6857\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 WCAG 2.1 AA
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2 \cf0 \uc0\u55357 \u57314 
\f0  PASS\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 High-contrast theme (#1A237E), rem-scaling, and screen-reader labels.\cell \row

\itap1\trowd \taflags0 \trgaph108\trleft-108 \trbrdrl\brdrnil \trbrdrt\brdrnil \trbrdrr\brdrnil 
\clvertalc \clshdrawnil \clwWidth1733\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx2880
\clvertalc \clshdrawnil \clwWidth931\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx5760
\clvertalc \clshdrawnil \clwWidth6857\clftsWidth3 \clmart10 \clmarl10 \clmarb10 \clmarr10 \clbrdrt\brdrnil \clbrdrl\brdrnil \clbrdrb\brdrnil \clbrdrr\brdrnil \clpadt20 \clpadl20 \clpadb20 \clpadr20 \gaph\cellx8640
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f1\b \cf0 Zero-Trust
\f0\b0 \cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0

\f2 \cf0 \uc0\u55357 \u57314 
\f0  PASS\cell 
\pard\intbl\itap1\pardeftab720\partightenfactor0
\cf0 Every request verified via Node-Affinity, RLS, and OAuth.\cell \lastrow\row
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa298\partightenfactor0

\f2\fs36 \cf0 \strokec2 \uc0\u55357 \u56550 
\f1\b  FINAL MASTER ARCHIVE INSTRUCTIONS\
\pard\tx220\tx720\pardeftab720\li720\fi-720\sa240\partightenfactor0
\ls7\ilvl0
\fs24 \cf0 \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	1	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Repository:
\f0\b0  Branch main is now 
\f1\b LOCKED
\f0\b0 . Current tag: v1.0.0-PROD.\
\ls7\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	2	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Secrets:
\f0\b0  Master PGP Keys, salts, and EMERGENCY_PROTOCOL.md are secured in the Project Executive's offline vault.\
\ls7\ilvl0
\f1\b \kerning1\expnd0\expndtw0 \outl0\strokewidth0 {\listtext	3	}\expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Sentinels:
\f0\b0  The AI Personas are now transitioned to 
\f1\b Sovereignty Sentinels
\f0\b0 . Use the Sovereign Health Check API for weekly integrity verification.\
\pard\pardeftab720\partightenfactor0
\cf3 \strokec3 \
\pard\pardeftab720\sa240\partightenfactor0

\f1\b \cf0 \strokec2 Final Project Master Decree:
\f0\b0 \uc0\u8232 The construction of the EduMall Sovereign OS is complete. The system is resilient, the law is hardcoded, and the user is protected.\

\f1\b MISSION ACCOMPLISHED.
\f0\b0 \
}

============================================================
FILE PATH: ./SRS.md
============================================================
{\rtf1\ansi\ansicpg1252\cocoartf2867
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Arial-BoldMT;\f1\froman\fcharset0 Times-Bold;\f2\fswiss\fcharset0 ArialMT;
\f3\froman\fcharset0 Times-Roman;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 EduMall SRS v13 \'96 MODULE 1
\f1\fs48 \

\f0\fs61\fsmilli30667 USER, ROLE & ACCESS MANAGEMENT SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 1.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 1 defines the complete User, Role, Identity, and Access Management framework\uc0\u8232  for the EduMall ecosystem. This module governs how users are created, authenticated,\u8232  authorized, monitored, and governed across all EduMall products, DiLCe centres,\u8232  schools, colleges, institutes, and partner platforms.\u8232 \u8232  This module is foundational and applies to all other modules.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.2 User Categories
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall supports multiple user categories:\uc0\u8232 \u8232  \'95 Students\u8232  \'95 Parents / Guardians\u8232  \'95 Teachers / Mentors\u8232  \'95 Counselors\u8232  \'95 Heads of Department (HOD)\u8232  \'95 Centre Incharges\u8232  \'95 School / Institute Admins\u8232  \'95 DiLCe Centre Admins\u8232  \'95 Referral Promoters\u8232  \'95 Content Creators\u8232  \'95 EduMall HQ Admins\u8232  \'95 System Auditors\u8232 \u8232  Each user belongs to one or more organizations (tenant-aware).
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.3 Role-Based Access Control (RBAC)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Access is governed by role-based and permission-based controls.\uc0\u8232 \u8232  Key Principles:\u8232  \'95 Least-privilege access\u8232  \'95 Explicit permission grants\u8232  \'95 Hierarchical role inheritance\u8232  \'95 Context-aware permissions (course, batch, centre)\u8232 \u8232  Roles can be:\u8232  \'95 System-defined (core roles)\u8232  \'95 Tenant-defined (custom roles)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.4 Authentication Methods
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supported authentication methods include:\uc0\u8232 \u8232  \'95 Email + password\u8232  \'95 Mobile OTP\u8232  \'95 Passwordless login (OTP / magic link)\u8232  \'95 Institution SSO (future)\u8232  \'95 Device-based authentication (optional)\u8232 \u8232  Security rules:\u8232  \'95 Multi-factor authentication for admins\u8232  \'95 Session timeout policies\u8232  \'95 Concurrent login limits
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.5 Parent\'96Student Relationship Model
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports explicit parent\'96student binding:\uc0\u8232 \u8232  \'95 One parent \u8594  multiple students\u8232  \'95 One student \u8594  multiple parents (optional)\u8232  \'95 Parent access is read-only by default\u8232  \'95 Parent permissions are configurable\u8232 \u8232  Parents cannot:\u8232  \'95 Submit assessments\u8232  \'95 Modify learning paths\u8232  \'95 Interact as students
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.6 Organization & Tenant Association
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Users may belong to:\uc0\u8232 \u8232  \'95 Schools\u8232  \'95 Colleges\u8232  \'95 Institutes\u8232  \'95 DiLCe Centres\u8232  \'95 EduMall HQ\u8232 \u8232  A user can:\u8232  \'95 Belong to multiple tenants\u8232  \'95 Have different roles per tenant\u8232  \'95 Have isolated data visibility per tenant
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.7 Referral Promoter Role
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Referral Promoters are special users who can onboard learners through\uc0\u8232  QR codes or referral links.\u8232 \u8232  Capabilities:\u8232  \'95 Generate referral QR codes\u8232  \'95 Track leads and conversions\u8232  \'95 View referral performance dashboards\u8232 \u8232  Restrictions:\u8232  \'95 No access to academic data\u8232  \'95 No access to student performance
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.8 User Lifecycle Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 User lifecycle stages:\uc0\u8232 \u8232  \'95 Invited\u8232  \'95 Registered\u8232  \'95 Active\u8232  \'95 Suspended\u8232  \'95 Archived\u8232 \u8232  Lifecycle events trigger:\u8232  \'95 Notifications\u8232  \'95 Access revocation\u8232  \'95 Audit logs
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.9 Permissions & Overrides
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Permissions can be overridden by:\uc0\u8232 \u8232  \'95 Teacher (limited scope)\u8232  \'95 HOD (academic override)\u8232  \'95 Centre Incharge (operational override)\u8232  \'95 EduMall HQ (global override)\u8232 \u8232  All overrides require:\u8232  \'95 Justification\u8232  \'95 Audit trail
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.10 Data Security & Privacy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security principles:\uc0\u8232 \u8232  \'95 DPDP-compliant storage\u8232  \'95 Encrypted credentials\u8232  \'95 Role-based data masking\u8232  \'95 Activity logs for sensitive actions\u8232 \u8232  Users can:\u8232  \'95 View their data\u8232  \'95 Request corrections\u8232  \'95 Request deactivation
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.11 Audit & Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system maintains:\uc0\u8232 \u8232  \'95 Login audit logs\u8232  \'95 Permission change logs\u8232  \'95 Override action logs\u8232  \'95 Referral attribution logs\u8232 \u8232  Auditors have read-only access.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.12 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Support millions of users\u8232  \'95 Horizontal scaling\u8232  \'95 Stateless authentication services\u8232  \'95 High availability architecture
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.13 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Duplicate accounts\u8232  \'95 Role conflicts\u8232  \'95 Orphaned parent/student links\u8232  \'95 Cross-tenant access violations\u8232  \'95 Session hijack attempts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 1.14 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module is a dependency for all other modules including:\uc0\u8232  \'95 Course Management\u8232  \'95 Live Classroom\u8232  \'95 Assessments\u8232  \'95 AI Engine\u8232  \'95 Payments\u8232  \'95 Referral Engine
\f3\fs24 \

\f2\fs29\fsmilli14667 \'a0
\f3\fs24 \

\f2\fs29\fsmilli14667 \'a0
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 2
\f1\fs48 \

\f0\fs61\fsmilli30667 TENANT, WHITE-LABEL & MULTI-ORGANIZATION MANAGEMENT SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 2.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 2 defines the Tenant, White\uc0\u8209 Label, and Multi\u8209 Organization Management framework\u8232  for the EduMall ecosystem. This module enables EduMall to operate as a unified yet\u8232  logically isolated platform supporting schools, colleges, institutes, DiLCe centres,\u8232  NGOs, franchises, and corporate partners.\u8232 \u8232  This module ensures branding independence, data isolation, governance control,\u8232  and scalable onboarding of organizations.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.2 Definition of Tenant
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 A Tenant represents an independent organizational entity operating on EduMall.\uc0\u8232 \u8232  A tenant can be:\u8232  \'95 School\u8232  \'95 College / University\u8232  \'95 Coaching Institute\u8232  \'95 DiLCe Centre\u8232  \'95 NGO / CSR Partner\u8232  \'95 Corporate / Industry Partner\u8232  \'95 EduMall Internal Unit\u8232 \u8232  Each tenant operates in an isolated logical environment while sharing common\u8232  platform infrastructure.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.3 Tenant Hierarchy & Relationships
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports hierarchical tenant relationships:\uc0\u8232 \u8232  \'95 EduMall HQ (Root Tenant)\u8232  \'95 Regional / State Level Tenants (optional)\u8232  \'95 DiLCe Master Franchise\u8232  \'95 DiLCe Centre\u8232  \'95 School / Institute Tenant\u8232 \u8232  Rules:\u8232  \'95 Parent tenant can view aggregated data of child tenants\u8232  \'95 Child tenants cannot view parent or sibling data\u8232  \'95 Policies can flow downward but not upward
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.4 White\uc0\u8209 Label Capabilities
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Each tenant may operate as a white\uc0\u8209 label instance with configurable branding:\u8232 \u8232  \'95 Logo, name, favicon\u8232  \'95 Color palette & typography\u8232  \'95 Custom domain / sub\u8209 domain\u8232  \'95 App branding (future)\u8232  \'95 Certificate & report branding\u8232 \u8232  White\u8209 label settings are isolated per tenant and do not affect others.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.5 Tenant Configuration Parameters
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Each tenant can configure:\uc0\u8232 \u8232  \'95 Academic programs enabled\u8232  \'95 Course categories allowed\u8232  \'95 Languages supported\u8232  \'95 Learning modes (self\u8209 paced, mentor\u8209 led, hybrid)\u8232  \'95 Subscription plans & seat limits (as allowed)\u8232  \'95 Referral & QR campaign permissions\u8232 \u8232  All configurations are subject to EduMall HQ policy constraints.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.6 Data Isolation & Security
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Tenant data isolation principles:\uc0\u8232 \u8232  \'95 Logical data separation at database level\u8232  \'95 Enforced tenant ID in all queries\u8232  \'95 No cross\u8209 tenant data access by default\u8232  \'95 Aggregation allowed only for authorized parent tenants\u8232 \u8232  Security measures:\u8232  \'95 Encrypted tenant data\u8232  \'95 Isolated analytics views\u8232  \'95 Audit trails for cross\u8209 tenant actions
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.7 Tenant Lifecycle Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Tenant lifecycle stages:\uc0\u8232 \u8232  \'95 Prospect\u8232  \'95 Onboarded\u8232  \'95 Active\u8232  \'95 Suspended\u8232  \'95 Archived\u8232 \u8232  Lifecycle actions include:\u8232  \'95 Provisioning of tenant space\u8232  \'95 Branding activation\u8232  \'95 Default role creation\u8232  \'95 Data archival on termination
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.8 Role & User Association with Tenants
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Users may belong to:\uc0\u8232 \u8232  \'95 Single tenant\u8232  \'95 Multiple tenants with different roles\u8232 \u8232  Rules:\u8232  \'95 Roles are tenant\u8209 scoped\u8232  \'95 Permissions do not automatically transfer across tenants\u8232  \'95 Referral promoters may be linked to multiple tenants (with consent)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.9 Academic & Operational Governance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance controls include:\uc0\u8232 \u8232  \'95 Academic policy enforcement (curriculum, assessments)\u8232  \'95 Teacher assignment & approval\u8232  \'95 Batch creation rules\u8232  \'95 Quality monitoring thresholds\u8232 \u8232  Operational governance includes:\u8232  \'95 Seat usage limits\u8232  \'95 Subscription compliance\u8232  \'95 Referral misuse detection\u8232  \'95 Audit enforcement
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.10 Reporting & Analytics Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Analytics visibility rules:\uc0\u8232 \u8232  \'95 Tenant sees its own data\u8232  \'95 Parent tenant sees aggregated child data\u8232  \'95 EduMall HQ sees platform\u8209 wide anonymized data\u8232 \u8232  Reports include:\u8232  \'95 Enrollment trends\u8232  \'95 Performance KPIs\u8232  \'95 Teacher effectiveness\u8232  \'95 Referral performance (tenant\u8209 scoped)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.11 Integration with Other Modules
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 2 integrates tightly with:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 3 \'96 Course Management\u8232  \'95 Module 7 \'96 Learning Intelligence Engine\u8232  \'95 Module 9 \'96 Communication Engine\u8232  \'95 Module 11 \'96 Subscription & Revenue Engine\u8232  \'95 Module 17 \'96 Referral & QR Engine
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.12 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Support tens of thousands of tenants\u8232  \'95 Fast tenant provisioning\u8232  \'95 Metadata\u8209 driven configuration\u8232  \'95 Horizontal scaling without tenant coupling
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.13 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Tenant misconfiguration\u8232  \'95 Overlapping branding assets\u8232  \'95 Tenant suspension with active learners\u8232  \'95 Cross\u8209 tenant referral conflicts\u8232  \'95 Tenant merge or split requests
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.14 Compliance & Audit
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Compliance requirements:\uc0\u8232 \u8232  \'95 DPDP\u8209 compliant data handling\u8232  \'95 Tenant\u8209 level audit logs\u8232  \'95 Branding misuse detection\u8232  \'95 Periodic compliance reporting
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 2.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232  \'95 Module 1 \'96 Identity & Access Management\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Data isolation\u8232  \'95 Branding context\u8232  \'95 Governance boundaries
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 3
\f1\fs48 \

\f0\fs61\fsmilli30667 COURSE, CURRICULUM & CONTENT STRUCTURE MANAGEMENT SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 3.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 3 defines the complete framework for creating, structuring, governing, and delivering\uc0\u8232  courses and curricula across the EduMall ecosystem. This module supports academic (K\'9612),\u8232  competitive exams, skill programs, higher education, and professional learning.\u8232 \u8232  It ensures curriculum alignment, modular content design, AI-readiness, and controlled\u8232  access across tenants, DiLCe centres, schools, colleges, and institutes.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.2 Course Hierarchy Model
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall follows a standardized hierarchical academic structure:\uc0\u8232 \u8232  \'95 Program (e.g., Class 9 CBSE / JEE Foundation / Skillopedia AI)\u8232  \'95 Course (e.g., Physics / Mathematics / Spoken English)\u8232  \'95 Subject (if applicable)\u8232  \'95 Chapter / Unit\u8232  \'95 Topic\u8232  \'95 Sub-topic / Concept\u8232 \u8232  This hierarchy enables:\u8232  \'95 Precise tagging of content & questions\u8232  \'95 AI-driven diagnostics & recommendations\u8232  \'95 Adaptive learning paths\u8232  \'95 Granular analytics
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.3 Course Categories Supported
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The platform supports multiple course categories:\uc0\u8232 \u8232  A. Academic (K\'9612)\u8232  \'95 Boards: CBSE, ICSE, GSEB, State Boards, Cambridge\u8232  \'95 Languages: English, Hindi, regional languages\u8232 \u8232  B. Competitive Exams\u8232  \'95 JEE, NEET, UPSC, GPSC, NDA, CLAT, CUET, SAT\u8232 \u8232  C. Skill & Professional Programs\u8232  \'95 AI, Robotics, Coding, Data Science\u8232  \'95 Soft skills, communication, leadership\u8232 \u8232  D. Higher Education & Certification\u8232  \'95 UG / PG support courses\u8232  \'95 Industry-aligned certification programs
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.4 Curriculum Governance & Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Curriculum governance ensures academic integrity:\uc0\u8232 \u8232  \'95 Board-aligned syllabus mapping\u8232  \'95 Versioned curriculum updates\u8232  \'95 Approval workflows (Teacher \u8594  HOD \u8594  Centre \u8594  HQ)\u8232  \'95 Academic session locking\u8232 \u8232  Curriculum changes:\u8232  \'95 Are logged\u8232  \'95 Do not retroactively affect completed cohorts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.5 Content Types Supported
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports rich, multi-modal content:\uc0\u8232 \u8232  \'95 Video lectures (studio / classroom)\u8232  \'95 PDF notes & textbooks\u8232  \'95 Slides & presentations\u8232  \'95 SCORM 1.2 / 2004 packages\u8232  \'95 H5P interactive content\u8232  \'95 Images, diagrams, simulations\u8232  \'95 External URLs (controlled)\u8232 \u8232  All content is versioned and tagged.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.6 Content Access & Protection Rules
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Default content access rules:\uc0\u8232 \u8232  \'95 Non-downloadable\u8232  \'95 Non-copyable\u8232  \'95 Watermarked (user & tenant)\u8232  \'95 Time-bound access (if configured)\u8232 \u8232  Course creators may:\u8232  \'95 Enable downloads selectively\u8232  \'95 Allow offline access windows\u8232  \'95 Control print permissions
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.7 Teacher Authoring & Instigating Content
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Teachers can create structured learning material including:\uc0\u8232 \u8232  \'95 Core explanations\u8232  \'95 Instigating / probing questions\u8232  \'95 Visual prompts\u8232  \'95 Misconception markers\u8232  \'95 Teaching checkpoints\u8232 \u8232  This standardizes teaching quality while preserving teacher autonomy.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.8 Student Interaction with Content
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Students may:\uc0\u8232 \u8232  \'95 Pause videos and generate notes\u8232  \'95 Add time-stamped annotations on videos\u8232  \'95 Highlight and comment on PDFs\u8232  \'95 Maintain private, searchable notes\u8232 \u8232  Annotations are:\u8232  \'95 Student-owned\u8232  \'95 Non-shareable by default\u8232  \'95 Synced across devices
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.9 Assignment & Practice Integration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Each course unit can include:\uc0\u8232 \u8232  \'95 Assignments\u8232  \'95 Practice sets\u8232  \'95 Class-end diagnostics\u8232  \'95 Weekly tests\u8232  \'95 Chapter tests\u8232  \'95 PYQs\u8232  \'95 Full-length & mock tests\u8232 \u8232  All questions are tagged with:\u8232  \'95 Subject, grade, chapter, topic\u8232  \'95 Cognitive type\u8232  \'95 Difficulty level\u8232 \u8232  Question metadata feeds AI analysis.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.10 Course Delivery Modes
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Courses can be delivered as:\uc0\u8232 \u8232  \'95 Self-paced (default)\u8232  \'95 Mentor-monitored\u8232  \'95 Live + recorded\u8232  \'95 Hybrid (DiLCe)\u8232 \u8232  Delivery mode defines:\u8232  \'95 Access rules\u8232  \'95 Progress control\u8232  \'95 Assessment frequency
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.11 Progression & Unlock Logic
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Courses may enforce progression rules:\uc0\u8232 \u8232  \'95 Chapter unlock after minimum mastery bar\u8232  \'95 Teacher-defined or AI-suggested thresholds\u8232  \'95 Exam-target-specific bars (e.g., 90%+)\u8232 \u8232  Students cannot progress until conditions are met\u8232  (unless overridden by authorized roles).
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.12 Course Versioning & Archival
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Versioning rules:\uc0\u8232 \u8232  \'95 Each curriculum update creates a new version\u8232  \'95 Existing learners remain on assigned version\u8232  \'95 Archived courses are read-only\u8232  \'95 Historical performance remains intact
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.13 AI Readiness & Integration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 3 is AI-ready and integrates with:\uc0\u8232 \u8232  \'95 Module 7 \'96 Learning Intelligence Engine\u8232  \'95 Module 14 \'96 Intelligent Content & Assignment Engine\u8232 \u8232  AI uses course structure for:\u8232  \'95 Adaptive paths\u8232  \'95 Remedials\u8232  \'95 Content recommendations\u8232  \'95 Knowledge graph construction
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.14 Reporting & Analytics
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Analytics generated include:\uc0\u8232 \u8232  \'95 Course enrollment & completion\u8232  \'95 Topic-level mastery trends\u8232  \'95 Content effectiveness\u8232  \'95 Drop-off points\u8232 \u8232  Reports are visible based on tenant and role permissions.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.15 Compliance, Security & Audit
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Compliance measures:\uc0\u8232 \u8232  \'95 DPDP-aligned content access logs\u8232  \'95 IP protection mechanisms\u8232  \'95 Audit trails for content changes\u8232  \'95 Misuse detection (mass downloads, sharing attempts)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.16 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Support millions of content assets\u8232  \'95 CDN-based delivery\u8232  \'95 Metadata-driven content retrieval\u8232  \'95 Tenant-isolated content indexing
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.17 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Curriculum mid-session updates\u8232  \'95 Content rollback requests\u8232  \'95 Unauthorized access attempts\u8232  \'95 Broken content references\u8232  \'95 Offline access expiry
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 3.18 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 2 \'96 Tenant & White-Label Management\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Learning delivery\u8232  \'95 Assessment mapping\u8232  \'95 AI intelligence
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 4
\f1\fs48 \

\f0\fs61\fsmilli30667 LIVE, HYBRID & DiLCe CLASSROOM DELIVERY SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 4.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 4 defines the Live, Hybrid, and DiLCe Classroom Delivery System for EduMall.\uc0\u8232  This module enables synchronous and asynchronous teaching across physical classrooms,\u8232  DiLCe centres, studios, and remote learners.\u8232 \u8232  It is designed specifically for India-scale, last-mile education, supporting blended,\u8232  hybrid, and broadcast teaching models with strong governance, analytics, and AI feedback.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.2 Classroom Delivery Models Supported
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall supports the following delivery models:\uc0\u8232 \u8232  A. Fully Online Classroom\u8232  \'95 Teacher and students online\u8232 \u8232  B. Physical Classroom\u8232  \'95 Teacher and students in the same location\u8232 \u8232  C. Hybrid Classroom (DiLCe Model)\u8232  \'95 Teacher remote or in studio\u8232  \'95 Students physically present at DiLCe\u8232  \'95 Classroom assistant present\u8232 \u8232  D. Broadcast Classroom\u8232  \'95 One teacher teaching multiple DiLCe centres simultaneously\u8232 \u8232  E. Studio-to-Classroom Model\u8232  \'95 Teacher in studio\u8232  \'95 Students in multiple classrooms + online learners
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.3 DiLCe Smart Classroom Architecture
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 A standard DiLCe classroom includes:\uc0\u8232 \u8232  \'95 Large digital display / smart board\u8232  \'95 HD webcam covering classroom\u8232  \'95 Teacher audio output system\u8232  \'95 Classroom assistant wireless microphone\u8232  \'95 Stable internet with failover (where available)\u8232 \u8232  This architecture enables two-way interaction and classroom capture.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.4 Classroom Assistant Role
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The Classroom Assistant is a critical role in DiLCe delivery.\uc0\u8232 \u8232  Responsibilities:\u8232  \'95 Mark physical attendance\u8232  \'95 Manage student microphones\u8232  \'95 Facilitate questions\u8232  \'95 Handle technical coordination\u8232  \'95 Act as invigilator (for tests)\u8232 \u8232  Assistant actions are logged and auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.5 Live Class Scheduling & Configuration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Live classes can be configured with:\uc0\u8232 \u8232  \'95 Course, batch, teacher\u8232  \'95 Delivery model\u8232  \'95 Duration & recurrence\u8232  \'95 Attendance rules\u8232  \'95 Recording rules\u8232 \u8232  Scheduling integrates with:\u8232  \'95 Student calendars\u8232  \'95 Teacher dashboards\u8232  \'95 Communication engine (Module 9)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.6 Video Conferencing & Streaming Integration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supported integrations include:\uc0\u8232 \u8232  \'95 BigBlueButton\u8232  \'95 Zoom\u8232  \'95 Google Meet\u8232  \'95 Microsoft Teams\u8232 \u8232  Rules:\u8232  \'95 Platform selectable per class\u8232  \'95 Failover supported\u8232  \'95 API-based control for recording & attendance
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.7 Attendance Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Attendance capture methods:\uc0\u8232 \u8232  \'95 Auto attendance (online join)\u8232  \'95 Manual attendance (assistant)\u8232  \'95 QR-based classroom attendance\u8232  \'95 Late-join handling\u8232 \u8232  Attendance feeds into:\u8232  \'95 Dashboards\u8232  \'95 AI learning intelligence\u8232  \'95 Parent alerts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.8 Session Recording & Access Control
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Recording rules:\uc0\u8232 \u8232  \'95 Auto-record by default\u8232  \'95 Secure storage\u8232  \'95 Watermarked playback\u8232  \'95 Batch-based access\u8232  \'95 Time-bound availability\u8232 \u8232  Recordings are:\u8232  \'95 Non-downloadable by default\u8232  \'95 Audit-logged for access
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.9 Student Interaction & Engagement
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Interaction tools include:\uc0\u8232 \u8232  \'95 Raise hand\u8232  \'95 Chat (moderated)\u8232  \'95 Polls\u8232  \'95 Live quizzes\u8232  \'95 Classroom Q&A via assistant\u8232 \u8232  Engagement data feeds AI analysis.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.10 Class-End Diagnostics Integration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Each live class can trigger:\uc0\u8232 \u8232  \'95 Short diagnostic assessment\u8232  \'95 Topic-level feedback\u8232  \'95 Teaching effectiveness signals\u8232 \u8232  Diagnostics integrate with:\u8232  \'95 Module 5 \'96 Assessment\u8232  \'95 Module 7 \'96 Learning Intelligence
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.11 Teaching Quality & Feedback Loop
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system detects:\uc0\u8232 \u8232  \'95 Topic-level mass confusion\u8232  \'95 Engagement drops\u8232  \'95 Attendance anomalies\u8232 \u8232  Signals are sent to:\u8232  \'95 Teacher dashboards\u8232  \'95 HOD dashboards\u8232  \'95 Centre incharge dashboards\u8232 \u8232  Corrective actions can be initiated.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.12 Security, Privacy & Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 Encrypted streams\u8232  \'95 Role-based join permissions\u8232  \'95 Classroom-level access control\u8232  \'95 DPDP-compliant recording storage\u8232 \u8232  Unauthorized access attempts are logged.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.13 Scalability & Reliability
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 One-to-many broadcasting\u8232  \'95 Regional streaming optimization\u8232  \'95 Network failure recovery\u8232  \'95 Offline fallback (recording-based)\u8232 \u8232  Supports large-scale simultaneous classes.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.14 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Teacher network drop\u8232  \'95 Classroom power failure\u8232  \'95 Assistant absence\u8232  \'95 Partial recording loss\u8232  \'95 Attendance sync conflicts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 4.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 2 \'96 Tenant Management\u8232  \'95 Module 3 \'96 Course Management\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Live learning delivery\u8232  \'95 Engagement data\u8232  \'95 Teaching analytics
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 5
\f1\fs48 \

\f0\fs61\fsmilli30667 ASSESSMENT, EXAMINATION & DIAGNOSTIC INTELLIGENCE SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 5.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 5 defines the Assessment, Examination, and Diagnostic Intelligence System of EduMall.\uc0\u8232  This module governs how student learning is measured, diagnosed, analyzed, and fed back\u8232  into teaching correction and adaptive learning.\u8232 \u8232  It supports academic exams, competitive exams, skill assessments, diagnostics,\u8232  and continuous evaluation across EduMall, DiLCe centres, schools, and institutes.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.2 Assessment Types Supported
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The platform supports multiple assessment types:\uc0\u8232 \u8232  A. Diagnostic Assessments\u8232  \'95 Class-entry diagnostics\u8232  \'95 Class-end diagnostics\u8232  \'95 Topic diagnostics\u8232 \u8232  B. Formative Assessments\u8232  \'95 Daily practice questions\u8232  \'95 Assignments\u8232  \'95 Weekly tests\u8232 \u8232  C. Summative Assessments\u8232  \'95 Chapter tests\u8232  \'95 Unit tests\u8232  \'95 Monthly tests\u8232  \'95 Term exams\u8232 \u8232  D. Competitive Exam Assessments\u8232  \'95 PYQs\u8232  \'95 Part-length tests\u8232  \'95 Full-length mock tests\u8232  \'95 Exam-specific simulations
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.3 Question Bank Architecture
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The question bank is centralized, versioned, and AI-assisted.\uc0\u8232 \u8232  Each question is tagged with:\u8232  \'95 Subject, grade, chapter, topic, sub-topic\u8232  \'95 Question type (fact, concept, application, numerical, skill)\u8232  \'95 Difficulty level (normal, moderate, advanced, HOTS, complex)\u8232  \'95 Exam relevance (board / exam-specific)\u8232 \u8232  Difficulty levels are dynamically recalibrated using response analytics.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.4 Question Difficulty Intelligence
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system continuously recalculates question difficulty based on:\uc0\u8232 \u8232  \'95 Attempt count\u8232  \'95 Correct response percentage\u8232  \'95 Time taken\u8232  \'95 Error patterns\u8232 \u8232  Rules:\u8232  \'95 \u8805 80% correct \u8594  Easy\u8232  \'95 30\'9679% correct \u8594  Moderate\u8232  \'95 \u8804 20% correct \u8594  Difficult\u8232 \u8232  AI flags:\u8232  \'95 Ambiguous questions\u8232  \'95 Misleading questions\u8232  \'95 Outdated questions
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.5 Test Creation & Configuration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Teachers and admins can configure tests with:\uc0\u8232 \u8232  \'95 Question selection rules\u8232  \'95 Mixed difficulty distribution\u8232  \'95 Cognitive type distribution\u8232  \'95 Time limits\u8232  \'95 Negative marking (where applicable)\u8232 \u8232  Test patterns can be saved and reused.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.6 Delivery Modes
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Assessments can be delivered via:\uc0\u8232 \u8232  \'95 Online (web/app)\u8232  \'95 Offline (DiLCe supervised)\u8232  \'95 Hybrid (online + physical invigilation)\u8232 \u8232  Delivery mode determines:\u8232  \'95 Proctoring level\u8232  \'95 Attendance linkage\u8232  \'95 Integrity controls
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.7 Proctoring & Integrity Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Integrity mechanisms include:\uc0\u8232 \u8232  \'95 Device binding\u8232  \'95 Browser restrictions\u8232  \'95 Camera monitoring (optional)\u8232  \'95 AI anomaly detection\u8232  \'95 Physical invigilation (DiLCe)\u8232 \u8232  All integrity events are logged and auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.8 Subjective Answer Evaluation (Integrated)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports AI-assisted evaluation of subjective answers:\uc0\u8232 \u8232  \'95 Content accuracy\u8232  \'95 Concept coverage\u8232  \'95 Answer structure\u8232  \'95 Grammar & language\u8232  \'95 Vocabulary usage\u8232 \u8232  Evaluation is rubric-based with teacher override and detailed reports.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.9 Class-End Diagnostic Feedback Loop
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 After each class:\uc0\u8232 \u8232  \'95 Short diagnostic test is triggered\u8232  \'95 Topic-wise and level-wise analysis generated\u8232 \u8232  Decision logic:\u8232  \'95 Mass failure \u8594  Teaching issue\u8232  \'95 Isolated failure \u8594  Learning issue\u8232 \u8232  Signals are sent to:\u8232  \'95 Teachers\u8232  \'95 HODs\u8232  \'95 Centre Incharges\u8232  \'95 AI Learning Engine
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.10 Reports & Analytics
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reports generated include:\uc0\u8232 \u8232  \'95 Student-level micro analysis\u8232  \'95 Batch-level performance\u8232  \'95 Topic mastery heatmaps\u8232  \'95 Teaching effectiveness indicators\u8232  \'95 Exam readiness indices\u8232 \u8232  Reports are role- and tenant-aware.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.11 Integration with Learning Intelligence
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Assessment outputs feed directly into:\uc0\u8232 \u8232  \'95 Module 7 \'96 Learning Intelligence Engine\u8232  \'95 Module 8 \'96 Dashboards\u8232  \'95 Module 14 \'96 Remedials & top-up content\u8232 \u8232  No assessment data remains isolated.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.12 Security, Compliance & Audit
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 Encrypted question storage\u8232  \'95 Secure test delivery\u8232  \'95 DPDP-compliant data retention\u8232  \'95 Audit logs for:\u8232  \'a0 - Test creation\u8232  \'a0 - Evaluation\u8232  \'a0 - Overrides
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.13 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Support millions of attempts\u8232  \'95 Peak-load handling during exams\u8232  \'95 Horizontal scaling\u8232  \'95 Cached analytics summaries
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.14 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Network disruption during test\u8232  \'95 Power failure at centre\u8232  \'95 Partial submissions\u8232  \'95 Re-evaluation requests\u8232  \'95 Integrity disputes
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 3 \'96 Course & Curriculum\u8232  \'95 Module 4 \'96 Live Class Delivery\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 AI decisions\u8232  \'95 Dashboards\u8232  \'95 Adaptive learning
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 Module 5A
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 Question Taxonomy & Cognitive Classification Framework
\f1\fs36 \

\f0\fs45\fsmilli22667 5A.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module formally defines the standard framework for classifying questions across all assessments in the EduMall ecosystem. It ensures consistency, scalability, and AI-readiness for question creation, test generation, analytics, and adaptive learning.\uc0\u8232 \u8232  This module acts as an addendum to SRS v13 and applies to:\u8232  - Module 5 (Assessment & Test Engine)\u8232  - Module 7 (AI Learning Engine)\u8232  - Module 8 (Dashboards & Analytics)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.2 Question Type Classification
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Each question must be assigned exactly one Question Type. Question type determines rendering, evaluation logic, UI behavior, and analytics.\uc0\u8232 \u8232  Objective Question Types:\u8232  - MCQ_SINGLE (One correct option)\u8232  - MCQ_MULTIPLE (Multiple correct options)\u8232  - TRUE_FALSE\u8232  - ASSERTION_REASONING\u8232  - FILL_IN_THE_BLANK\u8232 \u8232  Competitive / Advanced Question Types:\u8232  - NUMERICAL (integer/decimal with tolerance)\u8232  - MATRIX_MATCH\u8232  - CASE_STUDY (passage with sub-questions)\u8232  - PASSAGE_BASED (reading comprehension)\u8232 \u8232  Skill & Psychometric Question Types:\u8232  - SITUATIONAL\u8232  - SCENARIO_BASED\u8232  - LIKERT_SCALE\u8232  - SKILL_TASK
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.3 Difficulty Level Classification
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Difficulty level defines how challenging a question is, independent of its type or category.\uc0\u8232 \u8232  Difficulty Levels:\u8232  - EASY\u8232  - MEDIUM\u8232  - HARD\u8232  - VERY_HARD\u8232 \u8232  Difficulty is used for test balancing, adaptive testing, and performance analysis.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.4 Cognitive & Skill-Based Category Classification
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This classification defines the type of thinking or skill the question assesses.\uc0\u8232 \u8232  Cognitive / Skill Categories:\u8232  - FACTUAL\u8232  - FORMULA_BASED\u8232  - CONCEPTUAL\u8232  - APPLICATION_BASED\u8232  - NUMERICAL\u8232  - ANALYTICAL\u8232  - LOGICAL\u8232  - SKILL_BASED\u8232  - CREATIVE\u8232 \u8232  These categories are independent of difficulty and question type.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.5 Combined Question Identity
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Each question is uniquely identified by the combination of:\uc0\u8232  - Question Type\u8232  - Difficulty Level\u8232  - Cognitive Category\u8232 \u8232  Example combinations:\u8232  - MCQ_SINGLE + EASY + FACTUAL\u8232  - NUMERICAL + HARD + APPLICATION_BASED\u8232  - ASSERTION_REASONING + MEDIUM + CONCEPTUAL\u8232  This combined identity powers AI recommendations, analytics, and test construction.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.6 Data Model Extension
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The following attributes are added to the Question entity without impacting existing architecture:\uc0\u8232 \u8232  - question_type (ENUM)\u8232  - difficulty_level (ENUM)\u8232  - cognitive_category (ENUM)\u8232 \u8232  Other existing attributes remain unchanged.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.7 Impact on Test Paper Creation
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Test papers can now be generated using rules based on:\uc0\u8232  - Question type\u8232  - Difficulty distribution\u8232  - Cognitive category mix\u8232 \u8232  Example rule:\u8232  Select 20 questions where:\u8232  - Subject = Physics\u8232  - Difficulty = MEDIUM\u8232  - Category = APPLICATION_BASED\u8232  - Type = NUMERICAL
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.8 Impact on AI Learning Engine
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This taxonomy enables the AI engine to:\uc0\u8232  - Detect conceptual vs formula-based weaknesses\u8232  - Identify skill gaps\u8232  - Recommend targeted remediation\u8232  - Build adaptive learning paths
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.9 Impact on Dashboards & Analytics
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Dashboards can now present insights such as:\uc0\u8232  - Student weak in APPLICATION_BASED questions\u8232  - Strong in FACTUAL but weak in CONCEPTUAL\u8232  - Skill readiness indicators for counselors and parents
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 5A.10 Governance & Quality Control
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 All questions follow a governed lifecycle:\uc0\u8232  - DRAFT\u8232  - REVIEWED\u8232  - APPROVED\u8232 \u8232  Every change is logged to maintain auditability and assessment integrity.
\f3\fs24 \
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 6
\f1\fs48 \

\f0\fs61\fsmilli30667 PSYCHOMETRIC, CAREER & STUDENT PROFILING INTELLIGENCE SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 6.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 6 defines the Psychometric, Career, and Student Profiling Intelligence System of EduMall.\uc0\u8232  This module scientifically identifies students\'92 aptitude, interests, personality traits,\u8232  learning styles, and career inclinations, and converts them into actionable guidance\u8232  for learning paths, subject choices, exams, skills, and long-term careers.\u8232 \u8232  This module is non-clinical, ethical, explainable, and designed for Indian and global\u8232  education contexts across EduMall, DiLCe centres, schools, colleges, and institutes.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.2 Target User Groups
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module supports:\uc0\u8232 \u8232  \'95 Students (Class 2 onwards to professionals)\u8232  \'95 Parents / Guardians\u8232  \'95 Counselors\u8232  \'95 Teachers & Mentors\u8232  \'95 Heads of Department\u8232  \'95 Centre Incharges\u8232  \'95 Institutional leadership\u8232 \u8232  Each group receives role-appropriate insights and reports.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.3 Psychometric Constructs Covered
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system evaluates validated psychometric constructs, including:\uc0\u8232 \u8232  \'95 Cognitive abilities (verbal, numerical, logical, spatial)\u8232  \'95 Aptitude domains (STEM, commerce, humanities, creative)\u8232  \'95 Personality traits (Big Five aligned)\u8232  \'95 Interest mapping (RIASEC / Holland Codes)\u8232  \'95 Learning styles (visual, auditory, kinesthetic, reading/writing)\u8232  \'95 Emotional intelligence (age-appropriate)\u8232  \'95 Motivation & work values\u8232  \'95 Career maturity & readiness\u8232 \u8232  All constructs are age-appropriate and culturally contextualized.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.4 Test Battery Design
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Psychometric assessments are delivered as structured batteries:\uc0\u8232 \u8232  \'95 Age-wise batteries (Class 2\'965, 6\'968, 9\'9610, 11\'9612, UG, PG, Professionals)\u8232  \'95 Adaptive question flow (difficulty adjusts)\u8232  \'95 Time-controlled but low-stress format\u8232  \'95 Assisted delivery option at DiLCe centres\u8232 \u8232  Batteries are versioned and validated.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.5 Test Delivery & Experience
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Delivery modes include:\uc0\u8232 \u8232  \'95 Online (web/app)\u8232  \'95 Assisted (DiLCe with counselor support)\u8232  \'95 Institution-supervised\u8232 \u8232  Rules:\u8232  \'95 Resume allowed\u8232  \'95 Integrity checks\u8232  \'95 Clear instructions & consent capture
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.6 Scoring, Normalization & Reliability
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Scoring methodology:\uc0\u8232 \u8232  \'95 Raw score calculation\u8232  \'95 Age-group normalization\u8232  \'95 Population benchmarking\u8232  \'95 Reliability & consistency checks\u8232  \'95 Anomaly detection\u8232 \u8232  Scores are probabilistic indicators, not deterministic labels.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.7 Student Profile Generation
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 A dynamic Student Profile is generated containing:\uc0\u8232 \u8232  \'95 Strengths & potential areas\u8232  \'95 Interest clusters\u8232  \'95 Preferred learning style\u8232  \'95 Exam suitability indices\u8232  \'95 Skill inclination indicators\u8232 \u8232  Profiles evolve over time with new data.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.8 Career Mapping & Recommendations
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Career guidance logic considers:\uc0\u8232 \u8232  \'95 Psychometric profile\u8232  \'95 Academic performance (Module 5)\u8232  \'95 Learning behavior (Module 7)\u8232  \'95 Market-aligned career database\u8232 \u8232  Outputs:\u8232  \'95 Primary career paths\u8232  \'95 Alternate pathways\u8232  \'95 Required exams & skills\u8232  \'95 Short-term action plans
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.9 Reports & Deliverables
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reports generated:\uc0\u8232 \u8232  \'95 Student-friendly report (visual, motivational)\u8232  \'95 Parent report (simplified, advisory)\u8232  \'95 Counselor report (detailed, analytical)\u8232  \'95 Institution aggregate reports (anonymized)\u8232 \u8232  All reports are explainable and non-judgmental.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.10 Ethical Framework & Consent
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Ethical principles:\uc0\u8232 \u8232  \'95 Explicit consent required\u8232  \'95 No clinical or medical claims\u8232  \'95 No permanent labeling\u8232  \'95 Transparent scoring explanation\u8232  \'95 Right to retest\u8232 \u8232  Parents control data usage for minors.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.11 Integration with Learning Intelligence
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module integrates with:\uc0\u8232 \u8232  \'95 Module 7 \'96 Learning Intelligence Engine\u8232  \'95 Module 8 \'96 Dashboards\u8232  \'95 Module 3 \'96 Course Management\u8232 \u8232  Psychometric insights influence:\u8232  \'95 Course recommendations\u8232  \'95 Learning mode decisions\u8232  \'95 Remedial strategies
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.12 Data Security & Privacy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 DPDP-compliant storage\u8232  \'95 Encrypted psychometric data\u8232  \'95 Role-based access\u8232  \'95 Audit logs for report access
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.13 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Millions of assessments\u8232  \'95 Pre-computed scoring models\u8232  \'95 Multilingual report generation\u8232  \'95 Horizontal scalability
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.14 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Incomplete assessments\u8232  \'95 Extreme response patterns\u8232  \'95 Parent\'96student expectation conflicts\u8232  \'95 Counselor overrides
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 6.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 5 \'96 Assessment Engine\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 AI personalization\u8232  \'95 Career guidance\u8232  \'95 Parent counseling
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13.1 \'96 MODULE 7 (UPDATED)
\f1\fs48 \

\f0\fs61\fsmilli30667 LEARNING INTELLIGENCE, ADAPTIVE AI & ENGAGEMENT VALIDATION (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 7.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 7 defines the Learning Intelligence and Adaptive AI Engine of EduMall EduOS.\uc0\u8232 \u8232  This module acts as the cognitive brain of the platform, continuously analyzing learner\u8232  behavior, performance, engagement quality, and progress to deliver personalized learning\u8232  paths, diagnostics, remedials, and motivation signals.\u8232 \u8232  This updated version explicitly governs engagement validation for reward points,\u8232  burnout detection, adaptive difficulty, and ethical AI usage.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.2 Core Principles
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 \'95 Learning outcomes over activity volume\uc0\u8232  \'95 Quality-weighted engagement, not raw time\u8232  \'95 Continuous diagnostic feedback\u8232  \'95 Adaptive difficulty and pacing\u8232  \'95 Explainable and ethical AI\u8232  \'95 Human-in-the-loop governance
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.3 Learner Data Signals
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The engine analyzes multi-dimensional signals including:\uc0\u8232 \u8232  \'95 Content interaction patterns (pause, rewind, notes)\u8232  \'95 Assessment performance trends\u8232  \'95 Improvement velocity\u8232  \'95 Error types and misconceptions\u8232  \'95 Engagement consistency\u8232  \'95 Discussion quality\u8232  \'95 Burnout and fatigue indicators\u8232 \u8232  No single signal determines outcomes.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.4 Engagement Quality Validation
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module validates engagement for:\uc0\u8232 \u8232  \'95 Reward point eligibility (Module 10)\u8232  \'95 Learning progression\u8232  \'95 Diagnostic assessments\u8232 \u8232  Validation rules:\u8232  \'95 Checkpoint completion\u8232  \'95 Active interactions (notes, answers)\u8232  \'95 Idle detection\u8232  \'95 Anti-gaming heuristics\u8232 \u8232  Raw watch-time alone is insufficient.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.5 Adaptive Learning Paths
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Adaptive mechanisms include:\uc0\u8232 \u8232  \'95 Dynamic content sequencing\u8232  \'95 Difficulty adjustment based on mastery\u8232  \'95 Topic-level remedials\u8232  \'95 Acceleration for high performers\u8232  \'95 Alternative explanations and formats\u8232 \u8232  Paths can be self-paced or mentor-controlled.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.6 Diagnostic Intelligence
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Diagnostics operate at:\uc0\u8232 \u8232  \'95 Question level\u8232  \'95 Topic & subtopic level\u8232  \'95 Skill category level\u8232  \'95 Cognitive level (Bloom\'92s taxonomy)\u8232 \u8232  Diagnostics inform teaching interventions and student guidance.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.7 Burnout & Wellbeing Detection
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Wellbeing safeguards include:\uc0\u8232 \u8232  \'95 Excessive usage detection\u8232  \'95 Performance fatigue signals\u8232  \'95 Alerting mentors / parents\u8232  \'95 Automatic cooldowns if needed\u8232 \u8232  Wellbeing overrides gamification incentives.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.8 AI Explainability & Transparency
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system provides:\uc0\u8232 \u8232  \'95 Reason codes for recommendations\u8232  \'95 Explainable feedback to learners\u8232  \'95 Teacher-facing insights\u8232  \'95 Auditability of AI decisions\u8232 \u8232  Black-box decisions are prohibited.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.9 Human Oversight & Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Human controls include:\uc0\u8232 \u8232  \'95 Teacher override of AI suggestions\u8232  \'95 Admin tuning of AI sensitivity\u8232  \'95 Institution-level policies\u8232  \'95 Manual review flags\u8232 \u8232  AI assists, humans decide.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.10 Data Ethics & Privacy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Ethical safeguards include:\uc0\u8232 \u8232  \'95 Minimal data usage\u8232  \'95 Purpose limitation\u8232  \'95 No behavioral manipulation\u8232  \'95 DPDP-compliant processing\u8232 \u8232  Student trust is paramount.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.11 Integration with Rewards & Payments
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Integration rules:\uc0\u8232 \u8232  \'95 Module 7 validates engagement quality\u8232  \'95 Module 10 awards points only after validation\u8232  \'95 Module 11 uses validated points for checkout\u8232  \'95 No direct financial decisions by AI\u8232 \u8232  AI never handles money.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.12 Reporting & Insights
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Insights provided:\uc0\u8232 \u8232  \'95 Individual learner profiles\u8232  \'95 Class and batch intelligence\u8232  \'95 Teaching effectiveness signals\u8232  \'95 Content quality feedback\u8232 \u8232  Reports are role-aware.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.13 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module integrates with:\uc0\u8232 \u8232  \'95 Module 5 \'96 Assessments\u8232  \'95 Module 8 \'96 Dashboards\u8232  \'95 Module 10 \'96 Gamification & Rewards\u8232  \'95 Module 15 \'96 Governance\u8232  \'95 Module 23 \'96 UX & Ethics\u8232 \u8232  This module does not operate independently.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 7.14 Final Positioning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 7 is the intelligence backbone of EduMall.\uc0\u8232 \u8232  It ensures personalization, fairness, wellbeing, and integrity while\u8232  enabling motivation systems without compromising educational values.
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13.1 \'96 MODULE 8 (UPDATED)
\f1\fs48 \

\f0\fs61\fsmilli30667 INTELLIGENT DASHBOARDS, ANALYTICS & WELLBEING VISUALIZATION (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 8.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 8 defines the Intelligent Dashboards and Analytics Layer of EduMall EduOS.\uc0\u8232 \u8232  This module provides role-based, explainable, and action-oriented dashboards for students,\u8232  parents, teachers, mentors, administrators, and institutions.\u8232 \u8232  The updated version integrates AI insights (Module 7), reward points & redemption visibility\u8232  (Module 10 & 11), and wellbeing safeguards under governance (Module 15).
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.2 Core Dashboard Principles
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 \'95 Explainable metrics only\uc0\u8232  \'95 Actionable insights, not raw data\u8232  \'95 Role-specific views\u8232  \'95 Separation of academics, rewards, and finance\u8232  \'95 Wellbeing-first visualization\u8232  \'95 Privacy and consent-aware display
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.3 Dashboard Types & Roles
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Dashboards are provided for:\uc0\u8232 \u8232  \'95 Student\u8232  \'95 Parent\u8232  \'95 Teacher\u8232  \'95 Mentor / Counselor\u8232  \'95 Head of Department\u8232  \'95 Centre Incharge\u8232  \'95 Institution Admin\u8232  \'95 EduMall HQ (aggregated)\u8232 \u8232  Each dashboard follows role-based permissions.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.4 Student Dashboard (UPDATED)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Student dashboard includes:\uc0\u8232 \u8232  Academic View:\u8232  \'95 Learning progress by subject/topic\u8232  \'95 Mastery level & adaptive path status\u8232  \'95 Diagnostic insights\u8232  \'95 Upcoming tasks & assessments\u8232 \u8232  Reward View:\u8232  \'95 Academic Points\u8232  \'95 Engagement Points\u8232  \'95 Community Points\u8232  \'95 Eligible redeemable value (clearly capped)\u8232 \u8232  Wellbeing View:\u8232  \'95 Engagement balance indicator\u8232  \'95 Burnout risk alerts\u8232  \'95 Recommended rest or pacing suggestions
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.5 Parent Dashboard (UPDATED)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Parent dashboard includes:\uc0\u8232 \u8232  \'95 Child academic progress & trends\u8232  \'95 Engagement quality (not raw screen time)\u8232  \'95 Reward summary (read-only)\u8232  \'95 Burnout & wellbeing alerts\u8232  \'95 Attendance and discipline indicators\u8232 \u8232  Parents cannot redeem rewards.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.6 Teacher Dashboard
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Teacher dashboard provides:\uc0\u8232 \u8232  \'95 Class & batch performance\u8232  \'95 Topic-wise success/failure analysis\u8232  \'95 Engagement quality heatmaps\u8232  \'95 Diagnostic flags for teaching gaps\u8232  \'95 Assignment & assessment insights
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.7 Mentor / Counselor Dashboard
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Mentor dashboard includes:\uc0\u8232 \u8232  \'95 Individual learner intelligence profiles\u8232  \'95 AI recommendations with reason codes\u8232  \'95 Wellbeing and burnout indicators\u8232  \'95 Counseling notes & action tracking
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.8 Institutional & Admin Dashboards
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Institution-level dashboards include:\uc0\u8232 \u8232  \'95 Centre performance\u8232  \'95 Revenue vs reward impact\u8232  \'95 Engagement & retention metrics\u8232  \'95 Compliance & governance indicators\u8232  \'95 Risk and incident summaries
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.9 Reward & Financial Visualization Rules
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reward display rules:\uc0\u8232 \u8232  \'95 Rewards shown separately from grades\u8232  \'95 No cash-equivalent inflation\u8232  \'95 Clear caps & expiry shown\u8232  \'95 No gamified pressure visuals\u8232 \u8232  Financial values masked where required.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.10 AI Explainability in Dashboards
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 AI insights include:\uc0\u8232 \u8232  \'95 Why a recommendation was made\u8232  \'95 What data signals were used\u8232  \'95 Confidence indicators\u8232  \'95 Human override options\u8232 \u8232  Black-box analytics are prohibited.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.11 Alerts, Nudges & Notifications
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Dashboard-driven alerts include:\uc0\u8232 \u8232  \'95 Academic risk alerts\u8232  \'95 Burnout warnings\u8232  \'95 Reward eligibility notifications\u8232  \'95 Compliance reminders\u8232 \u8232  Alert frequency is controlled.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.12 Privacy, Consent & Data Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Privacy safeguards:\uc0\u8232 \u8232  \'95 Role-based visibility\u8232  \'95 Consent-aware data display\u8232  \'95 Masking for minors\u8232  \'95 Audit trails for access
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.13 Performance & Scalability
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Dashboards support:\uc0\u8232 \u8232  \'95 Real-time and near-real-time updates\u8232  \'95 Cached analytics for scale\u8232  \'95 High concurrency during exams\u8232 \u8232  Performance must remain responsive.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.14 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module integrates with:\uc0\u8232 \u8232  \'95 Module 7 \'96 Learning Intelligence\u8232  \'95 Module 10 \'96 Gamification & Rewards\u8232  \'95 Module 11 \'96 Payments & Redemption\u8232  \'95 Module 15 \'96 Governance & Compliance\u8232  \'95 Module 23 \'96 UX & Accessibility
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 8.15 Final Positioning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 8 is the visual intelligence layer of EduMall.\uc0\u8232 \u8232  It ensures insights are transparent, ethical, role-appropriate,\u8232  and aligned with learning outcomes rather than raw engagement.
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 9
\f1\fs48 \

\f0\fs61\fsmilli30667 COMMUNICATION, NOTIFICATION & ENGAGEMENT ENGINE (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 9.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 9 defines the Communication, Notification & Engagement Engine of EduMall.\uc0\u8232  This module ensures timely, contextual, role-aware communication across the entire\u8232  learning lifecycle, including academics, assessments, counseling, operations,\u8232  referrals, and governance.\u8232 \u8232  The module focuses on clarity, relevance, automation, and trust \'97 avoiding spam\u8232  while ensuring no critical information is missed.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.2 Communication Channels Supported
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall supports multi-channel communication:\uc0\u8232 \u8232  \'95 In-app notifications\u8232  \'95 Email\u8232  \'95 SMS\u8232  \'95 WhatsApp (API-based)\u8232  \'95 Push notifications (mobile app)\u8232  \'95 System alerts within dashboards\u8232 \u8232  Channel availability depends on tenant configuration and user consent.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.3 Role-Based Communication Logic
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Messages are tailored by role:\uc0\u8232 \u8232  \'95 Students \'96 learning tasks, motivation, deadlines\u8232  \'95 Parents \'96 alerts, progress summaries, counseling updates\u8232  \'95 Teachers \'96 academic insights, action items\u8232  \'95 Counselors \'96 profile updates, follow-ups\u8232  \'95 HOD / Centre Incharge \'96 escalations, governance alerts\u8232  \'95 Promoters \'96 referral performance updates\u8232  \'95 EduMall HQ \'96 system-level alerts\u8232 \u8232  Each role receives only relevant information.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.4 Event-Driven Communication
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Communications are triggered by system events such as:\uc0\u8232 \u8232  \'95 Class scheduling or cancellation\u8232  \'95 Test creation, start, and results\u8232  \'95 Diagnostic outcomes\u8232  \'95 AI alerts (learning or teaching issues)\u8232  \'95 Remedial assignment\u8232  \'95 Attendance anomalies\u8232  \'95 Subscription or seat usage alerts\u8232  \'95 Referral conversions\u8232 \u8232  Events are configurable per tenant.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.5 AI-Triggered Smart Notifications
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Integration with Module 7 enables:\uc0\u8232 \u8232  \'95 Priority-based alerts\u8232  \'95 Risk notifications (dropout, burnout)\u8232  \'95 Teaching quality alerts\u8232  \'95 Adaptive nudges for students\u8232 \u8232  AI decides:\u8232  \'95 Who to notify\u8232  \'95 When to notify\u8232  \'95 How frequently to notify
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.6 Message Templates & Personalization
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports:\uc0\u8232 \u8232  \'95 Pre-approved message templates\u8232  \'95 Multi-language templates\u8232  \'95 Dynamic placeholders (name, course, topic)\u8232  \'95 Tone control (informative, motivational, alert)\u8232 \u8232  Templates are tenant-specific and auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.7 Referral & QR-Based Communication
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Referral-aware communication includes:\uc0\u8232 \u8232  \'95 Auto-messages after QR scan\u8232  \'95 Lead follow-up workflows\u8232  \'95 Conversion confirmation messages\u8232  \'95 Promoter performance summaries\u8232 \u8232  Referral attribution is preserved across all messages.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.8 Scheduling & Automation
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Communication workflows include:\uc0\u8232 \u8232  \'95 Scheduled reminders\u8232  \'95 Escalation timelines\u8232  \'95 Retry logic for failed delivery\u8232  \'95 Time-zone awareness\u8232 \u8232  Automation reduces manual intervention.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.9 Communication Governance & Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance features:\uc0\u8232 \u8232  \'95 Approval workflows for bulk messages\u8232  \'95 Frequency caps to prevent spam\u8232  \'95 Opt-in / opt-out management\u8232  \'95 Audit logs for all communications
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.10 Analytics & Effectiveness Tracking
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system tracks:\uc0\u8232 \u8232  \'95 Delivery status\u8232  \'95 Open and click rates\u8232  \'95 Response actions\u8232  \'95 Conversion attribution\u8232 \u8232  Analytics feed into:\u8232  \'95 Marketing optimization\u8232  \'95 Academic engagement analysis
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.11 Security, Privacy & Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 DPDP-compliant consent management\u8232  \'95 Masking of sensitive data\u8232  \'95 Encrypted message payloads\u8232  \'95 Secure API integrations
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.12 Scalability & Reliability
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 High-volume message throughput\u8232  \'95 Queue-based delivery systems\u8232  \'95 Failover mechanisms\u8232  \'95 Provider redundancy
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.13 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Message delivery failures\u8232  \'95 Duplicate notifications\u8232  \'95 Channel outages\u8232  \'95 Incorrect role targeting
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 9.14 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 2 \'96 Tenant Management\u8232  \'95 Module 7 \'96 Learning Intelligence Engine\u8232  \'95 Module 8 \'96 Dashboards\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Alerts\u8232  \'95 Engagement\u8232  \'95 Governance communication
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13.1 \'96 MODULE 10 (UPDATED)
\f1\fs48 \

\f0\fs61\fsmilli30667 GAMIFICATION, REWARD POINTS & LOYALTY ENGINE (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 10.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 10 defines the Gamification, Reward Points, and Loyalty Engine of EduMall EduOS.\uc0\u8232  Its objective is to motivate learners through ethical, education-first incentives while\u8232  maintaining academic seriousness, governance, and regulatory safety.\u8232 \u8232  This module introduces reward points that are partially cash-equivalent under strict\u8232  policy control.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.2 Core Principles
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 \'95 Education-first motivation\uc0\u8232  \'95 No addiction or gambling mechanics\u8232  \'95 Quality-weighted engagement\u8232  \'95 Partial, policy-driven cash equivalence\u8232  \'95 Age-appropriate & institution-controlled\u8232  \'95 Transparent and auditable logic
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.3 Point Categories (Mandatory Separation)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall maintains three non-mergeable point buckets:\uc0\u8232 \u8232  A. Academic Points\u8232  \'95 Earned via learning, assignments, tests, diagnostics\u8232  \'95 Eligible for LIMITED cash-equivalent usage\u8232 \u8232  B. Engagement Points\u8232  \'95 Earned via consistency, forums, discipline\u8232  \'95 VERY LIMITED conversion eligibility\u8232 \u8232  C. Community Points\u8232  \'95 Earned via events & EduMall social activity\u8232  \'95 NO cash conversion (recognition only)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.4 Point Earning Logic
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Points are awarded only when engagement quality is validated:\uc0\u8232 \u8232  \'95 Content checkpoints passed\u8232  \'95 Assignments attempted sincerely\u8232  \'95 Improvement over baseline\u8232  \'95 Peer help (validated)\u8232  \'95 Teacher / AI moderation applied\u8232 \u8232  Raw time-based or spam activity earns zero points.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.5 Cash-Equivalent Conversion Rules
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reward points are loyalty credits, NOT currency.\uc0\u8232 \u8232  Conversion rules:\u8232  \'95 Partial usage only (admin-defined percentage)\u8232  \'95 Course / product must be marked reward-eligible\u8232  \'95 Course creator may override within limits\u8232  \'95 Time-bound campaign applicability\u8232  \'95 Never 100% fee replacement
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.6 Eligibility & Safeguards
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Eligibility conditions include:\uc0\u8232 \u8232  \'95 Active subscription\u8232  \'95 Minimum academic engagement\u8232  \'95 No misconduct flags\u8232  \'95 Age-based limits\u8232  \'95 Daily / weekly earning caps\u8232  \'95 Burnout detection via Module 7
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.7 Redemption Flow
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Redemption occurs at checkout:\uc0\u8232 \u8232  \'95 Eligible points displayed\u8232  \'95 Maximum redeemable value shown\u8232  \'95 Final approval via Module 11\u8232  \'95 Full audit trail maintained
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.8 Governance & Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance controls include:\uc0\u8232 \u8232  \'95 Admin policy configuration\u8232  \'95 Institution-level enable/disable\u8232  \'95 Parent opt-out\u8232  \'95 Audit logs & reports\u8232  \'95 Compliance with education & consumer laws
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.9 UX & Anti-Abuse Design
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 UX guidelines enforce:\uc0\u8232 \u8232  \'95 No slot-machine effects\u8232  \'95 No infinite scrolling rewards\u8232  \'95 Clear educational framing\u8232  \'95 Transparency of earning & usage\u8232 \u8232  Design governed by Module 23.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.10 Reporting & Analytics
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reports include:\uc0\u8232 \u8232  \'95 Point earning trends\u8232  \'95 Redemption impact\u8232  \'95 Academic correlation analysis\u8232  \'95 Abuse detection signals
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.11 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module integrates with:\uc0\u8232 \u8232  \'95 Module 7 \'96 Learning Intelligence\u8232  \'95 Module 11 \'96 Payments & Subscription\u8232  \'95 Module 15 \'96 Governance & Compliance\u8232  \'95 Module 23 \'96 UX & Accessibility\u8232 \u8232  Module 10 does not control pricing or academic grading.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 10.12 Final Positioning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 10 is a motivational support system, not an academic shortcut.\uc0\u8232 \u8232  Reward points enhance engagement and affordability without compromising\u8232  learning integrity, ethics, or regulatory safety.
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13.1 \'96 MODULE 11 (UPDATED)
\f1\fs48 \

\f0\fs61\fsmilli30667 PAYMENTS, CHECKOUT, DISCOUNTS & REWARD REDEMPTION (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 11.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 11 governs all payment, checkout, subscription, discount, and reward\uc0\u8232  redemption mechanisms within EduMall EduOS.\u8232 \u8232  This updated version integrates cash-equivalent reward points (Module 10 v13.1)\u8232  into the checkout flow under strict governance, compliance, and audit control.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.2 Core Principles
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 \'95 Payments-first integrity\uc0\u8232  \'95 Partial reward redemption only\u8232  \'95 Policy-driven discounts\u8232  \'95 Transparent pricing\u8232  \'95 No wallet or stored-value behavior\u8232  \'95 Full auditability
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.3 Supported Payment Models
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall supports:\uc0\u8232 \u8232  \'95 One-time course purchase\u8232  \'95 Subscription-based access\u8232  \'95 Bundled programs\u8232  \'95 Institutional licensing\u8232  \'95 Promotional campaigns\u8232 \u8232  All models support partial reward redemption where enabled.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.4 Checkout Flow (Updated)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Checkout sequence:\uc0\u8232 \u8232  1. Course / product selection\u8232  2. Price calculation (base price)\u8232  3. Eligibility check for reward usage\u8232  4. Display of maximum redeemable points\u8232  5. User confirmation\u8232  6. Net payable amount calculation\u8232  7. Payment gateway processing\u8232  8. Receipt, invoice & audit logging
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.5 Reward Point Redemption Rules
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Redemption rules:\uc0\u8232 \u8232  \'95 Reward points are loyalty credits, not currency\u8232  \'95 Max redemption percentage set by admin\u8232  \'95 Course creator may override within limits\u8232  \'95 Campaign-based time windows\u8232  \'95 Points deducted post successful payment only\u8232  \'95 No redemption on taxes unless allowed by law
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.6 Discount & Coupon Engine
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports:\uc0\u8232 \u8232  \'95 Coupon codes\u8232  \'95 Referral discounts\u8232  \'95 Institutional discounts\u8232  \'95 Volume-based pricing\u8232  \'95 Reward-based discounts\u8232 \u8232  Discount stacking rules are policy-controlled.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.7 Governance & Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance includes:\uc0\u8232 \u8232  \'95 Admin configuration of redemption caps\u8232  \'95 Institution-level enable/disable\u8232  \'95 Parent opt-out for minors\u8232  \'95 Abuse detection & blocking\u8232  \'95 Full transaction audit trail
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.8 Compliance & Legal Safeguards
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Compliance measures:\uc0\u8232 \u8232  \'95 No wallet or cash-out facility\u8232  \'95 No gambling or chance-based rewards\u8232  \'95 Transparent terms & conditions\u8232  \'95 Consumer protection compliance\u8232  \'95 DPDP-aligned transaction data handling
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.9 Reporting & Reconciliation
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reports include:\uc0\u8232 \u8232  \'95 Gross vs net revenue\u8232  \'95 Reward redemption impact\u8232  \'95 Discount utilization\u8232  \'95 Refunds & adjustments\u8232  \'95 Tax & compliance summaries
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.10 Refunds, Cancellations & Edge Cases
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Edge handling:\uc0\u8232 \u8232  \'95 Refunds recalculate reward usage\u8232  \'95 Points reinstated per policy\u8232  \'95 Partial cancellations supported\u8232  \'95 Fraud detection mechanisms
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.11 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module integrates with:\uc0\u8232 \u8232  \'95 Module 10 \'96 Gamification & Rewards\u8232  \'95 Module 15 \'96 Governance & Compliance\u8232  \'95 Module 20 \'96 DevOps & Infrastructure\u8232  \'95 External payment gateways\u8232 \u8232  Module 11 remains the single source of truth for pricing and payments.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 11.12 Final Positioning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 11 ensures EduMall monetization remains ethical, compliant, and scalable.\uc0\u8232 \u8232  Reward-based affordability enhances access without compromising\u8232  financial integrity or academic value.
\f3\fs24 \
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 12
\f1\fs48 \

\f0\fs61\fsmilli30667 CONTENT DELIVERY, OFFLINE ACCESS & KNOWLEDGE PROTECTION SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 12.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 12 defines the Content Delivery, Offline Access, and Knowledge Protection System\uc0\u8232  of EduMall. This module ensures secure, high-performance, and controlled delivery of\u8232  educational content across online and offline environments while protecting intellectual\u8232  property.\u8232 \u8232  The module supports students in low-connectivity regions, DiLCe centres, and institutions,\u8232  without compromising content security or academic integrity.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.2 Content Delivery Architecture
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall content delivery supports:\uc0\u8232 \u8232  \'95 Streaming-based video delivery (adaptive bitrate)\u8232  \'95 Secure document rendering (PDF, slides)\u8232  \'95 Interactive content playback\u8232  \'95 CDN-based global distribution\u8232  \'95 Tenant-isolated content endpoints\u8232 \u8232  Delivery is optimized for low bandwidth and mobile-first access.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.3 Content Protection Principles
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Default content protection rules:\uc0\u8232 \u8232  \'95 No download\u8232  \'95 No copy-paste\u8232  \'95 No screen recording (where supported)\u8232  \'95 Dynamic watermarking (user, tenant, timestamp)\u8232  \'95 Access-token based authorization\u8232 \u8232  Protection rules are configurable by course creator and tenant.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.4 Offline Access Model
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Offline access is supported via controlled mechanisms:\uc0\u8232 \u8232  \'95 Time-bound offline access windows\u8232  \'95 Device-bound encrypted storage\u8232  \'95 Auto-expiry and revalidation\u8232  \'95 Selective content availability (videos / notes)\u8232 \u8232  Offline content never exists in raw, extractable form.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.5 Video Intelligence Features
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Video-specific capabilities include:\uc0\u8232 \u8232  \'95 Pause-and-note generation\u8232  \'95 Auto notes from video (AI-assisted)\u8232  \'95 Time-stamped student annotations\u8232  \'95 Resume playback across devices\u8232  \'95 Playback speed control (within limits)\u8232 \u8232  Annotations are private by default.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.6 Document Interaction Features
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 For PDFs and documents:\uc0\u8232 \u8232  \'95 Highlighting and annotations\u8232  \'95 Margin notes\u8232  \'95 Keyword search\u8232  \'95 Cross-linking with topics\u8232 \u8232  All interactions are logged for learning analytics.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.7 Teacher & Creator Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Content creators can configure:\uc0\u8232 \u8232  \'95 Download permissions\u8232  \'95 Offline availability\u8232  \'95 Print permissions\u8232  \'95 Access duration\u8232  \'95 Annotation permissions\u8232 \u8232  Changes are versioned and auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.8 Knowledge Graph & LLM Readiness
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 All content is structured to feed EduMall\'92s future LLM and knowledge graph:\uc0\u8232 \u8232  \'95 Class-wise indexing\u8232  \'95 Subject-wise indexing\u8232  \'95 Topic and sub-topic tagging\u8232  \'95 Difficulty and cognitive tagging\u8232 \u8232  This enables intelligent querying and AI tutoring.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.9 Multi-Language & Accessibility
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports:\uc0\u8232 \u8232  \'95 Multi-language content delivery\u8232  \'95 Subtitles and transcripts\u8232  \'95 Font scaling and contrast modes\u8232  \'95 Assistive technology compatibility\u8232 \u8232  Accessibility is built-in, not optional.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.10 Integration with AI Tutor & LLM (Future)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module integrates with:\uc0\u8232 \u8232  \'95 AI Tutor (real-time Q&A)\u8232  \'95 Knowledge querying (text, voice)\u8232  \'95 Offline AI packages (future product)\u8232 \u8232  AI responses are sourced only from authorized content.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.11 Security, Privacy & Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures include:\uc0\u8232 \u8232  \'95 Encrypted content storage\u8232  \'95 Secure key management\u8232  \'95 DPDP-compliant access logs\u8232  \'95 Anti-piracy monitoring\u8232 \u8232  Violations trigger alerts and access revocation.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.12 Performance & Scalability
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Millions of concurrent content streams\u8232  \'95 CDN edge caching\u8232  \'95 Efficient offline sync\u8232  \'95 Minimal device storage footprint
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.13 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Offline expiry during access\u8232  \'95 Device change or loss\u8232  \'95 Partial content sync\u8232  \'95 Unauthorized screen capture attempts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 12.14 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 3 \'96 Course & Curriculum\u8232  \'95 Module 7 \'96 Learning Intelligence\u8232  \'95 Module 11 \'96 Subscription & Entitlements\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Secure learning delivery\u8232  \'95 AI knowledge sourcing
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 13
\f1\fs48 \

\f0\fs61\fsmilli30667 ADMISSIONS, CRM & LEAD MANAGEMENT SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 13.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 13 defines the Admissions, CRM, and Lead Management System of EduMall.\uc0\u8232  This module manages the complete learner acquisition lifecycle\'97from first inquiry\u8232  to enrollment, onboarding, and post-admission engagement\'97across EduMall, DiLCe centres,\u8232  schools, colleges, institutes, NGOs, and corporate programs.\u8232 \u8232  It integrates marketing, counseling, admissions, and subscription workflows into\u8232  one governed, auditable system.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.2 Lead Sources & Capture
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Leads can be captured from multiple sources:\uc0\u8232 \u8232  \'95 Website forms\u8232  \'95 Landing pages\u8232  \'95 QR-code scans (DiLCe / School / Teacher / Campaign)\u8232  \'95 WhatsApp chatbots\u8232  \'95 Call center entries\u8232  \'95 Walk-in registrations\u8232  \'95 Referral links and codes\u8232 \u8232  Each lead is automatically tagged with source, tenant, and promoter.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.3 Lead Profiling & Segmentation
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Each lead profile includes:\uc0\u8232 \u8232  \'95 Personal details\u8232  \'95 Academic background\u8232  \'95 Interest areas\u8232  \'95 Intended courses\u8232  \'95 Psychometric test status (if taken)\u8232  \'95 Lead source & referral attribution\u8232 \u8232  Leads are segmented dynamically for targeted follow-up.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.4 Counseling & Interaction Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Counselors can:\uc0\u8232 \u8232  \'95 Schedule counseling sessions\u8232  \'95 Record counseling notes\u8232  \'95 Recommend courses and tests\u8232  \'95 Assign psychometric assessments\u8232  \'95 Track parent interactions\u8232 \u8232  All interactions are time-stamped and auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.5 Admission Workflow
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Admission stages include:\uc0\u8232 \u8232  \'95 New lead\u8232  \'95 Contacted\u8232  \'95 Counseled\u8232  \'95 Test assigned\u8232  \'95 Offer generated\u8232  \'95 Enrolled\u8232  \'95 Onboarded\u8232 \u8232  Stage movement can trigger automated communications.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.6 Integration with Psychometric & AI Engines
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The module integrates with:\uc0\u8232 \u8232  \'95 Module 6 \'96 Psychometric & Career Intelligence\u8232  \'95 Module 7 \'96 Learning Intelligence Engine\u8232 \u8232  AI assists counselors with:\u8232  \'95 Course suitability insights\u8232  \'95 Risk indicators\u8232  \'95 Conversion probability scoring
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.7 Offers, Discounts & Conversions
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports:\uc0\u8232 \u8232  \'95 Personalized offers\u8232  \'95 Referral-linked discounts\u8232  \'95 Time-bound promotions\u8232  \'95 Seat availability checks\u8232 \u8232  Conversion is locked only after successful payment.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.8 Post-Admission Onboarding
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 After enrollment, the system:\uc0\u8232 \u8232  \'95 Creates user accounts\u8232  \'95 Allocates seats\u8232  \'95 Assigns courses and batches\u8232  \'95 Triggers onboarding communication\u8232 \u8232  This ensures zero manual handover gaps.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.9 CRM Dashboards & Reports
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 CRM dashboards provide:\uc0\u8232 \u8232  \'95 Lead funnel visualization\u8232  \'95 Conversion ratios\u8232  \'95 Counselor performance\u8232  \'95 Campaign ROI\u8232  \'95 Referral effectiveness\u8232 \u8232  Reports are role- and tenant-aware.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.10 Automation & Follow-Up Rules
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Automation capabilities include:\uc0\u8232 \u8232  \'95 Auto reminders\u8232  \'95 Escalation for idle leads\u8232  \'95 Task assignment to counselors\u8232  \'95 SLA tracking\u8232 \u8232  Automation reduces lead leakage.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.11 Security, Privacy & Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 DPDP-compliant lead data handling\u8232  \'95 Consent tracking\u8232  \'95 Role-based access\u8232  \'95 Audit logs for edits and exports
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.12 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 High-volume lead ingestion\u8232  \'95 Concurrent counselor access\u8232  \'95 Real-time funnel updates\u8232  \'95 Horizontal scalability
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.13 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Duplicate leads\u8232  \'95 Conflicting counselor assignments\u8232  \'95 Referral disputes\u8232  \'95 Offer expiry conflicts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 13.14 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 2 \'96 Tenant Management\u8232  \'95 Module 6 \'96 Psychometric System\u8232  \'95 Module 11 \'96 Subscription & Payment\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Admissions\u8232  \'95 Growth tracking\u8232  \'95 Revenue funnel
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 14
\f1\fs48 \

\f0\fs61\fsmilli30667 INTELLIGENT CONTENT, ASSIGNMENT & REMEDIAL ENGINE (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 14.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 14 defines the Intelligent Content, Assignment & Remedial Engine of EduMall.\uc0\u8232  This module is the execution arm of EduMall\'92s Learning Intelligence (Module 7),\u8232  responsible for delivering personalized content, assignments, practice sets,\u8232  remedials, and top-up materials to learners.\u8232 \u8232  It ensures that every learner receives the right content, at the right depth,\u8232  at the right time, based on data-driven decisions.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.2 Content Intelligence Framework
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The engine operates on structured content intelligence:\uc0\u8232 \u8232  \'95 Content mapped to class, subject, chapter, topic, sub-topic\u8232  \'95 Cognitive tagging (fact, concept, application, HOTS)\u8232  \'95 Difficulty tagging (normal to complex)\u8232  \'95 Exam relevance tagging\u8232 \u8232  All content metadata is continuously refined by AI feedback.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.3 Assignment Types Supported
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supported assignment types include:\uc0\u8232 \u8232  \'95 Practice assignments\u8232  \'95 Concept reinforcement tasks\u8232  \'95 Writing & expression assignments\u8232  \'95 Numerical/problem-solving sets\u8232  \'95 Skill-based tasks\u8232  \'95 Project & case-study assignments\u8232 \u8232  Assignments can be auto-generated or teacher-curated.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.4 AI-Generated & Teacher-Curated Content
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports:\uc0\u8232 \u8232  \'95 AI-generated practice questions\u8232  \'95 AI-generated assignments\u8232  \'95 Teacher-authored assignments\u8232  \'95 Blended AI + teacher workflows\u8232 \u8232  Teachers always retain final approval authority.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.5 Diagnostic-Driven Assignment Delivery
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Assignment delivery is triggered by:\uc0\u8232 \u8232  \'95 Class-end diagnostics\u8232  \'95 Weekly/monthly assessments\u8232  \'95 Learning gap detection by Module 7\u8232 \u8232  Assignments are personalized per student or per group.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.6 Remedial & Top-Up Material Engine
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 For detected gaps, the engine delivers:\uc0\u8232 \u8232  \'95 Topic revision videos\u8232  \'95 Simplified notes\u8232  \'95 Extra practice\u8232  \'95 Writing drills\u8232  \'95 Concept re-teaching material\u8232 \u8232  Remedials are adaptive and time-bound.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.7 Adaptive Difficulty & Volume Control
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The engine dynamically adjusts:\uc0\u8232 \u8232  \'95 Number of questions\u8232  \'95 Difficulty level\u8232  \'95 Cognitive mix\u8232  \'95 Time allocation\u8232 \u8232  Adjustments are based on learner response patterns.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.8 Mastery-Based Progression Support
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The engine supports mastery learning:\uc0\u8232 \u8232  \'95 Minimum mastery thresholds\u8232  \'95 Chapter-level gating\u8232  \'95 Exam-target-based bars\u8232  \'95 Teacher or mentor override\u8232 \u8232  Learners progress only after mastery is demonstrated.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.9 Feedback & Evaluation Integration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Assignments integrate with:\uc0\u8232 \u8232  \'95 Auto-evaluation (objective)\u8232  \'95 AI-assisted subjective evaluation\u8232  \'95 Teacher evaluation\u8232 \u8232  Feedback is actionable and instructional.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.10 Student Interaction & Reflection
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Students can:\uc0\u8232 \u8232  \'95 Review feedback\u8232  \'95 See mistake patterns\u8232  \'95 Attempt corrections\u8232  \'95 Reflect on learning\u8232 \u8232  Reflection data feeds learning intelligence.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.11 Teacher & Academic Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Teachers and academic leaders can:\uc0\u8232 \u8232  \'95 Customize assignment rules\u8232  \'95 Approve AI-generated content\u8232  \'95 Adjust remedial depth\u8232  \'95 Monitor assignment effectiveness
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.12 Analytics & Effectiveness Measurement
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Analytics include:\uc0\u8232 \u8232  \'95 Assignment completion rates\u8232  \'95 Improvement post-remedial\u8232  \'95 Difficulty calibration accuracy\u8232  \'95 Content effectiveness scores\u8232 \u8232  Insights feed curriculum improvement.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.13 Security & Content Protection
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 Assignment access control\u8232  \'95 Non-downloadable by default\u8232  \'95 Attempt limits\u8232  \'95 Audit logs for changes
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.14 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 High-frequency assignment generation\u8232  \'95 Batch and individual personalization\u8232  \'95 Horizontal scaling\u8232  \'95 Efficient content retrieval
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.15 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Over-assignment risk\u8232  \'95 Conflicting AI signals\u8232  \'95 Student overload\u8232  \'95 Teacher override conflicts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 14.16 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 3 \'96 Course & Curriculum\u8232  \'95 Module 5 \'96 Assessment Engine\u8232  \'95 Module 7 \'96 Learning Intelligence\u8232  \'95 Module 12 \'96 Content Delivery\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Learning execution\u8232  \'95 Remediation delivery
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13.1 \'96 MODULE 15 (UPDATED)
\f1\fs48 \

\f0\fs61\fsmilli30667 GOVERNANCE, POLICY, ETHICS & COMPLIANCE ENGINE (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 15.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 15 defines the Governance, Policy, Ethics, and Compliance Engine of EduMall EduOS.\uc0\u8232 \u8232  This module acts as the constitutional backbone of the platform, governing how academic,\u8232  financial, AI, reward, data, and operational decisions are controlled, audited, and enforced.\u8232 \u8232  This updated version explicitly governs reward-to-cash policies, AI ethics, learner wellbeing,\u8232  institutional controls, and regulatory compliance.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.2 Governance Philosophy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Core principles:\uc0\u8232 \u8232  \'95 Education-first governance\u8232  \'95 Policy-driven over hardcoded logic\u8232  \'95 Transparency and auditability\u8232  \'95 Human oversight over automation\u8232  \'95 Safety, fairness, and accountability\u8232  \'95 Compliance by design
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.3 Policy Domains Covered
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module governs policies across:\uc0\u8232 \u8232  \'95 Academic integrity & progression\u8232  \'95 AI usage and explainability\u8232  \'95 Reward points & cash-equivalent limits\u8232  \'95 Payments, discounts & pricing rules\u8232  \'95 Data privacy & protection\u8232  \'95 Child safety & wellbeing\u8232  \'95 Institutional and tenant controls
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.4 Reward & Loyalty Governance (UPDATED)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reward governance rules include:\uc0\u8232 \u8232  \'95 Definition of reward points as loyalty credits, not currency\u8232  \'95 Admin-controlled conversion percentages\u8232  \'95 Course-creator override within bounds\u8232  \'95 Campaign-based enablement\u8232  \'95 Age-based and institution-based restrictions\u8232  \'95 Anti-hoarding and expiry rules\u8232 \u8232  All reward usage is auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.5 AI Ethics & Learning Integrity
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 AI governance ensures:\uc0\u8232 \u8232  \'95 Explainable AI recommendations\u8232  \'95 No black-box decision making\u8232  \'95 No manipulation or addiction mechanics\u8232  \'95 Burnout and wellbeing safeguards\u8232  \'95 Teacher and admin override rights\u8232 \u8232  AI must serve learning outcomes, not engagement metrics.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.6 Financial & Consumer Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Compliance measures include:\uc0\u8232 \u8232  \'95 Transparent pricing disclosures\u8232  \'95 Clear reward redemption terms\u8232  \'95 No wallet or cash-out behavior\u8232  \'95 Consumer protection alignment\u8232  \'95 Tax and invoicing compliance\u8232 \u8232  Financial rules integrate with Module 11.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.7 Data Privacy & Protection
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Data governance includes:\uc0\u8232 \u8232  \'95 DPDP-compliant data handling\u8232  \'95 Consent management\u8232  \'95 Purpose limitation\u8232  \'95 Data minimization\u8232  \'95 Audit logs for access and usage\u8232 \u8232  Privacy overrides analytics convenience.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.8 Child Safety & Wellbeing
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Safeguards include:\uc0\u8232 \u8232  \'95 Parental visibility and opt-out\u8232  \'95 Age-appropriate gamification limits\u8232  \'95 Burnout detection enforcement\u8232  \'95 Content moderation workflows\u8232 \u8232  Child safety has highest priority.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.9 Institutional & Tenant Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Institutions can:\uc0\u8232 \u8232  \'95 Enable/disable modules\u8232  \'95 Set local policies within global limits\u8232  \'95 Approve campaigns and rewards\u8232  \'95 Review analytics and compliance reports\u8232 \u8232  Tenant autonomy operates under EduMall constitution.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.10 Audit, Monitoring & Enforcement
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance enforcement includes:\uc0\u8232 \u8232  \'95 Policy violation detection\u8232  \'95 Automated and manual audits\u8232  \'95 Corrective action workflows\u8232  \'95 Suspension or rollback controls\u8232  \'95 Immutable audit trails
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.11 Regulatory Readiness
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports readiness for:\uc0\u8232 \u8232  \'95 School boards\u8232  \'95 Universities\u8232  \'95 Government agencies\u8232  \'95 CSR & NGO programs\u8232  \'95 International compliance (with Module 22)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.12 Reporting & Transparency
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reports include:\uc0\u8232 \u8232  \'95 Governance compliance dashboards\u8232  \'95 Reward impact audits\u8232  \'95 AI decision traceability\u8232  \'95 Incident and resolution logs
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.13 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module governs and integrates with:\uc0\u8232 \u8232  \'95 Module 7 \'96 Learning Intelligence\u8232  \'95 Module 10 \'96 Gamification & Rewards\u8232  \'95 Module 11 \'96 Payments & Subscription\u8232  \'95 Module 20 \'96 DevOps & Infrastructure\u8232  \'95 Module 22 \'96 Globalization\u8232 \u8232  No module may bypass Module 15.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 15.14 Final Positioning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 15 is a LOCKED CORE MODULE.\uc0\u8232 \u8232  It acts as EduMall\'92s constitution, ensuring long-term trust,\u8232  legal safety, academic seriousness, and ethical scalability.
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 16
\f1\fs48 \

\f0\fs61\fsmilli30667 HUMAN RESOURCE, FACULTY & OPERATIONS MANAGEMENT SYSTEM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 16.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 16 defines the Human Resource, Faculty, and Operations Management System of EduMall.\uc0\u8232  This module governs recruitment, onboarding, role allocation, performance management,\u8232  capacity planning, and day-to-day operational workflows across EduMall HQ, DiLCe centres,\u8232  schools, institutes, and partner organizations.\u8232 \u8232  It ensures that people, processes, and performance remain aligned with EduMall\'92s\u8232  academic and ethical standards.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.2 User Categories Covered
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module manages:\uc0\u8232 \u8232  \'95 Teachers & Faculty\u8232  \'95 Counselors\u8232  \'95 Academic Coordinators\u8232  \'95 Classroom Assistants (DiLCe)\u8232  \'95 Centre Incharges\u8232  \'95 Operations Staff\u8232  \'95 Sales & Admission Staff\u8232  \'95 HR Managers\u8232  \'95 External Experts & Visiting Faculty
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.3 Recruitment & Onboarding
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Recruitment workflows include:\uc0\u8232 \u8232  \'95 Requirement creation & approval\u8232  \'95 Candidate applications & screening\u8232  \'95 Interview scheduling\u8232  \'95 Offer issuance\u8232  \'95 Digital joining & document verification\u8232 \u8232  Onboarding includes:\u8232  \'95 Role assignment\u8232  \'95 Policy acceptance\u8232  \'95 Training allocation\u8232  \'95 Access provisioning
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.4 Role Assignment & Capacity Planning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports:\uc0\u8232 \u8232  \'95 Faculty-course-batch mapping\u8232  \'95 Teaching load allocation\u8232  \'95 Counselor-student ratios\u8232  \'95 Assistant-classroom ratios\u8232 \u8232  Capacity planning ensures:\u8232  \'95 No overload\u8232  \'95 Optimal utilization\u8232  \'95 Academic continuity
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.5 Performance Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Performance metrics include:\uc0\u8232 \u8232  \'95 Teaching effectiveness (from Module 7)\u8232  \'95 Student outcomes\u8232  \'95 Engagement metrics\u8232  \'95 Feedback scores\u8232  \'95 Compliance adherence\u8232 \u8232  Performance reviews are periodic and evidence-based.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.6 Training & Upskilling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The module manages:\uc0\u8232 \u8232  \'95 Mandatory training programs\u8232  \'95 Pedagogical upskilling\u8232  \'95 Technology training\u8232  \'95 AI & data literacy modules\u8232 \u8232  Completion is tracked and auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.7 Attendance, Leave & Scheduling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Operational tracking includes:\uc0\u8232 \u8232  \'95 Staff attendance\u8232  \'95 Leave management\u8232  \'95 Shift scheduling (centres)\u8232  \'95 Substitute allocation\u8232 \u8232  Integrates with live class schedules.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.8 Incentives & Commission Inputs
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module feeds data into Module 11 for:\uc0\u8232 \u8232  \'95 Faculty incentives\u8232  \'95 Counselor commissions\u8232  \'95 Promoter payouts (operational linkage)\u8232 \u8232  No financial settlement is done here.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.9 Operational Task Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports:\uc0\u8232 \u8232  \'95 Task assignment\u8232  \'95 SLA tracking\u8232  \'95 Escalations\u8232  \'95 Issue resolution\u8232 \u8232  Used by centre and operations teams.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.10 Compliance & Policy Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Ensures compliance with:\uc0\u8232 \u8232  \'95 HR policies\u8232  \'95 Academic SOPs\u8232  \'95 Child safety norms\u8232  \'95 Institutional guidelines\u8232 \u8232  Policy breaches trigger alerts.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.11 Reports & Dashboards
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reports include:\uc0\u8232 \u8232  \'95 Staff utilization\u8232  \'95 Performance summaries\u8232  \'95 Training completion\u8232  \'95 Attrition indicators\u8232 \u8232  Dashboards are role-aware.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.12 Security & Privacy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 Role-based access\u8232  \'95 Sensitive data masking\u8232  \'95 Audit logs for HR actions\u8232  \'95 DPDP-compliant storage
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.13 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Multi-centre operations\u8232  \'95 High staff counts\u8232  \'95 Efficient scheduling algorithms\u8232  \'95 Horizontal scalability
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.14 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Staff role conflicts\u8232  \'95 Sudden faculty unavailability\u8232  \'95 Data inconsistencies\u8232  \'95 Unauthorized access attempts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 16.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 4 \'96 Live Classroom\u8232  \'95 Module 7 \'96 Learning Intelligence\u8232  \'95 Module 11 \'96 Payment & Incentives\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Human resource availability\u8232  \'95 Operational continuity
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 17
\f1\fs48 \

\f0\fs61\fsmilli30667 REFERRAL, QR & GROWTH INTELLIGENCE ENGINE (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 17.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 17 defines the Referral, QR Code, and Growth Intelligence Engine of EduMall.\uc0\u8232  This module enables scalable, traceable, and incentive-driven growth across EduMall,\u8232  DiLCe centres, schools, institutes, NGOs, teachers, and individual promoters.\u8232 \u8232  It ensures every learner acquisition is attributable, auditable, and aligned with\u8232  EduMall\'92s academic and ethical standards.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.2 Referral Actor Types
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The system supports multiple referral actors:\uc0\u8232 \u8232  \'95 DiLCe Centres\u8232  \'95 Schools & Colleges\u8232  \'95 Institutes & Coaching Centres\u8232  \'95 Teachers & Faculty\u8232  \'95 Counselors\u8232  \'95 Individual Promoters / Influencers\u8232  \'95 CSR / NGO Partners\u8232  \'95 EduMall Internal Teams\u8232 \u8232  Each actor is registered with a unique referral identity.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.3 QR Code Generation & Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 QR codes can be generated for:\uc0\u8232 \u8232  \'95 Centre-wise onboarding\u8232  \'95 School / institute-specific campaigns\u8232  \'95 Teacher-specific referrals\u8232  \'95 Event / seminar campaigns\u8232  \'95 Time-bound promotions\u8232 \u8232  Each QR code is:\u8232  \'95 Unique\u8232  \'95 Trackable\u8232  \'95 Configurable for validity and usage limits
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.4 Referral Links & Codes
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 In addition to QR codes, the system supports:\uc0\u8232 \u8232  \'95 Text-based referral codes\u8232  \'95 Short referral URLs\u8232  \'95 Campaign-specific codes\u8232  \'95 Discount-linked codes\u8232 \u8232  Codes are mapped to referral actors and campaigns.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.5 Attribution & Tracking Logic
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Attribution rules:\uc0\u8232 \u8232  \'95 First-touch and last-touch configurable\u8232  \'95 Persistent attribution until conversion\u8232  \'95 Multi-tenant aware attribution\u8232  \'95 Cross-device continuity (where possible)\u8232 \u8232  Attribution survives registration, login, and payment.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.6 Incentive & Discount Engine
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The engine supports:\uc0\u8232 \u8232  \'95 Fixed incentive payouts\u8232  \'95 Percentage-based incentives\u8232  \'95 Hybrid incentive + learner discount\u8232  \'95 Tiered incentive slabs\u8232 \u8232  All incentives are governed by policies defined in Module 11.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.7 Referral Lifecycle
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Referral lifecycle stages:\uc0\u8232 \u8232  \'95 QR scan / link click\u8232  \'95 Lead captured\u8232  \'95 Counseling / follow-up\u8232  \'95 Conversion (payment)\u8232  \'95 Incentive eligibility\u8232  \'95 Settlement\u8232 \u8232  Each stage is logged and reportable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.8 Fraud Detection & Abuse Prevention
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Anti-abuse mechanisms include:\uc0\u8232 \u8232  \'95 Self-referral detection\u8232  \'95 Duplicate account detection\u8232  \'95 Device and IP anomaly detection\u8232  \'95 Unusual conversion patterns\u8232  \'95 Manual review flags\u8232 \u8232  Suspected abuse triggers alerts and holds incentives.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.9 Dashboards & Analytics
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Referral dashboards include:\uc0\u8232 \u8232  \'95 Leads generated\u8232  \'95 Conversion ratios\u8232  \'95 Revenue attributed\u8232  \'95 Incentives earned\u8232  \'95 Campaign ROI\u8232 \u8232  Dashboards are role- and tenant-aware.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.10 Communication Integration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Integrates with Module 9 for:\uc0\u8232 \u8232  \'95 Auto follow-ups after QR scan\u8232  \'95 Referral status updates\u8232  \'95 Incentive notifications\u8232  \'95 Campaign announcements
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.11 Governance & Policy Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance features:\uc0\u8232 \u8232  \'95 Referral policy versioning\u8232  \'95 Approval workflows for campaigns\u8232  \'95 Incentive caps\u8232  \'95 Suspension or blacklisting of promoters\u8232 \u8232  All actions are auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.12 Security & Privacy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 DPDP-compliant lead handling\u8232  \'95 Masking of learner data\u8232  \'95 Secure referral identifiers\u8232  \'95 Audit logs for all referral actions
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.13 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Millions of QR scans\u8232  \'95 High-concurrency attribution\u8232  \'95 Real-time analytics updates\u8232  \'95 Horizontal scaling
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.14 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Multiple referral claims\u8232  \'95 Referral expiry during conversion\u8232  \'95 Campaign overlap conflicts\u8232  \'95 Incentive disputes
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 17.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 11 \'96 Subscription & Revenue\u8232  \'95 Module 13 \'96 Admissions & CRM\u8232  \'95 Module 9 \'96 Communication Engine\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 Growth attribution\u8232  \'95 Incentive calculation
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 18
\f1\fs48 \

\f0\fs61\fsmilli30667 SYSTEM INTEGRATION, API GATEWAY & INTEROPERABILITY PLATFORM (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 18.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 18 defines the System Integration, API Gateway, and Interoperability Platform\uc0\u8232  of EduMall. This module enables secure, scalable, and governed integration between\u8232  EduMall EduOS and external systems including school ERPs, university MIS, government\u8232  platforms, payment providers, AI services, mobile apps, websites, and third-party tools.\u8232 \u8232  This module ensures EduMall remains an open yet controlled ecosystem.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.2 Integration Philosophy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Core principles:\uc0\u8232 \u8232  \'95 API-first architecture\u8232  \'95 Zero business logic in client applications\u8232  \'95 Loose coupling with strong governance\u8232  \'95 Backward compatibility\u8232  \'95 Versioned integrations\u8232  \'95 Security by default\u8232 \u8232  All integrations must respect EduMall core logic and locked modules.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.3 API Gateway Architecture
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The API Gateway provides:\uc0\u8232 \u8232  \'95 Unified entry point for all APIs\u8232  \'95 Authentication & authorization enforcement\u8232  \'95 Rate limiting and throttling\u8232  \'95 Request validation\u8232  \'95 API version management\u8232  \'95 Traffic routing and load balancing\u8232 \u8232  The gateway supports REST and future GraphQL interfaces.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.4 API Categories
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall APIs are grouped as:\uc0\u8232 \u8232  A. Core APIs\u8232  \'95 User & Role APIs\u8232  \'95 Tenant & Branding APIs\u8232  \'95 Course & Content APIs\u8232  \'95 Assessment APIs\u8232  \'95 Subscription & Payment APIs\u8232 \u8232  B. Intelligence APIs\u8232  \'95 Learning Intelligence APIs\u8232  \'95 Dashboard & Analytics APIs\u8232  \'95 Recommendation APIs\u8232 \u8232  C. Engagement APIs\u8232  \'95 Communication APIs\u8232  \'95 Gamification APIs\u8232  \'95 Referral & QR APIs\u8232 \u8232  D. Integration APIs\u8232  \'95 ERP/MIS sync APIs\u8232  \'95 LMS interoperability APIs\u8232  \'95 Government reporting APIs
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.5 Authentication & Authorization
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security mechanisms include:\uc0\u8232 \u8232  \'95 OAuth 2.0 / OpenID Connect\u8232  \'95 Token-based authentication\u8232  \'95 Role- and tenant-aware scopes\u8232  \'95 API key management for system integrations\u8232  \'95 Expiry and refresh token policies\u8232 \u8232  No anonymous or unrestricted access is allowed.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.6 Data Synchronization & Interoperability
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports:\uc0\u8232 \u8232  \'95 One-way and bi-directional sync\u8232  \'95 Scheduled and event-driven sync\u8232  \'95 Conflict resolution rules\u8232  \'95 Field-level mapping\u8232 \u8232  Interoperability standards:\u8232  \'95 SCORM\u8232  \'95 IMS\u8232  \'95 LTI (where applicable)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.7 Mobile, WebApp & Website Consumption
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 All client applications must:\uc0\u8232 \u8232  \'95 Consume EduMall APIs only\u8232  \'95 Perform no core logic\u8232  \'95 Respect rate limits\u8232  \'95 Handle offline sync via approved APIs\u8232 \u8232  Clients include:\u8232  \'95 WebApp (LMS)\u8232  \'95 Android App\u8232  \'95 iOS App\u8232  \'95 Marketing Website
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.8 External Service Integration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports integration with:\uc0\u8232 \u8232  \'95 Payment gateways\u8232  \'95 SMS / Email / WhatsApp providers\u8232  \'95 Video conferencing tools\u8232  \'95 AI services (approved)\u8232  \'95 Analytics & BI tools\u8232 \u8232  All integrations are pluggable and governed.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.9 Versioning & Backward Compatibility
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 API versioning rules:\uc0\u8232 \u8232  \'95 Semantic versioning\u8232  \'95 Parallel support for critical versions\u8232  \'95 Deprecation notices\u8232  \'95 Migration guides\u8232 \u8232  Backward compatibility is mandatory for live tenants.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.10 Monitoring, Logging & Observability
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Provides:\uc0\u8232 \u8232  \'95 API usage logs\u8232  \'95 Performance metrics\u8232  \'95 Error tracking\u8232  \'95 Security alerts\u8232  \'95 Integration health dashboards
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.11 Security, Privacy & Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 Encrypted data in transit\u8232  \'95 IP allow/deny lists\u8232  \'95 Audit logs for API access\u8232  \'95 DPDP-compliant data sharing\u8232  \'95 Third-party access reviews
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.12 Governance & Approval Workflows
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance includes:\uc0\u8232 \u8232  \'95 Integration approval workflows\u8232  \'95 Scope and permission reviews\u8232  \'95 Periodic audits\u8232  \'95 Revocation mechanisms\u8232 \u8232  Unauthorized integrations are blocked.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.13 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 High API throughput\u8232  \'95 Horizontal scalability\u8232  \'95 Stateless services\u8232  \'95 Low-latency response times
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.14 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 API abuse\u8232  \'95 Partial failures\u8232  \'95 Data conflicts\u8232  \'95 Version mismatch issues
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 18.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 2 \'96 Tenant Management\u8232  \'95 Module 11 \'96 Subscription & Payments\u8232  \'95 Module 15 \'96 Governance & Compliance\u8232 \u8232  Other modules depend on this module for:\u8232  \'95 External access\u8232  \'95 Client application support\u8232  \'95 Ecosystem expansion
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\
\
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 19
\f1\fs48 \

\f0\fs61\fsmilli30667 MOBILE APPLICATIONS (ANDROID & iOS) \'96 DELIVERY & EXPERIENCE LAYER (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 19.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 19 defines the Mobile Applications layer of EduMall, covering Android and iOS apps.\uc0\u8232  These apps act as secure client interfaces to EduMall EduOS, enabling students, parents,\u8232  teachers, counselors, and administrators to access learning, analytics, communication,\u8232  and operational features on mobile devices.\u8232 \u8232  Mobile apps contain NO core business logic and rely entirely on EduMall APIs\u8232  (Module 18).
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.2 Design Principles
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Core design principles:\uc0\u8232 \u8232  \'95 API-only consumption (no logic duplication)\u8232  \'95 Offline-first for learners\u8232  \'95 Secure-by-design\u8232  \'95 Performance optimized for low-end devices\u8232  \'95 Role-based UI rendering\u8232  \'95 Accessibility and usability focus
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.3 Supported User Roles
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Mobile apps support the following roles:\uc0\u8232 \u8232  \'95 Students\u8232  \'95 Parents\u8232  \'95 Teachers (limited admin)\u8232  \'95 Counselors (CRM access)\u8232  \'95 Centre Incharge (monitoring)\u8232  \'95 EduMall Admin (restricted)\u8232 \u8232  Role access is governed by Module 1.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.4 Student App Features
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Student-specific capabilities:\uc0\u8232 \u8232  \'95 Course access & learning dashboard\u8232  \'95 Secure video & content playback\u8232  \'95 Offline content sync (Module 12)\u8232  \'95 Assignments & assessments\u8232  \'95 AI suggestions & learning nudges\u8232  \'95 Notes, highlights & bookmarks\u8232  \'95 Push notifications & reminders\u8232  \'95 Gamification & streak tracking
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.5 Parent App Features
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Parent-specific capabilities:\uc0\u8232 \u8232  \'95 Child performance overview\u8232  \'95 Attendance & engagement summary\u8232  \'95 Alerts on risks & milestones\u8232  \'95 Communication with counselors\u8232  \'95 Fee & subscription visibility\u8232 \u8232  Parents cannot access raw content or assessments.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.6 Teacher App Features
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Teacher-specific capabilities:\uc0\u8232 \u8232  \'95 Class & batch overview\u8232  \'95 Attendance marking\u8232  \'95 Assignment review (limited)\u8232  \'95 Student alerts\u8232  \'95 Communication tools\u8232 \u8232  Core content creation remains web-based.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.7 Counselor & Operations App Features
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports:\uc0\u8232 \u8232  \'95 Lead & inquiry tracking\u8232  \'95 Counseling schedules\u8232  \'95 Follow-up reminders\u8232  \'95 Basic CRM actions\u8232 \u8232  Complex CRM workflows remain web-based.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.8 Offline Access & Sync Strategy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Offline capabilities include:\uc0\u8232 \u8232  \'95 Encrypted offline storage\u8232  \'95 Time-bound access\u8232  \'95 Auto-expiry & revalidation\u8232  \'95 Background sync when online\u8232 \u8232  Offline sync follows policies defined in Module 12.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.9 Security & Device Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security measures:\uc0\u8232 \u8232  \'95 Secure authentication\u8232  \'95 Device binding\u8232  \'95 Jailbreak / root detection (where feasible)\u8232  \'95 Screenshot / screen recording restrictions\u8232  \'95 Token expiry and refresh policies
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.10 Push Notifications
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports:\uc0\u8232 \u8232  \'95 Academic reminders\u8232  \'95 Assessment alerts\u8232  \'95 Engagement nudges\u8232  \'95 System announcements\u8232 \u8232  Push logic is governed by Module 9.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.11 Performance & Optimization
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Performance considerations:\uc0\u8232 \u8232  \'95 Optimized video streaming\u8232  \'95 Minimal battery usage\u8232  \'95 Adaptive UI for device capability\u8232  \'95 Crash reporting & analytics
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.12 Accessibility & UX
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Accessibility features:\uc0\u8232 \u8232  \'95 Font scaling\u8232  \'95 Dark mode\u8232  \'95 Multilingual support\u8232  \'95 Assistive technology compatibility
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.13 App Distribution & Updates
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Distribution strategy:\uc0\u8232 \u8232  \'95 Google Play Store\u8232  \'95 Apple App Store\u8232  \'95 Controlled release cycles\u8232  \'95 Mandatory update enforcement for critical fixes
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.14 Monitoring & Analytics
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 App analytics include:\uc0\u8232 \u8232  \'95 Active users\u8232  \'95 Session duration\u8232  \'95 Feature usage\u8232  \'95 Crash reports\u8232 \u8232  Analytics feed central dashboards.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 19.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 1 \'96 User & Role Management\u8232  \'95 Module 7 \'96 Learning Intelligence\u8232  \'95 Module 9 \'96 Communication Engine\u8232  \'95 Module 12 \'96 Content Protection\u8232  \'95 Module 18 \'96 API Gateway\u8232 \u8232  Apps cannot function independently.
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13.1 \'96 MODULE 20 (UPDATED)
\f1\fs48 \

\f0\fs61\fsmilli30667 DEVOPS, CLOUD INFRASTRUCTURE & PLATFORM RELIABILITY (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 20.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 20 defines the DevOps, Cloud Infrastructure, Deployment, Security, Monitoring,\uc0\u8232  and Reliability framework of EduMall EduOS.\u8232 \u8232  This updated version aligns infrastructure governance with AI workloads, reward systems,\u8232  high-concurrency assessments, live classes, mobile access, and national-scale compliance\u8232  requirements.\u8232 \u8232  This module governs HOW EduMall is built, deployed, scaled, secured, and operated.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.2 Infrastructure Philosophy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Core principles:\uc0\u8232 \u8232  \'95 Cloud-native & container-first architecture\u8232  \'95 Infrastructure as Code (IaC)\u8232  \'95 Zero-downtime deployments\u8232  \'95 Security-by-design\u8232  \'95 Cost-aware scalability\u8232  \'95 Compliance-ready operations
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.3 Environment Architecture
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall operates across isolated environments:\uc0\u8232 \u8232  \'95 Development\u8232  \'95 QA\u8232  \'95 UAT\u8232  \'95 Staging\u8232  \'95 Production\u8232 \u8232  Strict isolation prevents data leakage and policy violations.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.4 Cloud & Network Architecture
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Infrastructure supports:\uc0\u8232 \u8232  \'95 Multi-region cloud deployment (India primary)\u8232  \'95 Auto-scaling compute & storage\u8232  \'95 Secure VPC and subnet isolation\u8232  \'95 CDN for video & content delivery\u8232  \'95 Load balancers for high concurrency
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.5 Containerization & Orchestration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Standards include:\uc0\u8232 \u8232  \'95 Docker containerization\u8232  \'95 Kubernetes orchestration\u8232  \'95 Auto-healing services\u8232  \'95 Rolling & blue-green deployments\u8232  \'95 Canary releases for critical services
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.6 CI/CD & Release Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 CI/CD pipelines include:\uc0\u8232 \u8232  \'95 Automated builds & testing\u8232  \'95 Security scanning (SAST/DAST)\u8232  \'95 Dependency vulnerability checks\u8232  \'95 Automated deployment & rollback\u8232  \'95 Version tagging and audit trails
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.7 AI & Analytics Infrastructure
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 AI workload support includes:\uc0\u8232 \u8232  \'95 Scalable inference services\u8232  \'95 Model versioning & rollback\u8232  \'95 GPU/accelerator support (where required)\u8232  \'95 Isolation of AI workloads from core services\u8232 \u8232  AI infra must be explainable and auditable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.8 Data Storage, Backup & DR
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Data resilience includes:\uc0\u8232 \u8232  \'95 Encrypted storage at rest\u8232  \'95 Automated backups\u8232  \'95 Point-in-time recovery\u8232  \'95 Multi-zone redundancy\u8232  \'95 Disaster recovery drills with RPO/RTO targets
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.9 Security Operations (DevSecOps)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Security controls include:\uc0\u8232 \u8232  \'95 WAF, firewalls & intrusion detection\u8232  \'95 Secrets management\u8232  \'95 API security enforcement\u8232  \'95 Access logging and alerts\u8232  \'95 Periodic penetration testing
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.10 Performance & Load Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Performance planning supports:\uc0\u8232 \u8232  \'95 Peak exam traffic\u8232  \'95 Concurrent live classes\u8232  \'95 Reward redemption spikes\u8232  \'95 Mobile sync surges\u8232 \u8232  Load testing is mandatory before releases.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.11 Cost Management & FinOps
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Cost governance includes:\uc0\u8232 \u8232  \'95 Resource tagging\u8232  \'95 Budget alerts\u8232  \'95 Cost attribution per tenant\u8232  \'95 Auto-scale cost controls\u8232  \'95 Periodic optimization reviews
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.12 Observability & Monitoring
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Observability includes:\uc0\u8232 \u8232  \'95 Application performance monitoring\u8232  \'95 Infrastructure metrics\u8232  \'95 Centralized logs\u8232  \'95 SLA and SLO tracking\u8232  \'95 Incident alerts
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.13 Incident, Change & Release Governance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Operational governance includes:\uc0\u8232 \u8232  \'95 Incident response playbooks\u8232  \'95 Root cause analysis\u8232  \'95 Change approval workflows\u8232  \'95 Emergency rollback procedures
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.14 Compliance & Audit Readiness
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports audits for:\uc0\u8232 \u8232  \'95 DPDP compliance\u8232  \'95 Financial audits\u8232  \'95 Security audits\u8232  \'95 Academic integrity reviews\u8232 \u8232  All actions are logged and traceable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module underpins:\uc0\u8232 \u8232  \'95 All runtime operations\u8232  \'95 API availability (Module 18)\u8232  \'95 Payments (Module 11)\u8232  \'95 Rewards redemption (Module 10)\u8232  \'95 Analytics (Module 21)\u8232 \u8232  It is governed by Module 15.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 20.16 Final Positioning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 20 is mandatory for production deployment.\uc0\u8232 \u8232  It ensures EduMall remains secure, reliable, compliant, and scalable\u8232  as an AI-powered, reward-enabled education platform.
\f3\fs24 \
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 21
\f1\fs48 \

\f0\fs61\fsmilli30667 DATA WAREHOUSE, BUSINESS INTELLIGENCE & ADVANCED ANALYTICS (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 21.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 21 defines the centralized Data Warehouse, Business Intelligence (BI),\uc0\u8232  and Advanced Analytics framework of EduMall EduOS.\u8232 \u8232  This module enables long-term data storage, cross-module analytics, trend discovery,\u8232  forecasting, benchmarking, and decision intelligence for EduMall HQ, institutions,\u8232  investors, policymakers, and academic leadership.\u8232 \u8232  This module is READ-ONLY with respect to core transactional systems.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.2 Data Philosophy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Core principles:\uc0\u8232 \u8232  \'95 Single source of analytical truth\u8232  \'95 Read-only, non-intrusive access\u8232  \'95 Privacy-first aggregation\u8232  \'95 Long-term historical analysis\u8232  \'95 Decision support, not operational control
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.3 Data Sources
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 The data warehouse ingests data from:\uc0\u8232 \u8232  \'95 User & Role Management (Module 1)\u8232  \'95 Academics & Courses (Modules 3, 4)\u8232  \'95 Assessments & Diagnostics (Module 5)\u8232  \'95 Psychometrics & Intelligence (Modules 6, 7)\u8232  \'95 Dashboards & Engagement (Modules 8, 10)\u8232  \'95 CRM & Admissions (Module 13)\u8232  \'95 Payments & Subscriptions (Module 11)\u8232  \'95 Referrals & Growth (Module 17)\u8232  \'95 Infrastructure metrics (Module 20)
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.4 Data Ingestion & Pipelines
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Ingestion mechanisms include:\uc0\u8232 \u8232  \'95 Batch ETL pipelines\u8232  \'95 Near real-time streaming (events)\u8232  \'95 Schema validation\u8232  \'95 Data quality checks\u8232  \'95 Error quarantine & reprocessing
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.5 Data Modeling & Storage
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Warehouse design supports:\uc0\u8232 \u8232  \'95 Fact and dimension tables\u8232  \'95 Time-series data\u8232  \'95 Partitioned storage\u8232  \'95 Historical snapshots\u8232  \'95 Scalable cloud data warehouses\u8232 \u8232  Optimized for analytical workloads.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.6 BI Dashboards & Reports
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 BI dashboards support:\uc0\u8232 \u8232  \'95 Academic performance trends\u8232  \'95 Institution benchmarking\u8232  \'95 Revenue & growth analytics\u8232  \'95 Seat utilization & ROI\u8232  \'95 Referral effectiveness\u8232  \'95 Centre-wise comparisons\u8232 \u8232  Dashboards are role-based and permissioned.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.7 Advanced Analytics & Forecasting
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Advanced analytics include:\uc0\u8232 \u8232  \'95 Enrollment forecasting\u8232  \'95 Dropout risk modeling\u8232  \'95 Capacity planning insights\u8232  \'95 Revenue projections\u8232  \'95 Campaign performance forecasting
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.8 AI, ML & Research Enablement
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module supports:\uc0\u8232 \u8232  \'95 Training datasets for AI models\u8232  \'95 Model evaluation datasets\u8232  \'95 Research & policy analysis\u8232  \'95 Anonymized data exports\u8232 \u8232  No model inference happens here.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.9 Data Privacy & Anonymization
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Privacy controls include:\uc0\u8232 \u8232  \'95 Aggregation thresholds\u8232  \'95 Anonymization & pseudonymization\u8232  \'95 Masking of personal identifiers\u8232  \'95 Tenant data isolation\u8232 \u8232  Compliance with DPDP is mandatory.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.10 External BI Tool Integration
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports integration with:\uc0\u8232 \u8232  \'95 Power BI\u8232  \'95 Tableau\u8232  \'95 Looker\u8232  \'95 Custom BI tools\u8232 \u8232  Access is governed and audited.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.11 Governance & Access Control
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance includes:\uc0\u8232 \u8232  \'95 Role-based BI access\u8232  \'95 Approval workflows for reports\u8232  \'95 Export controls\u8232  \'95 Audit logs for data access
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.12 Performance & Scalability
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Large data volumes\u8232  \'95 Long retention periods\u8232  \'95 High query concurrency\u8232  \'95 Cost-efficient storage tiers
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.13 Data Retention & Archival
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Retention policies include:\uc0\u8232 \u8232  \'95 Hot data for recent periods\u8232  \'95 Cold archival for historical data\u8232  \'95 Policy-driven deletion schedules
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.14 Edge Cases & Error Handling
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Handled scenarios:\uc0\u8232 \u8232  \'95 Incomplete data feeds\u8232  \'95 Late-arriving data\u8232  \'95 Schema evolution\u8232  \'95 Report inconsistencies
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 21.15 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 15 \'96 Governance & Compliance\u8232  \'95 Module 20 \'96 DevOps & Infrastructure\u8232 \u8232  Other modules do not depend on this module for operations.
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13 \'96 MODULE 22
\f1\fs48 \

\f0\fs61\fsmilli30667 GLOBALIZATION, LOCALIZATION & MULTI-COUNTRY COMPLIANCE (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 22.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 22 defines the Globalization, Localization, and Multi-Country Compliance\uc0\u8232  framework of EduMall EduOS.\u8232 \u8232  This module prepares EduMall for national-to-international expansion by enabling\u8232  multi-country operations, multi-currency support, localized academic rules, language\u8232  adaptation, and jurisdiction-specific legal and regulatory compliance.\u8232 \u8232  This module ensures EduMall can scale globally without re-architecting core systems.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.2 Globalization Philosophy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Core principles:\uc0\u8232 \u8232  \'95 Global core, local rules\u8232  \'95 Configuration over customization\u8232  \'95 No forked codebases\u8232  \'95 Country isolation where legally required\u8232  \'95 Compliance-first expansion\u8232 \u8232  Global expansion must never weaken core governance.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.3 Localization Framework
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Localization capabilities include:\uc0\u8232 \u8232  \'95 Multi-language UI and content\u8232  \'95 Region-specific calendars and holidays\u8232  \'95 Time-zone aware scheduling\u8232  \'95 Local grading scales and academic terms\u8232  \'95 Cultural context adaptations (non-academic)\u8232 \u8232  Localization is tenant- and region-configurable.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.4 Multi-Currency & Financial Localization
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Financial localization supports:\uc0\u8232 \u8232  \'95 Multiple currencies\u8232  \'95 Country-specific tax structures\u8232  \'95 Local payment gateways\u8232  \'95 Currency conversion handling\u8232  \'95 Invoice and receipt localization\u8232 \u8232  All financial rules integrate with Module 11.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.5 Academic Board & Curriculum Localization
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports:\uc0\u8232 \u8232  \'95 Country-wise academic boards\u8232  \'95 Board-specific curriculum structures\u8232  \'95 Examination patterns\u8232  \'95 Grading and promotion rules\u8232 \u8232  Academic localization is configuration-driven.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.6 Legal & Regulatory Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Compliance support includes:\uc0\u8232 \u8232  \'95 Data protection laws (GDPR, DPDP, etc.)\u8232  \'95 Child protection and consent laws\u8232  \'95 Education regulations\u8232  \'95 Data residency requirements\u8232 \u8232  Compliance rules are enforced via policies.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.7 Data Residency & Sovereignty
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports:\uc0\u8232 \u8232  \'95 Country-specific data residency\u8232  \'95 Region-isolated storage\u8232  \'95 Controlled cross-border data access\u8232  \'95 Encryption and access audits\u8232 \u8232  Some regions may require full data isolation.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.8 Content & IP Compliance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Ensures:\uc0\u8232 \u8232  \'95 Region-specific content restrictions\u8232  \'95 Copyright compliance\u8232  \'95 Licensing enforcement\u8232  \'95 Content takedown workflows\u8232 \u8232  IP protection remains aligned with Module 12.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.9 User Experience Localization
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 UX localization includes:\uc0\u8232 \u8232  \'95 Language preferences\u8232  \'95 Local formats (date, number)\u8232  \'95 Cultural UX norms\u8232  \'95 Accessibility standards per region
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.10 Global Reporting & Benchmarking
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Supports:\uc0\u8232 \u8232  \'95 Country-wise reports\u8232  \'95 Cross-country benchmarking\u8232  \'95 Region-specific KPIs\u8232  \'95 Global HQ dashboards\u8232 \u8232  Data aggregation respects privacy laws.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.11 Governance & Expansion Controls
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Governance features:\uc0\u8232 \u8232  \'95 Country onboarding approval workflows\u8232  \'95 Compliance readiness checks\u8232  \'95 Feature enablement by region\u8232  \'95 Suspension or rollback controls
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.12 Scalability & Performance
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Design considerations:\uc0\u8232 \u8232  \'95 Multi-region deployments\u8232  \'95 Latency optimization\u8232  \'95 Regional failover\u8232  \'95 Global CDN strategy
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.13 Risk Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Risk controls include:\uc0\u8232 \u8232  \'95 Legal risk assessment\u8232  \'95 Regulatory change monitoring\u8232  \'95 Compliance audit readiness\u8232  \'95 Exit strategies for regions
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.14 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module depends on:\uc0\u8232 \u8232  \'95 Module 2 \'96 Tenant & White-Label\u8232  \'95 Module 11 \'96 Payments & Subscription\u8232  \'95 Module 12 \'96 Content Protection\u8232  \'95 Module 15 \'96 Governance & Compliance\u8232  \'95 Module 20 \'96 DevOps & Infrastructure\u8232 \u8232  Other modules reference this module for\u8232  global readiness but do not depend on it.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 22.15 Final Positioning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 22 is the final functional module of EduMall SRS v13.\uc0\u8232 \u8232  It completes EduMall\'92s transformation from a national platform\u8232  into a globally deployable Education Operating System (EduOS).
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
\
\
\
\
\pard\pardeftab720\sa160\partightenfactor0

\f0\b\fs61\fsmilli30667 \cf0 EduMall SRS v13.1 \'96 MODULE 23 (UPDATED)
\f1\fs48 \

\f0\fs61\fsmilli30667 UX, UI, DESIGN SYSTEM, ACCESSIBILITY & ETHICAL ENGAGEMENT (FINAL)
\f1\fs48 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\fs45\fsmilli22667 \cf0 23.1 Purpose & Scope
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 23 defines the UX, UI, Design System, Accessibility, and Ethical Engagement\uc0\u8232  governance for EduMall EduOS.\u8232 \u8232  This updated version explicitly governs how AI, gamification, reward points, dashboards,\u8232  and monetization cues are presented to users across WebApp, Android, iOS, and Website,\u8232  ensuring clarity, inclusivity, non-addictive design, and trust.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.2 UX Governance Philosophy
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Core principles:\uc0\u8232 \u8232  \'95 Learning-first experience\u8232  \'95 Transparency over persuasion\u8232  \'95 Non-addictive engagement\u8232  \'95 Accessibility by default\u8232  \'95 Consistency across platforms\u8232  \'95 Trust-building interfaces\u8232 \u8232  UX must never manipulate learner behavior.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.3 Unified Design System
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 EduMall Design System includes:\uc0\u8232 \u8232  \'95 Brand typography & color tokens\u8232  \'95 Accessible color contrast palettes\u8232  \'95 UI components (cards, charts, buttons)\u8232  \'95 Interaction states & feedback\u8232  \'95 Motion & animation limits\u8232  \'95 Reward & notification components\u8232 \u8232  Single source of truth across all platforms.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.4 Ethical Gamification & Reward UX (UPDATED)
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Reward-related UX rules:\uc0\u8232 \u8232  \'95 Clear distinction between learning and rewards\u8232  \'95 Explicit display of reward eligibility & limits\u8232  \'95 No casino-style animations or loops\u8232  \'95 No dark patterns or urgency traps\u8232  \'95 Rewards framed as benefits, not income\u8232 \u8232  Reward UX must align with Module 10 & 15.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.5 Role-Based UX Patterns
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 UX varies by role:\uc0\u8232 \u8232  \'95 Students \'96 focus, progress clarity, wellbeing cues\u8232  \'95 Parents \'96 reassurance, transparency, alerts\u8232  \'95 Teachers \'96 efficiency, insight density\u8232  \'95 Admins \'96 governance visibility, controls\u8232 \u8232  Role-based UX prevents overload.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.6 Accessibility Standards
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Accessibility compliance:\uc0\u8232 \u8232  \'95 WCAG 2.1 AA\u8232  \'95 Screen readers\u8232  \'95 Keyboard navigation\u8232  \'95 Font scaling\u8232  \'95 Motion reduction\u8232  \'95 Multilingual support\u8232 \u8232  Accessibility is mandatory.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.7 Dashboard & Data Visualization Rules
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Dashboard UX rules:\uc0\u8232 \u8232  \'95 Explainable metrics only\u8232  \'95 Tooltips & context labels\u8232  \'95 No hidden scoring\u8232  \'95 Clear separation of academic vs reward data\u8232  \'95 Burnout and wellbeing indicators visible\u8232 \u8232  Works with Module 8.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.8 Performance-Aware UI
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Performance guidelines:\uc0\u8232 \u8232  \'95 Lazy loading\u8232  \'95 Skeleton screens\u8232  \'95 Low-bandwidth modes\u8232  \'95 Optimized media delivery\u8232 \u8232  UX must not degrade performance.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.9 Localization & Cultural Sensitivity
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Localization includes:\uc0\u8232 \u8232  \'95 Language-aware layouts\u8232  \'95 Cultural color sensitivity\u8232  \'95 Regional UX norms\u8232  \'95 RTL/LTR readiness\u8232 \u8232  Aligns with Module 22.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.10 Security-Aware UX
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 UX safeguards:\uc0\u8232 \u8232  \'95 No exposure of sensitive data\u8232  \'95 Masked financial values where required\u8232  \'95 Secure error messaging\u8232  \'95 Role-based visibility enforcement\u8232 \u8232  UX cannot bypass security.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.11 UX Research & Validation
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Practices include:\uc0\u8232 \u8232  \'95 Usability testing\u8232  \'95 Accessibility audits\u8232  \'95 Reward UX impact reviews\u8232  \'95 A/B testing (ethically constrained)\u8232 \u8232  Research informs iteration.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.12 Design Change Management
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Change control includes:\uc0\u8232 \u8232  \'95 Versioned design releases\u8232  \'95 Impact analysis\u8232  \'95 Governance approval\u8232  \'95 Rollback capability\u8232 \u8232  Design changes must be safe.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.13 Tooling & Documentation
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Tooling includes:\uc0\u8232 \u8232  \'95 Figma / design libraries\u8232  \'95 Component documentation\u8232  \'95 Usage guidelines\u8232  \'95 Accessibility checklists\u8232 \u8232  Vendors must comply.
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.14 Dependencies
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 This module governs presentation for:\uc0\u8232 \u8232  \'95 Module 7 \'96 Learning Intelligence\u8232  \'95 Module 8 \'96 Dashboards\u8232  \'95 Module 10 \'96 Rewards & Gamification\u8232  \'95 Module 11 \'96 Payments UI\u8232  \'95 Module 15 \'96 Governance\u8232  \'95 Module 22 \'96 Localization
\f3\fs24 \
\pard\pardeftab720\sa106\partightenfactor0

\f0\b\fs45\fsmilli22667 \cf0 23.15 Final Positioning
\f1\fs36 \
\pard\pardeftab720\sa266\partightenfactor0

\f2\b0\fs29\fsmilli14667 \cf0 Module 23 is a governance layer for experience.\uc0\u8232 \u8232  It ensures EduMall remains ethical, inclusive, transparent,\u8232  and learner-centric while scaling AI and reward systems.
\f3\fs24 \
\pard\pardeftab720\partightenfactor0
\cf0 \
\
}

============================================================
FILE PATH: ./DEPLOYMENT.md
============================================================
# EduMall Platform: Deployment & Disaster Recovery

## 1. Initial Setup
1. Define `DB_PII_VAULT_KEY` (Key V1) in your environment.
2. Run `bash launch.sh`.

## 2. Managing Key Rotations
The platform supports **Mixed-State Decryption**, meaning you can rotate keys while students are logged in.

### Steps to Rotate:
1. Add a second key to secrets: `app.vault_key_v2`.
2. Run the `RotationService` (targets rows where version = 1).
3. The platform will automatically use Key V2 for updated rows and Key V1 for remaining rows.
4. Once `v_compliance_vault_health` shows 0 rows for version 1, you may safely delete the old key.

## 3. Data Integrity
If a row is marked with version `-1`, it means the data was corrupted before the rotation. Contact the DB Administrator for forensic recovery.

============================================================
FILE PATH: ./frontend/tailwind.config.js
============================================================
/** @type {import('tailwindcss').Config} */
module.exports = {
  content: ["./src/**/*.{js,jsx,ts,tsx}"],
  theme: {
    extend: {
      colors: {
        // SRS 23.3: Professional Palette (Min 4.5:1 Contrast)
        primary: {
          DEFAULT: '#1A237E', // Deep Indigo (Trust)
          light: '#534BAE',
          dark: '#000051',
        },
        secondary: {
          DEFAULT: '#1B5E20', // Forest Green (Focus)
          light: '#4C8C4A',
          dark: '#003308',
        },
        danger: '#B71C1C', // Deep Red (Compliance Risk)
        warning: '#E65100', // Deep Orange (Alerts)
        background: '#F5F5F5',
        surface: '#FFFFFF',
      },
      // SRS 23.6: Forcing rem-based typography for scaling
      fontSize: {
        base: '1rem',      // 16px
        lg: '1.125rem',    // 18px
        xl: '1.25rem',     // 20px
        '2xl': '1.5rem',   // 24px
      },
    },
  },
  plugins: [],
};

============================================================
FILE PATH: ./frontend/package.json
============================================================
{
  "name": "edumall-frontend",
  "version": "1.0.0",
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "tailwindcss": "^3.3.0",
    "sanitize-html": "^2.11.0"
  },
  "devDependencies": {
    "eslint-plugin-jsx-a11y": "^6.7.1",
    "@testing-library/react": "^14.0.0"
  }
}

============================================================
FILE PATH: ./frontend/src/styles/globals.css
============================================================
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* SRS 23.6: Base font-size allows user-browser scaling to work correctly */
  font-size: 16px;
}

body {
  @apply bg-background text-slate-900;
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* SRS 23.8: Lightweight Skeleton State Animation */
.skeleton {
  @apply bg-slate-200 animate-pulse rounded;
}

/* Accessibility: High-visibility focus ring for keyboard navigation */
:focus-visible {
  @apply outline-none ring-4 ring-primary-light ring-offset-2;
}

============================================================
FILE PATH: ./frontend/src/components/AITutorChat.js
============================================================
import React from 'react';
import Button from './Button';

const AITutorChat = ({ messages, onSend, isThrottled }) => (
  <div className="flex flex-col h-[600px] bg-white rounded-3xl border-2 border-slate-100 shadow-2xl overflow-hidden">
    <div className="bg-primary p-5 text-white flex justify-between items-center">
      <div className="flex items-center gap-2">
        <div className="w-2 h-2 bg-green-400 rounded-full animate-pulse" />
        <span className="font-black tracking-tight">SOCRATIC MENTOR</span>
      </div>
      <span className="text-[9px] font-bold opacity-70 italic tracking-widest uppercase">Apex Integrated</span>
    </div>

    <div className="flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50/30">
      {messages.map((m, i) => (
        <div key={i} className={`flex ${m.role === 'user' ? 'justify-end' : 'justify-start'}`}>
          <div className={`max-w-[85%] p-4 rounded-2xl shadow-sm ${m.role === 'user' ? 'bg-primary text-white' : 'bg-white text-slate-800 border border-slate-200'}`}>
            <p className="text-sm leading-relaxed">{m.text}</p>
            {m.citations && (
              <div className="mt-3 pt-2 border-t border-slate-100 text-[8px] font-black text-secondary uppercase tracking-tighter">
                Sourced from: {m.citations.join(' | ')}
              </div>
            )}
          </div>
        </div>
      ))}
    </div>

    <div className="p-4 bg-white border-t flex gap-2">
      <input 
        disabled={isThrottled}
        className="flex-1 p-3 bg-slate-100 rounded-xl text-sm outline-none focus:ring-2 focus:ring-primary disabled:opacity-30" 
        placeholder={isThrottled ? "Burnout Governor: Active" : "How do I solve this?"} 
      />
      <Button label="Mentor" onClick={onSend} disabled={isThrottled} />
    </div>
  </div>
);

export default AITutorChat;

============================================================
FILE PATH: ./frontend/src/components/VideoPlayer.js
============================================================
import React, { useEffect, useRef } from 'react';
import Hls from 'hls.js';
import Watermark from './Watermark';

const VideoPlayer = ({ streamData, userSecurity }) => {
  const videoRef = useRef(null);

  useEffect(() => {
    if (Hls.isSupported() && streamData.url) {
      const hls = new Hls({
        // FIX: THE "DEVELOPER TOOLS" BYPASS
        // Ensures the token is automatically attached to every .ts segment request
        xhrSetup: (xhr, url) => {
          if (url.includes('.ts')) {
            const tokenParams = streamData.url.split('?')[1];
            xhr.open('GET', `${url}?${tokenParams}`, true);
          }
        }
      });
      hls.loadSource(streamData.url);
      hls.attachMedia(videoRef.current);
    }
  }, [streamData.url]);

  return (
    <div className="relative overflow-hidden rounded-lg bg-black aspect-video group">
      {/* 1. HARDENED WATERMARK */}
      <Watermark 
        maskedId={userSecurity.maskedId} 
        forensics={streamData.forensics} 
      />

      <video 
        ref={videoRef}
        controls
        className="w-full h-full"
        style={{ userSelect: 'none' }}
        controlsList="nodownload" 
      />
    </div>
  );
};

export default VideoPlayer;

============================================================
FILE PATH: ./frontend/src/components/ConsentModal.js
============================================================
import React from 'react';
import Button from './Button';

const ConsentModal = ({ noticeText, purposes, onAccept, onDecline }) => {
  return (
    <div className="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
      <div className="bg-white rounded-lg max-w-2xl w-full p-8 shadow-2xl">
        <h2 className="text-2xl font-bold text-primary mb-4">Privacy Update</h2>
        
        <div className="prose mb-6 overflow-y-auto max-h-60 p-4 bg-slate-50 rounded border">
          {/* SRS 15.7: Display the exact notice text versioned in Task 1.3 */}
          {noticeText}
        </div>

        <p className="text-sm text-slate-600 mb-6 italic">
          * Note: You can withdraw consent at any time in your profile settings.
        </p>

        <div className="flex flex-col md:flex-row gap-4 justify-end">
          <Button label="Decline & Exit" variant="outline" onClick={onDecline} />
          <Button label="I Accept these Terms" variant="primary" onClick={onAccept} />
        </div>
      </div>
    </div>
  );
};

export default ConsentModal;

============================================================
FILE PATH: ./frontend/src/components/NoticeBanner.js
============================================================
import React from 'react';

const NoticeBanner = ({ message, type = 'info' }) => {
  const styles = {
    info: "bg-primary text-white",
    warning: "bg-warning text-white",
    danger: "bg-danger text-white",
  };

  return (
    <div className={`w-full p-4 text-center font-medium ${styles[type]}`} role="alert">
      <p className="max-w-4xl mx-auto text-sm md:text-base">
        {message}
      </p>
    </div>
  );
};

export default NoticeBanner;

============================================================
FILE PATH: ./frontend/src/components/Watermark.js
============================================================
import React, { useState, useEffect } from 'react';

const Watermark = ({ maskedId, forensics }) => {
  const [style, setStyle] = useState({ top: '20%', left: '10%', opacity: 0.15 });

  useEffect(() => {
    const interval = setInterval(() => {
      // FIX: THE "FLOATING OBSTRUCTION" (Safe Zones)
      // Clamping: Top must be 15-75% (avoids title/controls), Left 5-70%
      const top = Math.floor(Math.random() * 60) + 15 + '%';
      const left = Math.floor(Math.random() * 65) + 5 + '%';
      
      // FIX: THE "OPACITY SCRUB"
      // Randomly varies between 10% and 25% to confuse level-based removal
      const opacity = (Math.random() * 0.15) + 0.10;
      
      setStyle({ top, left, opacity });
    }, 12000); 

    return () => clearInterval(interval);
  }, []);

  return (
    <div 
      className="absolute pointer-events-none select-none z-50 text-white font-mono leading-tight text-[10px] md:text-xs"
      style={{ ...style, transition: 'all 3s ease-in-out' }}
    >
      ID: {maskedId} <br />
      IP: {forensics.maskedIP} <br />
      SES: {forensics.sessionID} <br />
      {new Date().toLocaleTimeString()}
    </div>
  );
};

export default Watermark;

============================================================
FILE PATH: ./frontend/src/components/BIHeatmap.js
============================================================
import React from 'react';

const BIHeatmap = ({ data }) => {
  return (
    <div className="p-8 bg-white rounded-3xl border-2 border-slate-50 shadow-xl">
      <div className="flex justify-between items-start mb-8">
        <div>
          <h3 className="text-2xl font-black text-primary">Eagle Eye: Mastery Density</h3>
          <p className="text-sm text-slate-500 italic">Anonymized data for strategic intervention.</p>
        </div>
        <div className="bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-[10px] font-bold">
          DPDP ANONYMIZED
        </div>
      </div>
      
      <div className="grid grid-cols-2 md:grid-cols-5 gap-4">
        {data.map(item => (
          <div key={item.id} className="group relative">
             <div className={`h-24 w-full rounded-2xl transition-all shadow-inner
                ${item.avg_score > 80 ? 'bg-secondary' : item.avg_score > 60 ? 'bg-warning/30' : 'bg-danger/20'}`} 
             />
             <div className="mt-3 text-center">
                <div className="text-[10px] font-black text-slate-400 uppercase tracking-tighter">Topic ID</div>
                <div className="text-xs font-bold text-primary">{item.topic_id.substring(0,8)}</div>
                {item.is_minor && <div className="text-[8px] text-danger font-bold uppercase mt-1">Minor-Safety Protected</div>}
             </div>

             <div className="invisible group-hover:visible absolute -top-16 left-0 right-0 z-20 bg-slate-900 text-white p-3 rounded-xl text-[10px]">
                <strong>Score: {item.avg_score}%</strong><br />
                Sample Size: {item.sample_size} students<br />
                {item.sample_size < 10 ? " Statistical caution advised." : " High confidence trend."}
             </div>
          </div>
        ))}
      </div>
    </div>
  );
};

export default BIHeatmap;

============================================================
FILE PATH: ./frontend/src/components/Button.js
============================================================
import React from 'react';

const Button = ({ label, onClick, variant = 'primary', disabled = false, type = 'button' }) => {
  const baseStyles = "px-6 py-3 rounded font-semibold transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed";
  
  const variants = {
    primary: "bg-primary text-white hover:bg-primary-light",
    secondary: "bg-secondary text-white hover:bg-secondary-light",
    outline: "border-2 border-primary text-primary hover:bg-primary hover:text-white",
  };

  return (
    <button
      type={type}
      onClick={onClick}
      disabled={disabled}
      className={`${baseStyles} ${variants[variant]}`}
      aria-label={label} // Accessibility: Screen reader support
    >
      {label}
    </button>
  );
};

export default Button;

============================================================
FILE PATH: ./frontend/src/hooks/useProctoring.js
============================================================
import { useEffect } from 'react';

export const useProctoring = (onViolation) => {
  useEffect(() => {
    // 1. Tab Switch Detection
    const handleVisibility = () => {
      if (document.hidden) onViolation('TAB_SWITCH');
    };

    // 2. FIX 2: FOCUS-LOSS DETECTION (Dual-Monitor Check)
    const handleBlur = () => {
      onViolation('WINDOW_FOCUS_LOST'); // Student clicked outside the browser
    };

    // 3. Fullscreen Exit Detection
    const handleFullscreen = () => {
      if (!document.fullscreenElement) onViolation('FULLSCREEN_EXIT');
    };

    document.addEventListener('visibilitychange', handleVisibility);
    window.addEventListener('blur', handleBlur); 
    document.addEventListener('fullscreenchange', handleFullscreen);

    return () => {
      document.removeEventListener('visibilitychange', handleVisibility);
      window.removeEventListener('blur', handleBlur);
      document.removeEventListener('fullscreenchange', handleFullscreen);
    };
  }, [onViolation]);
};

============================================================
FILE PATH: ./backend/tests/stress_test_10k.js
============================================================
/**
 * INDIA-SCALE SIMULATION: 10,000 Concurrent Alerts (Memory Safe)
 */
async function runAcidTest() {
    console.log("STARTING HARDENED 10K STRESS TEST...");
    const startTime = Date.now();
    const totalRequests = 10000;
    const chunkSize = 50; // Only 50 simultaneous operations

    for (let i = 0; i < totalRequests; i += chunkSize) {
        const batch = [];
        for (let j = 0; j < chunkSize && (i + j) < totalRequests; j++) {
            // Priority 4 for most, Priority 1 for every 100th
            const priority = (i + j) % 100 === 0 ? 'SAFETY' : 'GROWTH';
            batch.push(dispatcher.send(..., { priorityLevel: priority }));
        }
        
        // Wait for this chunk of 50 to finish enqueuing before starting next 50
        await Promise.all(batch);
        
        if (i % 1000 === 0) console.log(`Progress: ${i}/${totalRequests}...`);
    }

    const duration = Date.now() - startTime;
    console.log(`STRESS TEST COMPLETE: 10k messages enqueued in ${duration}ms`);
}

============================================================
FILE PATH: ./backend/src/app.js
============================================================
const express = require('express');
const app = express();
const { verifyNodeAffinity } = require('./middleware/nodeAffinityGate');
const { verifyIDCard } = require('./middleware/authGate');
const { limiter } = require('./middleware/securityGate');

// 1. INFRASTRUCTURE LAYER
app.use(express.json({ limit: '2mb' }));
app.use(limiter); // DDoS Protection first

// 2. SOVEREIGN GATEWAY SEQUENCE (The "Border-First" Rule)
// Check if the school belongs on this server BEFORE looking at student data
app.use(verifyNodeAffinity); 

// 3. AUTHENTICATION LAYER
// Only runs if the node affinity matches the tenant
app.use(verifyIDCard);

// 4. BUSINESS ROUTES
app.get('/api/health', (req, res) => res.json({ status: "Sovereign" }));
app.use('/api/v1/analytics', require('./api/routes/analytics.routes'));
app.use('/api/v1/hr', require('./api/routes/hr.routes'));

module.exports = app;

============================================================
FILE PATH: ./backend/src/middleware/performanceGate.js
============================================================
// SRS 1.7: Referral Promoters have NO access to student performance
const blockSalesFromPerformance = (req, res, next) => {
    const { role } = req.user;

    if (role === 'REFERRAL_PROMOTER') {
        // Log the unauthorized attempt for the Guardian
        console.error(`SECURITY ALERT: Sales user ${req.user.userId} attempted to access performance data.`);
        return res.status(403).json({ 
            error: "ACCESS_DENIED", 
            message: "Referral Promoters are legally restricted from viewing student performance data." 
        });
    }
    next();
};

module.exports = { blockSalesFromPerformance };

============================================================
FILE PATH: ./backend/src/middleware/centerGate.js
============================================================
const centerLockdown = async (req, res, next) => {
    const staffProfile = await req.db('staff_profiles').where({ user_id: req.user.userId }).first();

    if (!staffProfile) return res.status(403).json({ error: "STAFF_PROFILE_REQUIRED" });

    // FIX: Physically inject the center_path ltree for the RLS policy
    await req.db.raw(`SET LOCAL app.current_center_path = ?`, [staffProfile.center_path]);
    
    req.centerPath = staffProfile.center_path;
    next();
};

module.exports = { centerLockdown };

============================================================
FILE PATH: ./backend/src/middleware/authGate.js
============================================================
const jwt = require('jsonwebtoken');
const { systemDb } = require('../database');
const { logSecurityEvent } = require('../core/utils/logger');

const verifyIDCard = async (req, res, next) => {
    const authHeader = req.headers['authorization'];
    const token = authHeader && authHeader.split(' ')[1];
    const deviceId = req.headers['x-device-id'];

    if (!token) return res.status(401).json({ error: "MISSING_ID" });

    jwt.verify(token, process.env.JWT_SECRET, async (err, user) => {
        if (err) return res.status(403).json({ error: "INVALID_ID" });

        // FIX: AUTOMATED FIRST-DEVICE BINDING (SRS 19.9)
        if (deviceId) {
            // We use systemDb to check for an existing binding
            const binding = await systemDb('user_device_bindings')
                .where({ user_id: user.id, tenant_id: user.tenantId })
                .first();

            if (!binding) {
                // FIRST TIME LOGIN: Adopt this device
                await systemDb('user_device_bindings').insert({
                    user_id: user.id,
                    tenant_id: user.tenantId,
                    device_id: deviceId
                });
                console.log(`[SECURITY] User ${user.id} bound to device ${deviceId}`);
            } else if (binding.device_id !== deviceId) {
                // SECOND DEVICE: Block entry
                await logSecurityEvent(user.id, user.tenantId, 'DEVICE_BINDING_VIOLATION', { attemptedId: deviceId });
                return res.status(403).json({ 
                    error: "UNAUTHORIZED_DEVICE", 
                    message: "Account locked to another device. Contact support to reset." 
                });
            }
        }

        req.user = user;
        next();
    });
};

module.exports = { verifyIDCard };

============================================================
FILE PATH: ./backend/src/middleware/partnerAuthGate.js
============================================================
const bcrypt = require('bcrypt');
const { systemDb } = require('../database');

const verifyPartnerKey = async (req, res, next) => {
    const clientId = req.headers['x-client-id'];
    const clientSecret = req.headers['x-client-secret'];

    if (!clientId || !clientSecret) return res.status(401).json({ error: "API_KEY_REQUIRED" });

    // Use Master handle to find the client initially
    const client = await systemDb('api_clients').where({ client_id: clientId, is_active: true }).first();
    if (!client) return res.status(401).json({ error: "INVALID_PARTNER" });

    const isMatch = await bcrypt.compare(clientSecret, client.client_secret_hash);
    if (!isMatch) return res.status(401).json({ error: "CREDENTIAL_MISMATCH" });

    req.user = {
        id: client.id,
        tenantId: client.tenant_id,
        role: 'EXTERNAL_PARTNER',
        scopes: client.scopes 
    };

    next();
};

module.exports = { verifyPartnerKey };

============================================================
FILE PATH: ./backend/src/middleware/scopeGate.js
============================================================
/**
 * SRS 18.12: Scope-Based Authorization
 */
const verifyScope = (requiredScope) => (req, res, next) => {
    const userScopes = req.user.scopes || [];

    if (!userScopes.includes(requiredScope) && !userScopes.includes('admin:all')) {
        return res.status(403).json({ 
            error: "INSUFFICIENT_SCOPE", 
            message: `Action requires '${requiredScope}' permission.` 
        });
    }

    next();
};

module.exports = { verifyScope };

============================================================
FILE PATH: ./backend/src/middleware/nodeAffinityGate.js
============================================================
const { systemDb } = require('../database');

/**
 * SRS 22.12: Hard-Border Verification (Pre-PII Lookup)
 */
const verifyNodeAffinity = async (req, res, next) => {
    // 1. Identify Tenant without touching 'users' table
    const tenantId = req.headers['x-tenant-id'] || (req.user && req.user.tenantId);
    const currentNodeId = process.env.NODE_ID; 

    if (!tenantId) return next();

    // 2. Lookup Node Affinity in Global Config
    const tenantConfig = await systemDb('tenants')
        .where({ id: tenantId })
        .select('home_node_id')
        .first();

    if (!tenantConfig) return res.status(404).json({ error: "TENANT_NOT_FOUND" });

    // 3. SOVEREIGNTY BLOCK (SRS 22.7)
    if (tenantConfig.home_node_id !== currentNodeId) {
        // Generic 451 error to prevent node-probing leaks
        return res.status(451).json({ 
            error: "REGIONAL_ACCESS_RESTRICTED",
            message: "Legal data residency protocols prohibit access via this node."
        });
    }

    next();
};

module.exports = { verifyNodeAffinity };

============================================================
FILE PATH: ./backend/src/middleware/consentGate.js
============================================================
const verifyConsent = (purpose) => async (req, res, next) => {
    const { userId, tenantId, jwtNoticeId, consents, consentEpoch } = req.user;

    // A. TOTAL KILL-SWITCH CHECK
    const isGloballyRevoked = await redis.get(`revocation:${userId}:${tenantId}:GLOBAL`);
    if (isGloballyRevoked) {
        await logSecurityEvent(userId, tenantId, '403_GLOBAL_REVOCATION_BLOCK', { userId, purpose });
        return res.status(403).json({ error: "ALL_CONSENT_WITHDRAWN" });
    }

    // B. VERSION SUPERSESSION
    const currentNotice = await noticeCache.getLatest(req.user.lang);
    if (jwtNoticeId !== currentNotice.id) {
        await logSecurityEvent(userId, tenantId, '403_NOTICE_SUPERSEDED', { jwtNoticeId, currentId: currentNotice.id });
        return res.status(403).json({ error: "NOTICE_SUPERSEDED" });
    }

    // C. EPOCH SYNC (Mid-session Grant)
    const systemEpoch = await redis.get(`consent_epoch:${userId}:${tenantId}`);
    if (systemEpoch && parseInt(systemEpoch) > consentEpoch) {
        return res.status(401).json({ error: "CONSENT_UPDATED" }); // Triggers Silent Refresh
    }

    // D. GRANULAR REVOCATION & JWT CHECK
    const isPurposeRevoked = await redis.get(`revocation:${userId}:${tenantId}:${purpose}`);
    if (isPurposeRevoked || !consents[purpose]) {
        await logSecurityEvent(userId, tenantId, '403_PURPOSE_LACKING', { purpose });
        return res.status(403).json({ error: "CONSENT_REQUIRED", purpose });
    }

    next();
};

============================================================
FILE PATH: ./backend/src/middleware/securityGate.js
============================================================
const rateLimit = require('express-rate-limit');
const helmet = require('helmet');
const cors = require('cors');

const headerProtection = helmet();

// FIX: Added 'localhost' support so the Project Executive can test locally
const allowedOrigins = [
    process.env.FRONTEND_URL,
    'http://localhost:3000',
    'http://localhost:5173' // Common for modern React apps
];

const corsOptions = {
    origin: function (origin, callback) {
        if (!origin || allowedOrigins.indexOf(origin) !== -1 || process.env.NODE_ENV === 'development') {
            callback(null, true);
        } else {
            callback(new Error('Not allowed by CORS'));
        }
    },
    optionsSuccessStatus: 200
};

const limiter = rateLimit({
    windowMs: 15 * 60 * 1000, 
    max: 500, 
    message: { error: "TOO_MANY_REQUESTS", message: "Too many attempts, please wait 15 minutes." },
    standardHeaders: true,
    legacyHeaders: false,
});

module.exports = { headerProtection, corsOptions: cors(corsOptions), limiter };

============================================================
FILE PATH: ./backend/src/database/init_hr_vault_v2.sql
============================================================
-- EDU-MALL HR VAULT & CAPACITY SCHEMA (V2.3 - SYSTEM-READY)
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- 1. STAFF PROFILES (Encrypted Vault)
DROP TABLE IF EXISTS staff_profiles CASCADE;
CREATE TABLE staff_profiles (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    center_path ltree NOT NULL,
    full_name BYTEA NOT NULL,
    national_id BYTEA,
    bank_details BYTEA,
    max_hours_per_week INT DEFAULT 40,
    current_rating DECIMAL(3,2),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 2. STAFF SEARCH INDEX
DROP TABLE IF EXISTS staff_search_indexes CASCADE;
CREATE TABLE staff_search_indexes (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    staff_id UUID REFERENCES staff_profiles(id) ON DELETE CASCADE,
    trigram_hash TEXT NOT NULL
);

-- 3. STAFF ASSIGNMENTS
DROP TABLE IF EXISTS staff_assignments CASCADE;
CREATE TABLE staff_assignments (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    staff_id UUID REFERENCES staff_profiles(id) NOT NULL,
    session_id UUID REFERENCES live_sessions(id) NOT NULL,
    hours_allocated DECIMAL(4,2) DEFAULT 1.5,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 4. SECURE HR VIEW
CREATE OR REPLACE VIEW v_decrypted_staff AS
SELECT 
    s.id, s.user_id, s.tenant_id, s.center_path, s.max_hours_per_week, s.current_rating,
    pgp_sym_decrypt(s.full_name, current_setting('app.staff_vault_key', true)) as full_name,
    pgp_sym_decrypt(s.national_id, current_setting('app.staff_vault_key', true)) as national_id,
    pgp_sym_decrypt(s.bank_details, current_setting('app.staff_vault_key', true)) as bank_details
FROM staff_profiles s;

-- 5. RLS POLICIES
ALTER TABLE staff_profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE staff_assignments ENABLE ROW LEVEL SECURITY;
ALTER TABLE staff_search_indexes ENABLE ROW LEVEL SECURITY;

CREATE POLICY tenant_isolation_policy ON staff_profiles USING (tenant_id = current_setting('app.current_tenant', true)::uuid);
CREATE POLICY tenant_isolation_policy ON staff_assignments USING (tenant_id = current_setting('app.current_tenant', true)::uuid);
CREATE POLICY tenant_isolation_policy ON staff_search_indexes USING (tenant_id = current_setting('app.current_tenant', true)::uuid);

============================================================
FILE PATH: ./backend/src/database/init_global_registry.sql
============================================================
-- EDU-MALL GLOBAL NODE REGISTRY (V1.0)
-- Defines physical hardware locations and tenant affinity

-- 1. PHYSICAL NODE DEFINITIONS
CREATE TABLE IF NOT EXISTS system_nodes (
    id VARCHAR(20) PRIMARY KEY,     -- e.g., 'NODE-IN-MUMBAI', 'NODE-EU-FRANKFURT'
    jurisdiction_id VARCHAR(10) REFERENCES jurisdictions(id),
    base_url TEXT NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 2. TENANT NODE AFFINITY (SRS 22.7)
-- Locks a school's data to a specific physical region
ALTER TABLE tenants ADD COLUMN IF NOT EXISTS home_node_id VARCHAR(20) REFERENCES system_nodes(id);

-- 3. LOG SYNC TRACKER
-- Ensures regional logs are sanitized before being pushed to Global HQ
ALTER TABLE security_audit_logs ADD COLUMN IF NOT EXISTS is_synced_to_hq BOOLEAN DEFAULT FALSE;

-- 4. RLS POLICIES
ALTER TABLE system_nodes ENABLE ROW LEVEL SECURITY;
CREATE POLICY global_read_policy ON system_nodes FOR SELECT TO public USING (true);

============================================================
FILE PATH: ./backend/src/database/update_batch_capacity.sql
============================================================
-- SRS 2.9: Seat usage limits
ALTER TABLE batches ADD COLUMN seat_limit INT DEFAULT 30;

============================================================
FILE PATH: ./backend/src/database/patch_comms_localization_v2.sql
============================================================
-- 1. SRS 2.1 & 22.3: Tenant-Aware Localization
ALTER TABLE notification_templates ADD COLUMN tenant_id UUID REFERENCES tenants(id);

-- 2. Update unique constraint: A slug can exist once per language per school
ALTER TABLE notification_templates DROP CONSTRAINT IF EXISTS unique_template_lang;
ALTER TABLE notification_templates ADD CONSTRAINT unique_template_tenant_lang 
    UNIQUE (slug, language_code, tenant_id);

-- 3. PROOF OF CONCEPT: Regional Override for School A
-- Imagine Tenant 'abc-123' wants a specific Hindi welcome
INSERT INTO notification_templates (slug, channel, category, language_code, tenant_id, subject_template, body_template)
VALUES (
    'REFERRAL_WELCOME_LEAD', 
    'WHATSAPP', 
    'MARKETING', 
    'hi', 
    '00000000-0000-0000-0000-000000000000', -- Replace with a real School UUID
    ' !', 
    '!   [School Name]    '
) ON CONFLICT DO NOTHING;

============================================================
FILE PATH: ./backend/src/database/patch_referral_final.sql
============================================================
-- 1. Patch Tables for Fraud Checks
ALTER TABLE users ADD COLUMN IF NOT EXISTS phone_hash TEXT;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS ip_address VARCHAR(45);

-- 2. OPAQUE REFERRAL LINKS
CREATE TABLE IF NOT EXISTS referral_links (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    promoter_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    slug VARCHAR(100) UNIQUE NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 3. REFERRAL EVENTS
CREATE TABLE IF NOT EXISTS referral_events (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    link_id UUID REFERENCES referral_links(id) NOT NULL,
    lead_id UUID REFERENCES leads(id) UNIQUE NOT NULL,
    status VARCHAR(20) DEFAULT 'PENDING',
    reward_issued BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 4. SALTED PRIVACY VIEW (SRS 17.12)
-- Using Salted HMAC so promoters cannot de-anonymize students
CREATE OR REPLACE VIEW v_promoter_referrals AS
SELECT 
    re.id as referral_event_id,
    rl.promoter_id,
    rl.tenant_id,
    re.status,
    re.reward_issued,
    encode(hmac(re.lead_id::text, current_setting('app.referral_salt', true), 'sha256'), 'hex') as display_prospect_id,
    re.created_at
FROM referral_events re
JOIN referral_links rl ON re.link_id = rl.id;

============================================================
FILE PATH: ./backend/src/database/init_maintenance_schema.sql
============================================================
-- 1. SYSTEM CHANGELOG (Hardened)
DROP TABLE IF EXISTS system_changelog;
CREATE TABLE system_changelog (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    version_tag VARCHAR(20) NOT NULL,
    change_type VARCHAR(20) NOT NULL,
    reason_code VARCHAR(100) NOT NULL,
    compliance_impact_rating INT CHECK (compliance_impact_rating BETWEEN 1 AND 5),
    pia_conducted BOOLEAN DEFAULT FALSE,
    authorized_by UUID REFERENCES users(id),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    -- FIX: MANDATORY PIA FOR HIGH IMPACT (Rating >= 4)
    CONSTRAINT enforce_pia_on_risk CHECK (compliance_impact_rating < 4 OR pia_conducted = TRUE)
);

-- 2. UX SENTIMENT (Monthly Only)
DROP TABLE IF EXISTS ux_sentiment_logs;
CREATE TABLE ux_sentiment_logs (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id) NOT NULL,
    helpful_status BOOLEAN NOT NULL,
    -- FIX: Ensure only one signal per user per month
    feedback_month DATE DEFAULT date_trunc('month', CURRENT_DATE),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(user_id, feedback_month)
);

ALTER TABLE ux_sentiment_logs ENABLE ROW LEVEL SECURITY;
CREATE POLICY user_isolation_policy ON ux_sentiment_logs 
    USING (user_id = current_setting('app.current_user_id', true)::uuid);

============================================================
FILE PATH: ./backend/src/database/index.js
============================================================
const knex = require('knex');
const config = require('../../knexfile');

// 1. REGULAR HANDLE (Standard users, restricted by RLS)
const db = knex(config.development);

// 2. MASTER KEY (System only, bypasses RLS)
// This handle connects as the 'table owner' or a privileged role
const systemDb = knex({
    ...config.development,
    connection: {
        ...config.development.connection,
        user: process.env.DB_SYSTEM_USER || 'edumall_master' 
    }
});

module.exports = { db, systemDb };

============================================================
FILE PATH: ./backend/src/database/patch_user_masking.sql
============================================================
-- SRS 17.12: Add masked_name to users
ALTER TABLE users ADD COLUMN IF NOT EXISTS masked_name VARCHAR(20);

-- Index for referral social-proof lookups
CREATE INDEX IF NOT EXISTS idx_user_masked_name_lookup ON users (id, masked_name);

-- Ensure all existing users have a fallback mask
UPDATE users SET masked_name = 'Learner' WHERE masked_name IS NULL;

============================================================
FILE PATH: ./backend/src/database/init_production_hardening.sql
============================================================
-- EDU-MALL PRODUCTION HARDENING & MIXED-STATE VIEWS
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- 1. ADD VERSIONING COLUMNS (SRS 20.9)
ALTER TABLE users ADD COLUMN IF NOT EXISTS vault_key_version INT DEFAULT 1;
ALTER TABLE leads ADD COLUMN IF NOT EXISTS vault_key_version INT DEFAULT 1;
ALTER TABLE staff_profiles ADD COLUMN IF NOT EXISTS vault_key_version INT DEFAULT 1;

-- 2. VERSION-AWARE DECRYPTION VIEW (LEADS)
-- This allows the app to stay online while we switch keys
CREATE OR REPLACE VIEW v_decrypted_leads AS
SELECT 
    id, tenant_id, status, is_minor, masked_name, vault_key_version,
    CASE vault_key_version
        WHEN 1 THEN pgp_sym_decrypt(full_name, current_setting('app.vault_key_v1', true))
        WHEN 2 THEN pgp_sym_decrypt(full_name, current_setting('app.vault_key_v2', true))
        WHEN -1 THEN '!!CORRUPT_DATA_MARKER!!'
        ELSE '!!KEY_VERSION_ERROR!!'
    END as full_name,
    CASE vault_key_version
        WHEN 1 THEN pgp_sym_decrypt(phone, current_setting('app.vault_key_v1', true))
        WHEN 2 THEN pgp_sym_decrypt(phone, current_setting('app.vault_key_v2', true))
        WHEN -1 THEN '!!CORRUPT_DATA_MARKER!!'
        ELSE '!!KEY_VERSION_ERROR!!'
    END as phone
FROM leads;

-- 3. VERSION-AWARE DECRYPTION VIEW (STAFF)
CREATE OR REPLACE VIEW v_decrypted_staff AS
SELECT 
    s.id, s.user_id, s.tenant_id, s.max_hours_per_week, s.vault_key_version,
    CASE vault_key_version
        WHEN 1 THEN pgp_sym_decrypt(s.full_name, current_setting('app.staff_key_v1', true))
        WHEN 2 THEN pgp_sym_decrypt(s.full_name, current_setting('app.staff_key_v2', true))
        WHEN -1 THEN '!!CORRUPT_DATA_MARKER!!'
        ELSE '!!KEY_VERSION_ERROR!!'
    END as full_name
FROM staff_profiles s;

-- 4. COMPLIANCE HEALTH MONITOR
CREATE OR REPLACE VIEW v_compliance_vault_health AS
SELECT 'leads' as table_name, vault_key_version, count(*) as row_count FROM leads GROUP BY 1, 2
UNION ALL
SELECT 'staff' as table_name, vault_key_version, count(*) as row_count FROM staff_profiles GROUP BY 1, 2;

============================================================
FILE PATH: ./backend/src/database/init_field_ops_v2.sql
============================================================
-- 1. PHYSICAL SESSIONS (Hardened with Path)
DROP TABLE IF EXISTS physical_sessions CASCADE;
CREATE TABLE physical_sessions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    center_id UUID REFERENCES academic_entities(id) NOT NULL,
    center_path ltree NOT NULL, -- SRS 2.3: Used for sub-tree isolation
    batch_id UUID REFERENCES batches(id) NOT NULL,
    start_time TIMESTAMP WITH TIME ZONE NOT NULL,
    end_time TIMESTAMP WITH TIME ZONE NOT NULL,
    status VARCHAR(20) DEFAULT 'SCHEDULED'
);

-- 2. PHYSICAL ATTENDANCE LOGS
DROP TABLE IF EXISTS physical_attendance_logs CASCADE;
CREATE TABLE physical_attendance_logs (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    session_id UUID REFERENCES physical_sessions(id) NOT NULL,
    user_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    center_path ltree NOT NULL, -- Added for RLS performance
    check_in_time TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    method VARCHAR(20) DEFAULT 'QR_SCAN'
);

-- 3. FIX: CENTER-LEVEL RLS (SRS 1.6 & 2.3)
-- Blocks "Sibling Peeking": Staff can only see their center or its children
ALTER TABLE physical_sessions ENABLE ROW LEVEL SECURITY;
ALTER TABLE physical_attendance_logs ENABLE ROW LEVEL SECURITY;

CREATE POLICY center_isolation_policy ON physical_sessions 
    USING (tenant_id = current_setting('app.current_tenant', true)::uuid 
    AND center_path <@ current_setting('app.current_center_path', true)::ltree);

CREATE POLICY center_isolation_policy ON physical_attendance_logs 
    USING (tenant_id = current_setting('app.current_tenant', true)::uuid 
    AND center_path <@ current_setting('app.current_center_path', true)::ltree);

============================================================
FILE PATH: ./backend/src/database/init_interop_bridge_v2.sql
============================================================
-- 1. API CLIENTS
DROP TABLE IF EXISTS api_clients CASCADE;
CREATE TABLE api_clients (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    client_id VARCHAR(50) UNIQUE NOT NULL,
    client_secret_hash TEXT NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    scopes JSONB DEFAULT '["read:syllabus"]', 
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 2. EXTERNAL DATA STAGING (Encrypted BYTEA)
DROP TABLE IF EXISTS external_sync_staging CASCADE;
CREATE TABLE external_sync_staging (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    external_source_name TEXT NOT NULL,
    internal_user_id UUID REFERENCES users(id),
    proposed_data BYTEA NOT NULL, 
    conflict_type VARCHAR(50),
    is_resolved BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- Apply RLS
ALTER TABLE api_clients ENABLE ROW LEVEL SECURITY;
ALTER TABLE external_sync_staging ENABLE ROW LEVEL SECURITY;
CREATE POLICY tenant_isolation_policy ON api_clients USING (tenant_id = current_setting('app.current_tenant', true)::uuid);
CREATE POLICY tenant_isolation_policy ON external_sync_staging USING (tenant_id = current_setting('app.current_tenant', true)::uuid);

============================================================
FILE PATH: ./backend/src/database/init_idempotency.sql
============================================================
-- 1. IDEMPOTENCY REGISTRY (SRS 11.2 & 19.2)
CREATE TYPE request_status AS ENUM ('PENDING', 'COMPLETED');

DROP TABLE IF EXISTS processed_requests CASCADE;
CREATE TABLE processed_requests (
    idempotency_key UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    status request_status DEFAULT 'PENDING',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 2. DEVICE BINDING (SRS 19.9)
CREATE TABLE IF NOT EXISTS user_device_bindings (
    user_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    device_id TEXT NOT NULL, 
    bound_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (user_id, tenant_id)
);

-- Apply RLS
ALTER TABLE processed_requests ENABLE ROW LEVEL SECURITY;
ALTER TABLE user_device_bindings ENABLE ROW LEVEL SECURITY;

CREATE POLICY tenant_isolation_policy ON processed_requests USING (tenant_id = current_setting('app.current_tenant', true)::uuid);
CREATE POLICY tenant_isolation_policy ON user_device_bindings USING (tenant_id = current_setting('app.current_tenant', true)::uuid);

============================================================
FILE PATH: ./backend/src/database/init_loyalty_ledger_v2.sql
============================================================
-- 1. HARDENED LEDGER: One event can only pay out to ONE bucket (Fixes Multi-Bucket Inflation)
DROP TABLE IF EXISTS reward_ledger;
CREATE TABLE reward_ledger (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    bucket bucket_type NOT NULL,
    amount INT NOT NULL,
    source_event_id UUID NOT NULL, 
    reason_code VARCHAR(100) NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    -- FIX: Mathematical uniqueness. User + Event = Exactly one reward.
    UNIQUE(user_id, source_event_id) 
);

-- 2. HARDENED BALANCES: Prevents negative scholarship values
DROP TABLE IF EXISTS reward_balances;
CREATE TABLE reward_balances (
    user_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    bucket bucket_type NOT NULL,
    balance INT DEFAULT 0,
    daily_total INT DEFAULT 0,
    last_earned_date DATE DEFAULT CURRENT_DATE,
    PRIMARY KEY (user_id, tenant_id, bucket),
    -- FIX: Zero-Floor Constraint
    CONSTRAINT balance_not_negative CHECK (balance >= 0)
);

-- 3. CUMULATIVE ACTIVITY LOG: Fixes Logout-Refresh Bypass
CREATE TABLE user_activity_heartbeats (
    user_id UUID REFERENCES users(id) NOT NULL,
    active_date DATE DEFAULT CURRENT_DATE,
    minutes_spent INT DEFAULT 0,
    PRIMARY KEY (user_id, active_date)
);

============================================================
FILE PATH: ./backend/src/database/init.sql
============================================================
-- 1. SETUP EXTENSIONS & ROLES
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
CREATE EXTENSION IF NOT EXISTS "ltree";

-- SYSTEM ROLE FOR READ-ONLY AUDITORS (SRS 1.11)
CREATE ROLE app_auditor;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO app_auditor;

-- 2. ENUMS
CREATE TYPE user_status AS ENUM ('INVITED', 'REGISTERED', 'ACTIVE', 'SUSPENDED', 'ARCHIVED');

-- 3. CORE TABLES
CREATE TABLE tenants (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    parent_id UUID REFERENCES tenants(id),
    node_path ltree,                      -- Path for loop-free hierarchy
    name VARCHAR(255) NOT NULL,
    slug VARCHAR(100) UNIQUE NOT NULL,
    type VARCHAR(50) NOT NULL,
    status VARCHAR(20) DEFAULT 'ACTIVE',
    branding_config JSONB,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    email VARCHAR(255) UNIQUE,
    full_name VARCHAR(255),
    status user_status DEFAULT 'INVITED',
    pii_consents JSONB,
    version INT DEFAULT 1,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE roles (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id), -- NULL = Global HQ Role
    role_name VARCHAR(50) NOT NULL,
    permissions JSONB NOT NULL,
    is_system_role BOOLEAN DEFAULT FALSE
);

CREATE TABLE user_tenant_memberships (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    role_id UUID REFERENCES roles(id),
    membership_status user_status DEFAULT 'ACTIVE',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(user_id, tenant_id)
);

CREATE TABLE parent_student_links (
    parent_user_id UUID REFERENCES users(id),
    student_user_id UUID REFERENCES users(id),
    relationship_type VARCHAR(50),
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (parent_user_id, student_user_id)
);

-- RLS-EXEMPT LOGGING TABLE (SRS 15.10)
CREATE TABLE security_audit_logs (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    attempted_tenant_id UUID,
    user_id UUID,
    event_type VARCHAR(50),
    metadata JSONB,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 4. SECURITY TRIGGERS
-- TRIGGER: Prevent Hierarchy Loops
CREATE OR REPLACE FUNCTION fn_sync_tenant_path() RETURNS TRIGGER AS $$
DECLARE parent_path ltree;
BEGIN
    IF NEW.parent_id IS NULL THEN NEW.node_path := NEW.slug::ltree;
    ELSE
        SELECT node_path FROM tenants WHERE id = NEW.parent_id INTO parent_path;
        IF parent_path <@ NEW.node_path THEN RAISE EXCEPTION 'Hierarchy Loop Detected'; END IF;
        NEW.node_path := parent_path || NEW.slug::ltree;
    END IF;
    RETURN NEW;
END; $$ LANGUAGE plpgsql;

CREATE TRIGGER trg_tenant_path_sync BEFORE INSERT OR UPDATE OF parent_id, slug ON tenants FOR EACH ROW EXECUTE FUNCTION fn_sync_tenant_path();

-- TRIGGER: Prevent Role Poaching
CREATE OR REPLACE FUNCTION fn_enforce_role_tenant_context() RETURNS TRIGGER AS $$
DECLARE role_tenant_id UUID;
BEGIN
    SELECT tenant_id FROM roles WHERE id = NEW.role_id INTO role_tenant_id;
    IF role_tenant_id IS NOT NULL AND role_tenant_id <> NEW.tenant_id THEN
        RAISE EXCEPTION 'Security Violation: Role-Tenant Mismatch';
    END IF;
    RETURN NEW;
END; $$ LANGUAGE plpgsql;

CREATE TRIGGER trg_membership_role_security BEFORE INSERT OR UPDATE ON user_tenant_memberships FOR EACH ROW EXECUTE FUNCTION fn_enforce_role_tenant_context();

-- 5. ROW LEVEL SECURITY (RLS)
ALTER TABLE user_tenant_memberships ENABLE ROW LEVEL SECURITY;
CREATE POLICY tenant_isolation_policy ON user_tenant_memberships USING (tenant_id = current_setting('app.current_tenant')::uuid);

============================================================
FILE PATH: ./backend/src/database/init_crm_interactions_v2.sql
============================================================
-- 1. HARDENED SEARCH INDEX (SRS 23.7)
DROP TABLE IF EXISTS lead_search_indexes;
CREATE TABLE lead_search_indexes (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    lead_id UUID REFERENCES leads(id) ON DELETE CASCADE,
    -- Each fragment is a 3-character hashed chunk
    trigram_hash TEXT NOT NULL 
);
CREATE INDEX idx_lead_trigram_search ON lead_search_indexes (tenant_id, trigram_hash);

-- 2. (Keep lead_interactions table from previous version)

============================================================
FILE PATH: ./backend/src/database/create_crm_views.sql
============================================================
-- SRS 13.4: Secure View for Counselor Interaction
-- This view decrypts the data only when 'app.vault_key' is set in the session
CREATE OR REPLACE VIEW v_decrypted_leads AS
SELECT 
    id, 
    tenant_id, 
    promoter_id, 
    status,
    pgp_sym_decrypt(full_name, current_setting('app.vault_key', true)) as full_name,
    pgp_sym_decrypt(email, current_setting('app.vault_key', true)) as email,
    pgp_sym_decrypt(phone, current_setting('app.vault_key', true)) as phone,
    source_metadata,
    created_at
FROM leads;

============================================================
FILE PATH: ./backend/src/database/patch_comms_pending.sql
============================================================
-- SRS 9.10: Add PENDING to allow decoupled external sending
ALTER TYPE comms_channel_status ADD VALUE IF NOT EXISTS 'PENDING';
-- Note: Depending on your Postgres version, you may need to use a different method 
-- to update the ENUM, but for this build, assume the value is now available.

============================================================
FILE PATH: ./backend/src/database/init_warehouse_v2.sql
============================================================
-- ==========================================================
-- EDU-MALL ANALYTICS WAREHOUSE (V2.4 - AIRTIGHT)
-- Task 6.1: Final Hardened Implementation
-- ==========================================================

CREATE EXTENSION IF NOT EXISTS "pgcrypto";
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- 1. WATERMARK TRACKING (O(1) Scaling)
CREATE TABLE IF NOT EXISTS warehouse_watermarks (
    table_name TEXT PRIMARY KEY,
    last_processed_id UUID,
    last_sync_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 2. FACT TABLE (Anonymized Data)
CREATE TABLE IF NOT EXISTS f_assessments (
    id UUID PRIMARY KEY, -- Matches Production ID for Watermarking
    tenant_id UUID NOT NULL,
    center_id UUID,        -- Populated via ETL join
    user_hash TEXT,        -- Salted HMAC. NULL if student erased (DPDP)
    is_minor BOOLEAN DEFAULT FALSE, -- FIX: Compliance flag added
    topic_id UUID NOT NULL,
    score DECIMAL(5,2),
    created_at TIMESTAMP WITH TIME ZONE
);

-- 3. THE ERASURE-AWARE TRIGGER
CREATE OR REPLACE FUNCTION fn_block_warehouse_mutation_v3() RETURNS TRIGGER AS $$
BEGIN
    IF (TG_OP = 'UPDATE' AND NEW.user_hash IS NULL AND OLD.user_hash IS NOT NULL) THEN
        RETURN NEW;
    END IF;
    RAISE EXCEPTION 'Warehouse Violation: Data is append-only. Only legal erasure is permitted.';
END; $$ LANGUAGE plpgsql;

DROP TRIGGER IF EXISTS trg_f_assessments_immutable ON f_assessments;
CREATE TRIGGER trg_f_assessments_immutable 
BEFORE UPDATE OR DELETE ON f_assessments 
FOR EACH ROW EXECUTE FUNCTION fn_block_warehouse_mutation_v3();

-- 4. K-ANONYMITY VIEW (SRS 21.9)
-- FIX: Uses COUNT(*) to include anonymized students in the threshold
CREATE OR REPLACE VIEW v_safe_topic_performance 
WITH (security_invoker = on) AS
SELECT 
    topic_id,
    tenant_id,
    is_minor,
    AVG(score) as avg_score,
    COUNT(*) as sample_size -- FIX: Count all records, even if hash is null
FROM f_assessments
GROUP BY topic_id, tenant_id, is_minor
HAVING COUNT(*) >= 5; -- THE RULE OF 5

-- 5. RLS POLICIES
ALTER TABLE f_assessments ENABLE ROW LEVEL SECURITY;
CREATE POLICY tenant_isolation_policy ON f_assessments 
    USING (tenant_id = current_setting('app.current_tenant', true)::uuid);

============================================================
FILE PATH: ./backend/src/database/init_assignments_v2.sql
============================================================
-- 1. HARDENED ASSIGNMENTS (SRS 5.1)
ALTER TABLE assignments ADD COLUMN answer_key BYTEA; -- Encrypted via pgp_sym_encrypt

-- 2. SECURE GATING RULES (Fixes Metadata Leak)
ALTER TABLE gating_rules ADD COLUMN tenant_id UUID REFERENCES tenants(id);

-- Apply RLS to Gating Rules
ALTER TABLE gating_rules ENABLE ROW LEVEL SECURITY;
CREATE POLICY tenant_isolation_policy ON gating_rules 
    USING (tenant_id = current_setting('app.current_tenant')::uuid);

-- 3. ATTACK SURFACE REDUCTION: View for Frontend
-- This view omits the 'answer_key' so it's physically impossible to leak to the UI
CREATE OR REPLACE VIEW v_public_assignments AS
SELECT id, tenant_id, entity_id, title, gating_threshold, is_remedial, created_at
FROM assignments;

============================================================
FILE PATH: ./backend/src/database/init_assessment_5a.sql
============================================================
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- 1. THE VAULT (Question Bank with SQL-Level Encryption)
CREATE TABLE questions (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    entity_id UUID REFERENCES academic_entities(id) NOT NULL,
    type q_type NOT NULL,
    difficulty q_difficulty NOT NULL,
    category q_category NOT NULL,
    -- Data is encrypted using a key from our .env
    question_text BYTEA NOT NULL, 
    options_json BYTEA NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 2. SECURE DECRYPTION VIEW (SRS 5.12)
-- Only returns readable text if 'app.vault_key' is set in the session
CREATE OR REPLACE VIEW v_secure_questions AS
SELECT 
    id, tenant_id, entity_id, type, difficulty, category,
    pgp_sym_decrypt(question_text, current_setting('app.vault_key', true)) as decrypted_text,
    pgp_sym_decrypt(options_json, current_setting('app.vault_key', true))::jsonb as decrypted_options
FROM questions;

-- 3. UPDATED ATTEMPT TABLE (No changes to unique constraint, but service logic changes)
CREATE TABLE exam_attempts (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    session_token UUID NOT NULL,
    status VARCHAR(20) DEFAULT 'STARTED',
    expires_at TIMESTAMP WITH TIME ZONE NOT NULL,
    UNIQUE(user_id, status) WHERE (status = 'STARTED')
);

============================================================
FILE PATH: ./backend/src/database/init_ai_tutor.sql
============================================================
-- EDU-MALL AI TUTOR & KNOWLEDGE SCHEMA (V1.2 - AIRTIGHT)
CREATE EXTENSION IF NOT EXISTS "pgvector";

-- 1. KNOWLEDGE STORE (RAG)
CREATE TABLE IF NOT EXISTS knowledge_vectors (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id), -- NULL = HQ Global
    entity_id UUID REFERENCES academic_entities(id) NOT NULL,
    content_chunk TEXT NOT NULL,
    embedding VECTOR(1536),
    metadata JSONB,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 2. CONVERSATION LOGS (Audit Trail)
CREATE TABLE IF NOT EXISTS tutor_conversation_logs (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    user_id UUID REFERENCES users(id) NOT NULL,
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    student_query_scrubbed TEXT NOT NULL,
    ai_response TEXT NOT NULL,
    citations JSONB,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- 3. FIX: DECRYPTED USER VIEW (For the Scrubber)
-- We pull from 'users' table because 'leads' is purged after conversion
CREATE OR REPLACE VIEW v_decrypted_users AS
SELECT 
    id, full_name as encrypted_name,
    pgp_sym_decrypt(full_name, current_setting('app.vault_key_v1', true)) as full_name
FROM users;

-- 4. RLS POLICIES
ALTER TABLE knowledge_vectors ENABLE ROW LEVEL SECURITY;
CREATE POLICY tenant_and_hq_isolation ON knowledge_vectors 
    USING (tenant_id = current_setting('app.current_tenant', true)::uuid OR tenant_id IS NULL);

============================================================
FILE PATH: ./backend/src/database/init_crm_leads_v2.sql
============================================================
-- Path: backend/src/database/init_crm_leads_v2.sql
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

-- 1. FINAL HARDENED LEADS TABLE
DROP TABLE IF EXISTS leads CASCADE;
CREATE TABLE leads (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    promoter_id UUID,
    -- SRS 1.10: ALL PII (Name, Email, Phone) is now encrypted at rest
    full_name BYTEA NOT NULL, 
    email BYTEA, 
    phone BYTEA NOT NULL,
    phone_hash TEXT NOT NULL, -- SHA256 for de-duplication
    status VARCHAR(50) DEFAULT 'NEW',
    source_metadata JSONB,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(tenant_id, phone_hash)
);

-- 2. HARDENED LEAD CONSENT
DROP TABLE IF EXISTS lead_consents CASCADE;
CREATE TABLE lead_consents (
    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    tenant_id UUID REFERENCES tenants(id) NOT NULL,
    lead_id UUID REFERENCES leads(id) ON DELETE CASCADE,
    notice_id UUID REFERENCES privacy_notices(id) NOT NULL,
    consent_matrix JSONB NOT NULL,
    ip_address VARCHAR(45),
    consented_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- Apply RLS to both tables
ALTER TABLE leads ENABLE ROW LEVEL SECURITY;
ALTER TABLE lead_consents ENABLE ROW LEVEL SECURITY;

CREATE POLICY tenant_isolation_policy ON leads USING (tenant_id = current_setting('app.current_tenant', true)::uuid);
CREATE POLICY tenant_isolation_policy ON lead_consents USING (tenant_id = current_setting('app.current_tenant', true)::uuid);

============================================================
FILE PATH: ./backend/src/database/init_academic_hierarchy.sql
============================================================
-- ==========================================================
-- EDU-MALL ACADEMIC HIERARCHY & IP PROTECTION ENGINE
-- Task 1.4: Final Hardened Implementation
-- ==========================================================

-- 1. HELPER FUNCTIONS & RANK ENGINE
-- ----------------------------------------------------------

-- Sanitize UUID for Ltree (removes hyphens for syntax compatibility)
CREATE OR REPLACE FUNCTION fn_clean_uuid_ltree(id UUID) RETURNS TEXT AS $$
BEGIN
    RETURN replace(id::text, '-', '_');
END; $$ LANGUAGE plpgsql;

-- Integer Ranks for Hierarchy Validation (SRS 3.2)
CREATE OR REPLACE FUNCTION fn_get_academic_rank(t academic_type) RETURNS INT AS $$
BEGIN
    RETURN CASE t
        WHEN 'PROGRAM'   THEN 1
        WHEN 'COURSE'    THEN 2
        WHEN 'SUBJECT'   THEN 3
        WHEN 'UNIT'      THEN 4
        WHEN 'TOPIC'     THEN 5
        WHEN 'SUB_TOPIC' THEN 6
        ELSE 99
    END;
END; $$ LANGUAGE plpgsql;


-- 2. HIERARCHY VALIDATION & IP ASSIGNMENT (SRS 3.6 / 3.12)
-- ----------------------------------------------------------

CREATE OR REPLACE FUNCTION fn_validate_academic_hierarchy_v4() RETURNS TRIGGER AS $$
DECLARE
    parent_rec RECORD;
    cleaned_id TEXT;
    cleaned_tenant TEXT;
BEGIN
    cleaned_id := fn_clean_uuid_ltree(NEW.id);
    cleaned_tenant := fn_clean_uuid_ltree(NEW.tenant_id);

    -- IP ASSIGNMENT: Force owner_tenant_id during insertion
    IF TG_OP = 'INSERT' THEN
        IF NEW.cloned_from_id IS NOT NULL THEN
            SELECT owner_tenant_id INTO NEW.owner_tenant_id FROM academic_entities WHERE id = NEW.cloned_from_id;
        ELSE
            NEW.owner_tenant_id := NEW.tenant_id;
        END IF;
    END IF;

    -- ROOT LEVEL CHECK
    IF NEW.parent_id IS NULL THEN
        IF NEW.type <> 'PROGRAM' THEN RAISE EXCEPTION 'Hierarchy Error: Root must be a PROGRAM.'; END IF;
        NEW.node_path := cleaned_tenant::ltree || cleaned_id::ltree;
        RETURN NEW;
    END IF;

    -- FETCH PARENT CONTEXT & CROSS-TENANT CHECK
    SELECT type, tenant_id, node_path FROM academic_entities WHERE id = NEW.parent_id INTO parent_rec;
    
    -- Allow "Subscribing" to HQ (Tenant 0) content only
    IF parent_rec.tenant_id <> NEW.tenant_id AND parent_rec.tenant_id <> '00000000-0000-0000-0000-000000000000'::uuid THEN
        RAISE EXCEPTION 'Security Violation: Tenant isolation breach.';
    END IF;

    -- RANK VALIDATION (Prevent Inversion)
    IF fn_get_academic_rank(NEW.type) <= fn_get_academic_rank(parent_rec.type) THEN
        RAISE EXCEPTION 'Hierarchy Inversion: % cannot be child of %.', NEW.type, parent_rec.type;
    END IF;

    -- PATH ASSEMBLY
    NEW.node_path := parent_rec.node_path || cleaned_id::ltree;

    RETURN NEW;
END; $$ LANGUAGE plpgsql;

CREATE TRIGGER trg_academic_hierarchy_gate_v4 
BEFORE INSERT OR UPDATE OF parent_id, type ON academic_entities 
FOR EACH ROW EXECUTE FUNCTION fn_validate_academic_hierarchy_v4();


-- 3. RECURSIVE PATH UPDATES (Maintains Tree Integrity)
-- ----------------------------------------------------------

CREATE OR REPLACE FUNCTION fn_cascade_academic_path_update() RETURNS TRIGGER AS $$
BEGIN
    -- If a node moves, update all children underneath it recursively
    IF (OLD.node_path IS DISTINCT FROM NEW.node_path) THEN
        UPDATE academic_entities
        SET node_path = NEW.node_path || subpath(node_path, nlevel(OLD.node_path))
        WHERE node_path <@ OLD.node_path AND id <> NEW.id;
    END IF;
    RETURN NEW;
END; $$ LANGUAGE plpgsql;

CREATE TRIGGER trg_academic_path_cascade 
AFTER UPDATE OF node_path ON academic_entities 
FOR EACH ROW EXECUTE FUNCTION fn_cascade_academic_path_update();


-- 4. IP SHIELD (SRS 3.6 PROTECTION)
-- ----------------------------------------------------------

CREATE OR REPLACE FUNCTION fn_enforce_ip_protection_v4() RETURNS TRIGGER AS $$
BEGIN
    -- Block edits if the user is not in the tenant that created the IP
    IF (OLD.owner_tenant_id::text <> current_setting('app.current_tenant', true)) THEN
        RAISE EXCEPTION 'IP Violation: You cannot modify content you do not own.';
    END IF;
    RETURN NEW;
END; $$ LANGUAGE plpgsql;

CREATE TRIGGER trg_academic_ip_shield_v4 
BEFORE UPDATE OR DELETE ON academic_entities 
FOR EACH ROW EXECUTE FUNCTION fn_enforce_ip_protection_v4();

============================================================
FILE PATH: ./backend/src/core/utils/signalPublisher.js
============================================================
class SignalPublisher {
    async publishSubmissionSignal(userId, tenantId, assignmentId, score, trx) {
        // FIX 2: AIRTIGHT TENANCY SCOPING
        // We now filter by tenant_id to prevent cross-tenant data bleed
        const recentAttempts = await trx('assignment_submissions')
            .where({ 
                user_id: userId, 
                tenant_id: tenantId, // Mandated Isolation
                assignment_id: assignmentId 
            })
            .orderBy('submitted_at', 'desc')
            .limit(3);

        const failCount = recentAttempts.filter(a => a.score < 50).length;

        if (failCount >= 3) {
            await logSecurityEvent(userId, tenantId, 'LEARNING_GAP_DETECTED', { 
                assignmentId, 
                averageScore: score,
                tenantBound: true 
            });
        }
    }
}

============================================================
FILE PATH: ./backend/src/core/utils/logger.js
============================================================
const db = require('../../database'); // Global access allowed ONLY here

const logSecurityEvent = async (userId, tenantId, eventType, metadata) => {
    try {
        await db('security_audit_logs').insert({
            user_id: userId,
            attempted_tenant_id: tenantId,
            event_type: eventType,
            metadata: JSON.stringify(metadata)
        });
    } catch (e) {
        console.error("CRITICAL SECURITY LOGGING FAILURE", e);
    }
};

module.exports = { logSecurityEvent };

============================================================
FILE PATH: ./backend/src/core/utils/referral.slug.js
============================================================
const crypto = require('crypto');

const generateOpaqueSlug = (promoterId, tenantId) => {
    const salt = process.env.REFERRAL_SALT || 'edumall_growth_2026';
    const rawPayload = `${promoterId}:${tenantId}:${Date.now()}`;
    const hash = crypto.createHmac('sha256', salt).update(rawPayload).digest('hex');
    return `ref_${hash.substring(0, 12)}`;
};

module.exports = { generateOpaqueSlug };

============================================================
FILE PATH: ./backend/src/core/utils/system.engine.js
============================================================
const { db, systemDb } = require('../../database');
const { logSecurityEvent } = require('./logger');

const executeAsSystem = (handlerFn) => async (req, res, next) => {
    const { sessionId } = req.body;
    const webhookSecret = req.headers['x-webhook-secret'];

    // 1. COMPLIANCE LOGGING: Track forgery attempts (SRS 15.10)
    if (webhookSecret !== process.env.LIVE_WEBHOOK_SECRET) {
        await logSecurityEvent(null, null, 'WEBHOOK_FORGERY_ATTEMPT', { ip: req.ip });
        return res.status(401).json({ error: "UNAUTHORIZED_SIGNAL" });
    }

    try {
        // 2. THE MASTER LOOKUP (Fixes RLS Catch-22)
        // Use systemDb to find the tenant_id (this handle ignores RLS)
        const session = await systemDb('live_sessions').where({ id: sessionId }).first();
        if (!session) throw new Error("SESSION_NOT_FOUND");

        // 3. SET CONTEXT & EXECUTE
        await db.transaction(async (trx) => {
            await trx.raw(`SET LOCAL app.current_tenant = ?`, [session.tenant_id]);
            req.db = trx;
            const result = await handlerFn(req);
            return res.status(200).json(result);
        });
    } catch (err) {
        await logSecurityEvent(null, null, 'SYSTEM_ENGINE_CRASH', { error: err.message });
        res.status(500).json({ error: "SIGNAL_PROCESSING_FAILED" });
    }
};

module.exports = { executeAsSystem };

============================================================
FILE PATH: ./backend/src/core/utils/comms.token.js
============================================================
const crypto = require('crypto');

/**
 * SRS 9.9 & 1.6: Generates a tenant-scoped signed token
 */
const generateUnsubscribeToken = (userId, tenantId, channel) => {
    const secret = process.env.COMMS_SECRET || 'edumall_voice_2026';
    const payload = `${userId}:${tenantId}:${channel}:${Date.now()}`;
    const signature = crypto.createHmac('sha256', secret).update(payload).digest('hex').substring(0, 16);
    return Buffer.from(`${payload}:${signature}`).toString('base64');
};

const verifyUnsubscribeToken = (tokenB64) => {
    try {
        const raw = Buffer.from(tokenB64, 'base64').toString();
        const [userId, tenantId, channel, timestamp, signature] = raw.split(':');
        const secret = process.env.COMMS_SECRET || 'edumall_voice_2026';
        
        const expected = crypto.createHmac('sha256', secret)
            .update(`${userId}:${tenantId}:${channel}:${timestamp}`)
            .digest('hex').substring(0, 16);
            
        if (signature !== expected) return null;
        
        // Expiry check (30 days)
        if (Date.now() - parseInt(timestamp) > 30 * 24 * 60 * 60 * 1000) return null;

        return { userId, tenantId, channel };
    } catch (e) { return null; }
};

module.exports = { generateUnsubscribeToken, verifyUnsubscribeToken };

============================================================
FILE PATH: ./backend/src/core/utils/execution.engine.js
============================================================
const { db } = require('../../database');
const { logSecurityEvent } = require('./logger');

const executeInContext = (controllerFn) => async (req, res, next) => {
    const { tenantId, userId } = req.user;
    const idempotencyKey = req.headers['x-idempotency-key'];

    try {
        const result = await db.transaction(async (trx) => {
            // 1. SET SECURITY CONTEXT
            await trx.raw(`SET LOCAL app.current_tenant = ?`, [tenantId]);
            await trx.raw(`SET LOCAL app.current_user_id = ?`, [userId]); // <--- New Variable
            
            if (req.centerPath) {
                await trx.raw(`SET LOCAL app.current_center_path = ?`, [req.centerPath]);
            }

            // 2. IDEMPOTENCY
            if (idempotencyKey) {
                const existing = await trx('processed_requests').where({ idempotency_key: idempotencyKey }).first();
                if (existing && existing.status === 'COMPLETED') return { _isIdempotent: true };
                if (!existing) {
                    await trx('processed_requests').insert({
                        idempotency_key: idempotencyKey, user_id: userId, tenant_id: tenantId, status: 'PENDING'
                    });
                }
            }

            // 3. EXECUTE
            const data = await controllerFn(req, trx);

            // 4. FINALIZE
            if (idempotencyKey) {
                await trx('processed_requests').where({ idempotency_key: idempotencyKey })
                    .update({ status: 'COMPLETED', updated_at: trx.fn.now() });
            }
            return data;
        });

        if (result?._isIdempotent) return res.status(409).json({ message: 'ALREADY_PROCESSED' });
        return res.status(200).json(result);

    } catch (err) {
        await logSecurityEvent(userId, tenantId, 'ENGINE_ERROR', { error: err.message });
        next(err);
    } finally {
        // FIX: THE NUCLEAR RESET (Includes app.current_user_id)
        try {
            await db.raw(`
                SET LOCAL app.current_tenant = '';
                SET LOCAL app.current_user_id = '';
                SET LOCAL app.current_center_path = '';
                SET LOCAL app.vault_key_v1 = '';
                SET LOCAL app.vault_key_v2 = '';
                SET LOCAL app.staff_key_v1 = '';
                SET LOCAL app.staff_key_v2 = '';
            `);
        } catch (resetErr) {
            console.error("POOL HYGIENE FAILURE", resetErr);
        }
    }
};

module.exports = { executeInContext };

============================================================
FILE PATH: ./backend/src/core/services/referral.service.js
============================================================
const FraudService = require('./fraud.service');
const LoyaltyService = require('./loyalty.service');

class ReferralService {
    async attributeLead(leadId, tenantId, slug, leadPhoneHash, clientIP, trx) {
        const link = await trx('referral_links').where({ slug, is_active: true }).first();
        if (!link) return null;

        const fraudCheck = await FraudService.isPotentialFraud(link.promoter_id, leadPhoneHash, clientIP, trx);
        
        await trx('referral_events').insert({
            link_id: link.id,
            lead_id: leadId,
            status: fraudCheck.isFraud ? 'FLAG_FRAUD' : 'PENDING'
        });

        return { attributed: !fraudCheck.isFraud };
    }

    async settleReferral(leadId, trx) {
        const event = await trx('referral_events')
            .join('referral_links', 'referral_events.link_id', 'referral_links.id')
            .where({ 
                'referral_events.lead_id': leadId, 
                'referral_events.status': 'PENDING',
                'referral_links.is_active': true 
            })
            .select('referral_events.*', 'referral_links.promoter_id', 'referral_links.tenant_id')
            .first();

        if (event) {
            await LoyaltyService.awardPoints(
                event.promoter_id, event.tenant_id, 'COMMUNITY', 500, event.id, 'REFERRAL_CONVERSION', trx
            );

            await trx('referral_events').where({ id: event.id }).update({ 
                status: 'CONVERTED', reward_issued: true 
            });
        }
    }
}

module.exports = new ReferralService();

============================================================
FILE PATH: ./backend/src/core/services/sync.service.js
============================================================
const { systemDb } = require('../../database');

class SyncService {
    async stageExternalData(tenantId, externalData, trx) {
        const vaultKey = process.env.DB_PII_VAULT_KEY;

        // FIX: PRIVILEGED LOOKUP (Find user across the whole platform)
        // systemDb ignores RLS so we don't create duplicates
        const internalUser = await systemDb('users').where({ phone_hash: externalData.phone_hash }).first();

        if (internalUser) {
            // FIX: SET VAULT KEY
            await trx.raw(`SET LOCAL app.vault_key = ?`, [vaultKey]);

            const [res] = await trx.raw(`SELECT pgp_sym_decrypt(?, ?) as name`, [internalUser.full_name, vaultKey]);
            
            if (externalData.fullName !== res.name) {
                await trx('external_sync_staging').insert({
                    tenant_id: tenantId,
                    external_source_name: externalData.source,
                    internal_user_id: internalUser.id,
                    proposed_data: trx.raw(`pgp_sym_encrypt(?, ?)`, [JSON.stringify(externalData), vaultKey]),
                    conflict_type: 'NAME_MISMATCH'
                });
                return { status: 'PAUSED_FOR_CONFLICT' };
            }
        }
        
        return { status: 'SYNC_READY' };
    }
}

module.exports = new SyncService();

============================================================
FILE PATH: ./backend/src/core/services/ai.scrubber.js
============================================================
/**
 * SRS 15.5: Identity-Aware Privacy Gate
 */
class AIScrubber {
    /**
     * @param {string} text - Raw student query
     * @param {string} realName - Decrypted name from 'users' vault
     * @param {string} locationName - Dynamic School/Center name
     */
    scrub(text, realName, locationName) {
        let clean = text;

        // 1. Pattern Scrubbing (Emails/Phones)
        const emailRegex = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g;
        const phoneRegex = /(\+91|0)?\s?\d{10}/g;
        clean = clean.replace(emailRegex, "[REDACTED_EMAIL]");
        clean = clean.replace(phoneRegex, "[REDACTED_PHONE]");

        // 2. Identity & Location Scrubbing
        if (realName && realName !== 'PURGED') {
            const nameRegex = new RegExp(realName.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&'), 'gi');
            clean = clean.replace(nameRegex, "[STUDENT_NAME]");
        }
        
        if (locationName) {
            const locRegex = new RegExp(locationName.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&'), 'gi');
            clean = clean.replace(locRegex, "[LOCATION]");
        }

        return clean;
    }
}

module.exports = new AIScrubber();

============================================================
FILE PATH: ./backend/src/core/services/onboarding.service.js
============================================================
const hrService = require('./hr.service');

class OnboardingService {
    /**
     * automateSetup: Final Handshake Sequence
     */
    async automateSetup(trx, userId, tenantId, role, isMinor, phoneHash, maskedName, parentId = null, rawName = null) {
        
        // 1. IDENTITY SYNC
        await trx('users').where({ id: userId }).update({
            phone_hash: phoneHash,
            masked_name: maskedName,
            current_session_started_at: trx.fn.now()
        });

        // 2. ROLE-BASED PROVISIONING
        if (role === 'STUDENT') {
            if (isMinor && !parentId) throw new Error("MINOR_SAFETY_VIOLATION");
            await trx('student_profiles').insert({ user_id: userId, tenant_id: tenantId });
            if (isMinor && parentId) {
                await trx('parent_student_links').insert({
                    parent_user_id: parentId, student_user_id: userId, relationship_type: 'GUARDIAN'
                });
            }
        } 
        else if (['TEACHER', 'FACULTY'].includes(role)) {
            await hrService.createStaffProfile(trx, userId, tenantId, {
                fullName: rawName,
                maxHours: 40
            });
        }

        // 3. INITIALIZE HEARTBEAT
        await trx('user_activity_heartbeats').insert({
            user_id: userId, active_date: trx.fn.now(), minutes_spent: 0
        }).onConflict(['user_id', 'active_date']).ignore();

        return { status: 'PROVISIONED' };
    }
}

module.exports = new OnboardingService();

============================================================
FILE PATH: ./backend/src/core/services/crm.service.js
============================================================
const crypto = require('crypto');

class CRMService {
    /**
     * FIX 2: TRIGRAM INDEXING (Partial Search Support)
     * "John" becomes ["joh", "ohn"] -> Hashed
     */
    async generateBlindIndexes(name, leadId, tenantId, trx) {
        const salt = process.env.BLIND_INDEX_SALT;
        const cleanName = name.toLowerCase().replace(/\s+/g, '');
        const hashes = [];

        for (let i = 0; i <= cleanName.length - 3; i++) {
            const chunk = cleanName.substring(i, i + 3);
            hashes.push(crypto.createHmac('sha256', salt).update(chunk).digest('hex'));
        }

        const rows = hashes.map(h => ({ lead_id: leadId, tenant_id: tenantId, trigram_hash: h }));
        await trx('lead_search_indexes').insert(rows);
    }

    /**
     * FIX 1 & 3: SECURE PEEK & KEY RESET
     */
    async getLeadDetails(leadId, trx) {
        const vaultKey = process.env.DB_PII_VAULT_KEY;
        
        try {
            // A. Set the key for this specific request
            await trx.raw(`SET LOCAL app.vault_key = ?`, [vaultKey]);

            // B. THE CONSENT GATE: Join with consents and check the 'counseling' bit
            // If the student said 'false', the query returns zero rows (Fail-Safe)
            const lead = await trx('v_decrypted_leads')
                .join('lead_consents', 'v_decrypted_leads.id', 'lead_consents.lead_id')
                .where({ 
                    'v_decrypted_leads.id': leadId,
                    'lead_consents.consent_matrix->>counseling': 'true' // Mandatory check
                })
                .select('v_decrypted_leads.*')
                .first();

            return lead;
        } finally {
            // FIX: THE "FROZEN CONNECTION" (Key Reset)
            // Hard-wipe the key from the connection before it goes back to the pool
            await trx.raw(`SET LOCAL app.vault_key = ''`);
        }
    }
}

module.exports = new CRMService();

============================================================
FILE PATH: ./backend/src/core/services/compliance.service.js
============================================================
const { systemDb } = require('../../database');

class ComplianceManager {
    /**
     * SRS 20.14: Generates the DPDP Compliance Artifact
     */
    async generateComplianceArtifact() {
        // 1. Fetch Version Distribution
        const vaultHealth = await systemDb('v_compliance_vault_health').select('*');
        
        // 2. CHECK FOR INCONSISTENCY
        // If there are multiple versions, the rotation is incomplete
        const versions = [...new Set(vaultHealth.map(h => h.vault_key_version))];
        const isAirtight = versions.length === 1 && versions[0] > 0;

        return {
            platform: "EduMall Sovereign OS",
            exportDate: new Date().toISOString(),
            auditStatus: isAirtight ? 'HEALTHY' : 'WARNING_MIXED_STATE',
            vaultVersioning: vaultHealth,
            encryptionStandard: "AES-256 PGP-Symmetric",
            forensicSample: await systemDb('security_audit_logs').limit(20)
        };
    }
}

module.exports = new ComplianceManager();

============================================================
FILE PATH: ./backend/src/core/services/throttle.service.js
============================================================
const { systemDb } = require('../../database');

class ThrottleService {
    /**
     * SRS 9.9 & 22.3: Atomic, Timezone-Safe Throttling
     */
    async isThrottled(userId, category, trx) {
        if (category === 'SAFETY') return false;

        // 1. ATOMIC LOCK (Stops Burst Spam)
        await trx('user_comms_locks').insert({ user_id: userId }).onConflict('user_id').ignore();
        await trx('user_comms_locks').where({ user_id: userId }).forUpdate();

        // 2. TIMEZONE CHECK (Fixes Timezone Injection Crash)
        let localHour = 12; // Safe default
        try {
            const user = await trx('users').where({ id: userId }).select('timezone').first();
            const userTime = new Date().toLocaleString("en-US", { 
                timeZone: user.timezone || 'Asia/Kolkata' 
            });
            localHour = new Date(userTime).getHours();
        } catch (tzError) {
            console.error(`TZ Error for user ${userId}, falling back to IST.`);
            // Fallback to IST if the timezone string is 'Hacker/Zone'
            const istTime = new Date().toLocaleString("en-US", { timeZone: 'Asia/Kolkata' });
            localHour = new Date(istTime).getHours();
        }

        if (localHour >= 22 || localHour < 7) {
            return { throttled: true, reason: 'QUIET_HOURS_ACTIVE' };
        }

        // 3. FREQUENCY CHECK (Including PENDING to prevent race-conditions)
        const recentCount = await trx('communication_logs')
            .where({ user_id: userId })
            .whereIn('status', ['SENT', 'PENDING']) // Reserve the slot!
            .whereRaw("created_at >= NOW() - INTERVAL '24 hours'")
            .join('notification_templates', 'communication_logs.template_id', 'notification_templates.id')
            .whereIn('notification_templates.category', ['REMEDIAL', 'REWARDS', 'MARKETING'])
            .count('communication_logs.id as total');

        if (parseInt(recentCount[0].total) >= 3) {
            return { throttled: true, reason: 'DAILY_CAP_REACHED' };
        }

        return { throttled: false };
    }
}

module.exports = new ThrottleService();

============================================================
FILE PATH: ./backend/src/core/services/service.js
============================================================
class AssessmentService {
    /**
     * FIX 1: RESUMPTION LOGIC (SRS 5.14)
     */
    async startExam(userId, tenantId, durationMins, trx) {
        // 1. Check if a 'STARTED' attempt already exists
        const existing = await trx('exam_attempts')
            .where({ user_id: userId, status: 'STARTED', tenant_id: tenantId })
            .first();

        if (existing) {
            // If it hasn't expired, return the existing session (RESUME)
            if (new Date() < new Date(existing.expires_at)) {
                return { attemptId: existing.id, sessionToken: existing.session_token, resume: true };
            }
            // If it HAS expired, close it out
            await trx('exam_attempts').where({ id: existing.id }).update({ status: 'EXPIRED' });
        }

        // 2. Otherwise, start a fresh session
        const sessionToken = crypto.randomUUID();
        const expiresAt = new Date(Date.now() + durationMins * 60000);

        const [newAttempt] = await trx('exam_attempts').insert({
            user_id: userId, tenant_id: tenantId, session_token: sessionToken, expires_at: expiresAt
        }).returning('*');

        return { attemptId: newAttempt.id, sessionToken, resume: false };
    }

    /**
     * FIX 4: RACE-CONDITION PROTECTION
     */
    async processSubmission(attemptId, answers, trx) {
        // STATE-LOCK: Only update if the status is still 'STARTED'
        const affectedRows = await trx('exam_attempts')
            .where({ id: attemptId, status: 'STARTED' }) 
            .update({
                status: 'SUBMITTED',
                topic_breakdown: JSON.stringify({ "ANALYTICAL": 85 }), // Simulated scoring
                score_percentage: 85.0
            });

        if (affectedRows === 0) {
            throw new Error("EXAM_ALREADY_SUBMITTED_OR_EXPIRED");
        }

        return { status: "SUCCESS" };
    }
}

============================================================
FILE PATH: ./backend/src/core/services/loyalty.service.js
============================================================
class PointAwardService {
    async awardPoints(userId, tenantId, bucket, amount, eventId, reason, trx) {
        // 1. CUMULATIVE FATIGUE CHECK (Fixes Logout-Refresh Bypass)
        // Sum total active time today from the heartbeat table
        const dailyActivity = await trx('user_activity_heartbeats')
            .where({ user_id: userId, active_date: trx.fn.now() })
            .first();

        const totalMinutesToday = dailyActivity ? dailyActivity.minutes_spent : 0;
        if (totalMinutesToday > 180) { // SRS 7.7: Hard stop at 3 hours daily total
            return { success: false, reason: "DAILY_WELLBEING_LIMIT_REACHED" };
        }

        // 2. ATOMIC CAP CHECK (Fixes Concurrent Grind)
        // 'FOR UPDATE' locks this specific user's bucket row until the transaction finishes.
        // Other 9 tabs will now have to wait in line.
        let balanceRow = await trx('reward_balances')
            .where({ user_id: userId, tenant_id: tenantId, bucket })
            .forUpdate() 
            .first();

        const currentDailyTotal = (balanceRow && balanceRow.last_earned_date === new Date().toISOString().split('T')[0]) 
            ? balanceRow.daily_total 
            : 0;

        const cap = bucket === 'ACADEMIC' ? 1000 : 200;
        if (currentDailyTotal + amount > cap) {
            return { success: false, reason: "DAILY_CAP_EXCEEDED" };
        }

        // 3. ATOMIC INSERT (Fixes Multi-Bucket Inflation)
        // This will fail automatically if the source_event_id was already used
        try {
            await trx('reward_ledger').insert({
                user_id: userId, tenant_id: tenantId, bucket, amount,
                source_event_id: eventId, reason_code: reason
            });

            await trx('reward_balances')
                .insert({ user_id: userId, tenant_id: tenantId, bucket, balance: amount, daily_total: amount })
                .onConflict(['user_id', 'tenant_id', 'bucket'])
                .merge({
                    balance: trx.raw('reward_balances.balance + ?', [amount]),
                    daily_total: trx.raw('CASE WHEN last_earned_date = CURRENT_DATE THEN daily_total + ? ELSE ? END', [amount, amount]),
                    last_earned_date: trx.raw('CURRENT_DATE')
                });

            return { success: true };
        } catch (err) {
            if (err.code === '23505') return { success: false, reason: "EVENT_ALREADY_REWARDED" };
            throw err;
        }
    }
}
module.exports = new PointAwardService();

============================================================
FILE PATH: ./backend/src/core/services/log.sanitizer.js
============================================================
class LogSanitizer {
    /**
     * SRS 22.10: Anonymized Log Sync with Metadata Scrubbing
     */
    async syncSanitizedLogs(systemDb) {
        const rawLogs = await systemDb('security_audit_logs')
            .where({ is_synced_to_hq: false })
            .limit(100);

        // ONLY allow these keys in the exported metadata JSON
        const SAFE_METADATA_KEYS = ['status_code', 'error_code', 'priority', 'latency_ms'];

        const sanitizedBatch = rawLogs.map(log => {
            const scrubbedMetadata = {};
            
            if (log.metadata) {
                SAFE_METADATA_KEYS.forEach(key => {
                    if (log.metadata[key]) scrubbedMetadata[key] = log.metadata[key];
                });
            }

            return {
                event_type: log.event_type,
                tenant_id: log.tenant_id,
                region: process.env.NODE_REGION,
                occurred_at: log.created_at,
                metadata: scrubbedMetadata, // Identity-stripped
                status: "ANONYMIZED_FOR_HQ"
            };
        });

        // Push sanitizedBatch to Task 6.1 Data Warehouse...
        // Mark as synced locally after success
    }
}

module.exports = new LogSanitizer();

============================================================
FILE PATH: ./backend/src/core/services/intelligence.service.js
============================================================
class LearningBrain {
    async analyzeSignals(userId, tenantId, topicId, trx) {
        // 1. Fetch current topic path
        const topic = await trx('academic_entities').where({ id: topicId }).first();
        if (!topic) return null;

        // 2. FIX: FOUNDATIONAL PRIORITY (The Join Fix)
        // We join with academic_entities to get the 'node_path' of previous gaps
        const foundationalGaps = await trx('learning_gaps')
            .join('academic_entities', 'learning_gaps.topic_id', 'academic_entities.id')
            .where({ 
                'learning_gaps.user_id': userId, 
                'learning_gaps.is_resolved': false 
            })
            // Does an ancestor path exist in our current gaps?
            .whereRaw('academic_entities.node_path @> ? AND academic_entities.id != ?', [topic.node_path, topicId])
            .first();

        if (foundationalGaps) {
            return { action: 'PRIORITIZE_FOUNDATION', target: foundationalGaps.topic_id };
        }

        // 3. TRIGGER NEW GAP (Evidence-based)
        // ... (Logic for signal counts) ...
    }

    async getActiveSuggestions(userId, trx) {
        // FIX: THE ZOMBIE NUDGE
        // Explicitly filter for 'SUGGESTED' status only
        return await trx('remedial_suggestions')
            .join('learning_gaps', 'remedial_suggestions.gap_id', 'learning_gaps.id')
            .where({ 
                'learning_gaps.user_id': userId, 
                'remedial_suggestions.status': 'SUGGESTED' 
            })
            .select('remedial_suggestions.*', 'learning_gaps.topic_id');
    }
}
module.exports = new LearningBrain();

============================================================
FILE PATH: ./backend/src/core/services/content.service.js
============================================================
const crypto = require('crypto');

class ContentService {
    /**
     * SRS 12.3: Generates a duration-aware token with Forensic Metadata
     */
    async getSignedAssetUrl(req, assetId, durationInSeconds) {
        const userId = req.user.userId;
        const tenantId = req.user.tenantId;
        const clientIP = req.ip.replace('::ffff:', ''); // Clean IPv4
        const sessionID = req.sessionID || 'no-session';

        // FIX: THE "MID-LESSON FREEZE"
        // Expiry = Video Length + 1 hour buffer for pausing/rewinding
        const expiry = Math.floor(Date.now() / 1000) + durationInSeconds + 3600;
        
        const secret = process.env.CONTENT_SIGNING_SECRET;
        
        // FORENSIC TOKEN: Includes IP and Session ID in the HMAC hash
        const token = crypto.createHmac('sha256', secret)
                            .update(`${assetId}:${expiry}:${tenantId}:${clientIP}:${sessionID}`)
                            .digest('hex');

        // MASKED IP for UX (e.g., 192.168.x.x)
        const maskedIP = clientIP.split('.').slice(0, 2).join('.') + '.x.x';

        return {
            url: `/api/v1/stream/${assetId}?token=${token}&expires=${expiry}`,
            forensics: {
                maskedIP,
                sessionID: sessionID.substring(0, 8), // Short ID for UI
                expiryDate: new Date(expiry * 1000).toISOString()
            }
        };
    }
}

module.exports = new ContentService();

============================================================
FILE PATH: ./backend/src/core/services/consent.service.js
============================================================
class ConsentManager {
    async revokeAllConsent(userId, tenantId) {
        await db.transaction(async (trx) => {
            // 1. Database: Persist Total Withdrawal
            await trx('user_consents')
                .where({ user_id: userId, tenant_id: tenantId, withdrawn_at: null })
                .update({ withdrawn_at: trx.fn.now() });

            // 2. Atomic Sync: Update Redis ONLY after DB success
            await trx.commit(); 
            
            // GLOBAL KILL SWITCH: Blocks all purposes immediately
            await redis.set(`revocation:${userId}:${tenantId}:GLOBAL`, 'true', 'EX', 86400);
            
            await logSecurityEvent(userId, tenantId, 'TOTAL_CONSENT_WITHDRAWAL', { userId });
        });
    }

    async grantConsent(userId, tenantId, matrix, noticeId) {
        await db.transaction(async (trx) => {
            // Upsert Logic...
            await trx('user_consents').insert({ ... }).onConflict(...).merge();
            
            await trx.commit(); // Ensure DB is saved before clearing blocks

            // Clear Redis blocks and increment Epoch for silent refresh
            await redis.del(`revocation:${userId}:${tenantId}:GLOBAL`);
            await redis.incr(`consent_epoch:${userId}:${tenantId}`);
        });
    }
}

============================================================
FILE PATH: ./backend/src/core/services/locale.service.js
============================================================
class LocaleService {
    /**
     * SRS 22.1: Detects the best language
     */
    getBestLanguage(userPreference, browserLangHeader) {
        const supported = ['en', 'hi', 'gu'];
        
        // 1. Highest Priority: User's chosen account setting
        if (userPreference && supported.includes(userPreference)) {
            return userPreference;
        }

        // 2. Secondary: Browser detection (Accept-Language header)
        if (browserLangHeader) {
            // Extract 'en' from 'en-US,en;q=0.9'
            const detected = browserLangHeader.split(',')[0].substring(0, 2).toLowerCase();
            if (supported.includes(detected)) return detected;
        }

        return 'en'; // Default
    }
}

module.exports = new LocaleService();

============================================================
FILE PATH: ./backend/src/core/services/fraud.service.js
============================================================
class FraudDetectionService {
    async isPotentialFraud(promoterId, leadPhoneHash, clientIP, trx) {
        // 1. SELF-REFERRAL CHECK (Promoter Hash vs Lead Hash)
        const promoter = await trx('users').where({ id: promoterId }).select('phone_hash').first();
        
        // Block if hashes match or if promoter doesn't have a hash (Identity Sync failure)
        if (!promoter || !promoter.phone_hash || promoter.phone_hash === leadPhoneHash) {
            return { isFraud: true, reason: 'SELF_REFERRAL_OR_IDENTITY_SYNC_FAIL' };
        }

        // 2. IP VELOCITY CHECK (Using global leads table)
        const recentIPCount = await trx('leads')
            .where({ ip_address: clientIP })
            .whereRaw("created_at > NOW() - INTERVAL '1 hour'")
            .count('id as total');

        if (parseInt(recentIPCount[0].total) > 5) {
            return { isFraud: true, reason: 'IP_VELOCITY_ABUSE' };
        }

        return { isFraud: false };
    }
}

module.exports = new FraudDetectionService();

============================================================
FILE PATH: ./backend/src/core/services/progression.service.js
============================================================
class ProgressionManager {
    /**
     * SRS 3.11: Path-Based Gating
     * Checks if the target OR ANY ANCESTOR is locked.
     */
    async checkAccess(userId, tenantId, entityId, trx) {
        // 1. Fetch the ltree path for the entity the student wants to access
        const target = await trx('academic_entities').where({ id: entityId }).first();
        if (!target) return { isLocked: false };

        // 2. FIND ALL POTENTIAL LOCKS: Get all rules for any node in this path
        // Using ltree logic: 'ancestor_path @> target.node_path'
        const activeLocks = await trx('gating_rules')
            .join('academic_entities', 'gating_rules.target_entity_id', 'academic_entities.id')
            .whereRaw('academic_entities.node_path @> ?', [target.node_path])
            .select('gating_rules.*');

        // 3. VERIFY EACH LOCK
        for (const rule of activeLocks) {
            const bestSubmission = await trx('assignment_submissions')
                .where({ 
                    user_id: userId, 
                    tenant_id: tenantId, 
                    assignment_id: rule.required_assignment_id 
                })
                .where('score', '>=', rule.min_mastery_required)
                .first();

            // FIX: If ANY parent is not cleared, the child is locked!
            if (!bestSubmission) {
                return {
                    isLocked: true,
                    reason: `Parent Module Locked. Clearance required at: ${rule.target_entity_id}`,
                    requiredAssignmentId: rule.required_assignment_id
                };
            }
        }

        return { isLocked: false };
    }
}

============================================================
FILE PATH: ./backend/src/core/services/notification.worker.js
============================================================
const { systemDb } = require('../../database');

class NotificationWorker {
    /**
     * SRS 9.10: The Zombie Hunter
     * Rescues jobs stuck in 'PROCESSING' for > 5 mins (e.g. server crash)
     */
    async rescueStalledJobs() {
        const affected = await systemDb('communication_logs')
            .where('status', 'PROCESSING')
            .andWhereRaw("updated_at < NOW() - INTERVAL '5 minutes'")
            .update({ 
                status: 'PENDING', 
                error_reason: 'WORKER_CRASH_RECOVERY' 
            });
        
        if (affected > 0) console.warn(`[RECOVERY] Rescued ${affected} zombie messages.`);
    }

    /**
     * SRS 20.10: High-Efficiency Priority Processing
     */
    async processQueue(batchSize = 50) {
        try {
            const jobs = await systemDb.transaction(async (trx) => {
                const pendingJobs = await trx('communication_logs')
                    .where({ status: 'PENDING' })
                    .orderBy([{ column: 'priority_score', order: 'asc' }, { column: 'created_at', order: 'asc' }])
                    .limit(batchSize)
                    .forUpdate()
                    .skipLocked()
                    .select('id', 'channel', 'user_id', 'priority_score');

                if (pendingJobs.length > 0) {
                    await trx('communication_logs')
                        .whereIn('id', pendingJobs.map(j => j.id))
                        .update({ status: 'PROCESSING', updated_at: trx.fn.now() });
                }
                return pendingJobs;
            });

            if (jobs.length === 0) return;

            // 1. PERFORM EXTERNAL SENDS (Simulated)
            const finishedIds = [];
            for (const job of jobs) {
                // await provider.send(...)
                finishedIds.push(job.id);
            }

            // 2. FIX: BULK FINISH (One round-trip instead of 50)
            await systemDb('communication_logs')
                .whereIn('id', finishedIds)
                .update({ status: 'SENT', updated_at: systemDb.fn.now() });

            console.log(`[WORKER] Batch of ${finishedIds.length} finalized.`);

        } catch (err) {
            console.error("Worker Error:", err.message);
        }
    }
}

module.exports = new NotificationWorker();

============================================================
FILE PATH: ./backend/src/core/services/lead.service.js
============================================================
const { systemDb } = require('../../database');
const { verifyReferralData } = require('../utils/attribution');
const GrowthHandler = require('./growth.handler');
const crypto = require('crypto');

class LeadService {
    /**
     * SRS 13.2: Captures a public prospect and prepares them for the CRM
     */
    async capturePublicLead(formData, refSlug) {
        // 1. MANDATORY DPDP CONSENT CHECK
        if (!formData.consents || formData.consents.counseling !== true) {
            throw new Error("LEGAL_CONSENT_REQUIRED");
        }

        // 2. NAME VALIDATION & MASKING (For Dashboard Veracity)
        const cleanName = (formData.name || '').trim();
        if (cleanName.length === 0) throw new Error("NAME_REQUIRED");

        const nameParts = cleanName.split(/\s+/);
        const firstName = nameParts[0];
        const lastName = nameParts.length > 1 ? nameParts[nameParts.length - 1] : '';
        const calculatedMask = lastName 
            ? `${firstName[0]}. ${lastName[0]}***` 
            : `${firstName[0]}.***`;

        // 3. BOT PROTECTION & ATTRIBUTION
        if (formData.website_field) return { success: false, reason: "BOT_DETECTED" };
        
        const attr = refSlug ? verifyReferralData(refSlug) : { tenantId: process.env.HQ_TENANT_ID };
        const vaultKey = process.env.DB_PII_VAULT_KEY;
        const phoneHash = crypto.createHash('sha256').update(formData.phone).digest('hex');

        try {
            const result = await systemDb.transaction(async (trx) => {
                // 4. CREATE ENCRYPTED LEAD RECORD
                const [lead] = await trx('leads').insert({
                    tenant_id: attr.tenantId,
                    promoter_id: attr.promoterId || null,
                    phone_hash: phoneHash,
                    masked_name: calculatedMask,
                    ip_address: formData.ip, 
                    full_name: trx.raw(`pgp_sym_encrypt(?, ?)`, [formData.name, vaultKey]),
                    email: trx.raw(`pgp_sym_encrypt(?, ?)`, [formData.email, vaultKey]),
                    phone: trx.raw(`pgp_sym_encrypt(?, ?)`, [formData.phone, vaultKey]),
                    source_metadata: JSON.stringify({ device: formData.device })
                }).returning('*');

                // 5. RECORD SHADOW CONSENT
                await trx('lead_consents').insert({
                    lead_id: lead.id,
                    tenant_id: attr.tenantId,
                    notice_id: formData.noticeId,
                    consent_matrix: JSON.stringify(formData.consents),
                    ip_address: formData.ip
                });

                return { 
                    success: true, 
                    leadId: lead.id, 
                    promoterId: attr.promoterId, 
                    tenantId: attr.tenantId, 
                    firstName 
                };
            });

            // 6. TRIGGER AUTOMATED WELCOME
            if (result.promoterId) {
                await GrowthHandler.handleNewReferralLead(
                    result.leadId, 
                    result.tenantId, 
                    result.promoterId, 
                    { firstName: result.firstName }
                );
            }

            return result;
        } catch (error) {
            if (error.code === '23505') return { success: false, reason: "DUPLICATE_LEAD" };
            throw error;
        }
    }
}

module.exports = new LeadService();

============================================================
FILE PATH: ./backend/src/core/services/conversion.service.js
============================================================
const { systemDb } = require('../../database');
const { logSecurityEvent } = require('../utils/logger');
const OnboardingService = require('./onboarding.service');

class ConversionService {
    async convert(leadId, offerId, txnId) {
        return await systemDb.transaction(async (trx) => {
            // A. ENABLE LEAD DECRYPTION
            const leadVaultKey = process.env.DB_PII_VAULT_KEY;
            await trx.raw(`SET LOCAL app.vault_key = ?`, [leadVaultKey]);

            // B. FETCH LEAD (Decrypted)
            const lead = await trx('v_decrypted_leads').where({ id: leadId }).forUpdate().first();
            if (!lead || lead.status === 'CONVERTED') return { success: true };

            const offer = await trx('admission_offers').where({ id: offerId }).first();
            if (!offer) throw new Error("OFFER_NOT_FOUND");

            // C. FETCH TARGET ROLE ID (SRS 1.3)
            const targetRoleName = lead.intended_role || 'STUDENT';
            const role = await trx('roles').where({ role_name: targetRoleName, tenant_id: lead.tenant_id }).first();
            if (!role) throw new Error("TENANT_ROLE_NOT_CONFIGURED");

            // D. CREATE USER (Identity only)
            const leadRaw = await trx('leads').where({ id: leadId }).first();
            const [user] = await trx('users').insert({
                full_name: leadRaw.full_name,
                email: leadRaw.email,
                phone: leadRaw.phone,
                status: 'REGISTERED'
            }).returning('*');

            // E. FIX: CREATE TENANT MEMBERSHIP (Auth Fix)
            await trx('user_tenant_memberships').insert({
                user_id: user.id,
                tenant_id: lead.tenant_id,
                role_id: role.id,
                membership_status: 'ACTIVE'
            });

            // F. CLEAN HANDSHAKE (Profile Setup)
            await OnboardingService.automateSetup(
                trx, user.id, lead.tenant_id, targetRoleName, lead.is_minor, 
                leadRaw.phone_hash, leadRaw.masked_name, 
                leadRaw.source_metadata?.parentId || null,
                lead.full_name // Readable string for HR Vault
            );

            // G. ENROLL & PURGE
            await trx('enrollments').insert({ user_id: user.id, tenant_id: lead.tenant_id, batch_id: offer.batch_id });
            await trx('leads').where({ id: leadId }).update({
                status: 'CONVERTED',
                full_name: Buffer.from('PURGED'),
                phone_hash: 'PURGED_' + leadId
            });

            await logSecurityEvent(user.id, lead.tenant_id, 'CONVERSION_SUCCESS', { leadId });
            return { userId: user.id, success: true };
        });
    }
}

module.exports = new ConversionService();

============================================================
FILE PATH: ./backend/src/core/services/rotation.service.js
============================================================
const { systemDb } = require('../../database');

class RotationService {
    /**
     * SRS 20.9: Resilient Key Rotation
     */
    async rotateVaultKey(oldKey, newKey, oldVersion, newVersion, targetTable = 'users') {
        console.log(`[ROTATION] Starting migration for ${targetTable} to V${newVersion}...`);
        
        let hasMore = true;
        let totalProcessed = 0;

        while (hasMore) {
            // Fetch rows that are still on the old version
            const batch = await systemDb(targetTable)
                .where({ vault_key_version: oldVersion })
                .limit(50)
                .select('id', 'full_name', 'phone');

            if (batch.length === 0) {
                hasMore = false;
                break;
            }

            for (const row of batch) {
                try {
                    // ATOMIC DECISION: Update the individual row
                    await systemDb(targetTable).where({ id: row.id }).update({
                        full_name: systemDb.raw(`pgp_sym_encrypt(pgp_sym_decrypt(?, ?), ?)`, [row.full_name, oldKey, newKey]),
                        phone: row.phone ? systemDb.raw(`pgp_sym_encrypt(pgp_sym_decrypt(?, ?), ?)`, [row.phone, oldKey, newKey]) : null,
                        vault_key_version: newVersion // Mark as Success
                    });
                    totalProcessed++;
                } catch (rowError) {
                    // FIX: THE STALL-BREAKER
                    // If a row fails, we mark it as -1 so the next loop skips it
                    console.error(`[ERROR] Row ${row.id} is unreadable. Skipping.`);
                    await systemDb(targetTable).where({ id: row.id }).update({ vault_key_version: -1 });
                }
            }
            console.log(`[ROTATION] Commit: ${totalProcessed} rows migrated.`);
        }
        return totalProcessed;
    }
}

module.exports = new RotationService();

============================================================
FILE PATH: ./backend/src/core/services/migration.service.js
============================================================
const { systemDb } = require('../../database');

class MigrationService {
    /**
     * SRS 18.6: Regulated Migration with Total Shadow Purge
     */
    async migrateStudent(userId, tenantId, vaultKey) {
        return await systemDb.transaction(async (trx) => {
            // 1. Export Data (Decrypted locally for transfer)
            const [user] = await trx.raw(`
                SELECT *, pgp_sym_decrypt(full_name, ?) as name 
                FROM users WHERE id = ?
            `, [vaultKey, userId]);

            // 2. PURGE SEARCH INDEXES (Fixes Retention Failure)
            const staffProfile = await trx('staff_profiles').where({ user_id: userId }).first();
            if (staffProfile) {
                await trx('staff_search_indexes').where({ staff_id: staffProfile.id }).delete();
            }
            await trx('lead_search_indexes').where({ user_id: userId }).delete();

            // 3. HARD PURGE IDENTITY & HASHES
            await trx('users').where({ id: userId }).update({
                status: 'ARCHIVED',
                full_name: Buffer.from('MIGRATED_OUT'),
                email: null,
                phone: null,
                phone_hash: null, // Wipe de-duplication hash
                masked_name: 'M. Out'
            });

            await trx('security_audit_logs').insert({
                user_id: userId,
                event_type: 'CROSS_BORDER_MIGRATION_COMPLETED',
                metadata: { status: 'PURGED' }
            });
        });
    }
}

module.exports = new MigrationService();

============================================================
FILE PATH: ./backend/src/core/services/notice.service.js
============================================================
const db = require('../../database');
const noticeCache = require('../../infrastructure/cache');

class NoticeService {
    async publishNotice(noticeData) {
        return await db.transaction(async (trx) => {
            // 1. Deactivate current active notice for this language
            await trx('privacy_notices')
                .where({ language_code: noticeData.language_code, is_active: true })
                .update({ is_active: false });

            // 2. Insert and activate new version
            const [newNotice] = await trx('privacy_notices').insert({
                ...noticeData,
                is_active: true,
                published_at: db.fn.now()
            }).returning('*');

            // 3. CACHE INVALIDATION: Force the platform to fetch the new version ID
            await noticeCache.del(`latest_notice:${noticeData.language_code}`);
            
            return newNotice;
        });
    }
}

============================================================
FILE PATH: ./backend/src/core/services/masking.service.js
============================================================
const crypto = require('crypto');

class MaskingService {
    async prepareExternalPayload(userRaw, tenantId, trx) {
        const consent = await trx('user_consents')
            .where({ user_id: userRaw.id, tenant_id: tenantId, withdrawn_at: null })
            .first();

        const hasConsent = consent && consent.consent_matrix['THIRD_PARTY'];
        const vaultKey = process.env.DB_PII_VAULT_KEY;

        if (hasConsent) {
            // FIX: SET VAULT KEY (Turns the key in the lock)
            await trx.raw(`SET LOCAL app.vault_key = ?`, [vaultKey]);

            const [decrypted] = await trx.raw(`
                SELECT 
                    pgp_sym_decrypt(?, ?) as name,
                    pgp_sym_decrypt(?, ?) as email
            `, [userRaw.full_name, vaultKey, userRaw.email, vaultKey]);

            return { external_user_id: userRaw.id, full_name: decrypted.name, email: decrypted.email };
        } else {
            const anonId = crypto.createHash('sha256').update(userRaw.id).digest('hex').substring(0, 12);
            return { external_user_id: `anon_${anonId}`, full_name: "EduMall Learner", email: "protected@edumall.sovereign" };
        }
    }
}

module.exports = new MaskingService();

============================================================
FILE PATH: ./backend/src/core/services/hr.service.js
============================================================
const crypto = require('crypto');

class WorkloadManager {
    /**
     * SRS 16.12: Staff Vault Population
     * rawData includes: fullName, nationalId, bankDetails
     */
    async createStaffProfile(trx, userId, tenantId, rawData) {
        // FIX: Consistent Staff Key for Vault
        const staffKey = process.env.DB_STAFF_VAULT_KEY;

        const [profile] = await trx('staff_profiles').insert({
            user_id: userId,
            tenant_id: tenantId,
            center_path: rawData.centerPath || 'root',
            full_name: trx.raw(`pgp_sym_encrypt(?, ?)`, [rawData.fullName, staffKey]),
            national_id: rawData.nationalId ? trx.raw(`pgp_sym_encrypt(?, ?)`, [rawData.nationalId, staffKey]) : null,
            bank_details: rawData.bankDetails ? trx.raw(`pgp_sym_encrypt(?, ?)`, [rawData.bankDetails, staffKey]) : null,
            max_hours_per_week: rawData.maxHours || 40
        }).returning('*');

        await this.generateStaffSearchIndexes(rawData.fullName, profile.id, tenantId, trx);
        return profile;
    }

    async checkScheduleConflict(staffId, newSessionId, trx) {
        const newSession = await trx('live_sessions').where({ id: newSessionId }).first();
        const conflict = await trx('staff_assignments')
            .join('live_sessions', 'staff_assignments.session_id', 'live_sessions.id')
            .where('staff_assignments.staff_id', staffId)
            .andWhere('live_sessions.start_time', '<', newSession.end_time)
            .andWhere('live_sessions.end_time', '>', newSession.start_time)
            .first();

        if (conflict) throw new Error("FACULTY_DOUBLE_BOOKING_DETECTED");
        return false;
    }

    async getWeeklyLoad(staffId, trx) {
        const result = await trx('staff_assignments')
            .join('live_sessions', 'staff_assignments.session_id', 'live_sessions.id')
            .where('staff_assignments.staff_id', staffId)
            .whereRaw("live_sessions.start_time >= date_trunc('week', now())")
            .whereRaw("live_sessions.start_time < date_trunc('week', now()) + interval '1 week'")
            .sum('staff_assignments.hours_allocated as total');
        
        return parseFloat(result[0].total || 0);
    }

    async generateStaffSearchIndexes(name, staffId, tenantId, trx) {
        const salt = process.env.BLIND_INDEX_SALT;
        const cleanName = name.toLowerCase().replace(/\s+/g, '');
        const hashes = [];
        for (let i = 0; i <= cleanName.length - 3; i++) {
            const chunk = cleanName.substring(i, i + 3);
            hashes.push(crypto.createHmac('sha256', salt).update(chunk).digest('hex'));
        }
        const rows = hashes.map(h => ({ staff_id: staffId, tenant_id: tenantId, trigram_hash: h }));
        if (rows.length > 0) await trx('staff_search_indexes').insert(rows);
    }
}

module.exports = new WorkloadManager();

============================================================
FILE PATH: ./backend/src/core/services/maintenance.routes.js
============================================================
const { systemDb } = require('../../database');

class MaintenanceService {
    /**
     * runSovereigntyCheck: The Deep Audit
     */
    async runSovereigntyCheck() {
        const requiredTables = ['users', 'leads', 'staff_profiles', 'f_assessments'];
        
        // FIX: THE DEEP CHECK (Verifies both RLS status AND Policy existence)
        const audit = await systemDb.raw(`
            SELECT 
                t.tablename, 
                t.relrowsecurity as rls_enabled,
                COUNT(p.policyname) as policy_count
            FROM (SELECT tablename, relname FROM pg_tables JOIN pg_class ON relname = tablename WHERE schemaname = 'public') t
            LEFT JOIN pg_policy p ON p.tablename = t.tablename
            WHERE t.tablename IN (${requiredTables.map(t => `'${t}'`).join(',')})
            GROUP BY t.tablename, t.relrowsecurity
        `);

        const vulnerabilities = audit.rows.filter(r => !r.rls_enabled || parseInt(r.policy_count) === 0);

        return {
            timestamp: new Date().toISOString(),
            status: vulnerabilities.length === 0 ? 'PASS' : 'FAIL',
            posture: vulnerabilities.length === 0 ? 'SOVEREIGN' : 'COMPROMISED',
            details: audit.rows.map(r => ({
                table: r.tablename,
                secure: r.rls_enabled && parseInt(r.policy_count) > 0,
                policyCount: r.policy_count
            }))
        };
    }
}

module.exports = new MaintenanceService();

============================================================
FILE PATH: ./backend/src/core/services/notification.dispatcher.js
============================================================
const handlebars = require('handlebars');
const sanitizeHtml = require('sanitize-html');
const { systemDb } = require('../../database');
const ThrottleService = require('./throttle.service');
const LocaleService = require('./locale.service');

class NotificationDispatcher {
    /**
     * send: Now with "Best Match" Single-Query Logic
     */
    async send(userId, tenantId, templateSlug, data, options = {}) {
        const { triggerId, browserLang } = options;
        let logId = null;

        try {
            const reservation = await systemDb.transaction(async (trx) => {
                const user = await trx('users').where({ id: userId, tenant_id: tenantId }).first();
                if (!user) return { status: 'ERROR_USER_NOT_FOUND' };

                // 1. Resolve Language Preference
                const lang = LocaleService.getBestLanguage(user.preferred_language, browserLang);

                // 2. THE "BEST MATCH" QUERY (Fixes Performance & Tenancy)
                // We find the specific template in one go, prioritizing Tenant matches over HQ defaults
                const template = await trx('notification_templates')
                    .where({ slug: templateSlug, is_active: true })
                    .andWhere(function() {
                        this.where({ tenant_id: tenantId }).orWhereNull('tenant_id');
                    })
                    .orderByRaw(`
                        (tenant_id = ?) DESC,         -- Match specific school first
                        (language_code = ?) DESC,    -- Match preferred language second
                        (language_code = 'en') DESC  -- Match English third
                    `, [tenantId, lang])
                    .first();

                if (!template) return { status: 'ERROR_TEMPLATE_NOT_FOUND' };

                // 3. CONSENT & THROTTLE (As before)
                const throttle = await ThrottleService.isThrottled(userId, template.category, trx);
                if (throttle.throttled) return { status: 'THROTTLED', reason: throttle.reason };

                // 4. LOG & PREPARE
                const [log] = await trx('communication_logs').insert({
                    user_id: userId, tenant_id: tenantId, template_id: template.id,
                    channel: template.channel, status: 'PENDING', trigger_event_id: triggerId
                }).returning('id');
                
                logId = log.id;
                const rawBody = handlebars.compile(template.body_template)({
                    ...data, maskedId: (user.masked_security_id || '').substring(0, 8)
                });

                return { status: 'READY', body: sanitizeHtml(rawBody), lang: template.language_code };
            });

            if (reservation.status !== 'READY') return reservation;

            // --- STEP 2: SEND ---
            console.log(`[DISPATCH] [${reservation.lang}] to ${userId}`);
            await systemDb('communication_logs').where({ id: logId }).update({ status: 'SENT' });
            return { status: 'SENT', language: reservation.lang };

        } catch (err) {
            console.error("Dispatcher Failure:", err.message);
            return { status: 'CRASHED' };
        }
    }
}

module.exports = new NotificationDispatcher();

============================================================
FILE PATH: ./backend/src/core/services/ai.tutor.js
============================================================
const Scrubber = require('./ai.scrubber');
const { systemDb } = require('../../database');

class AITutorService {
    async askTutor(userId, tenantId, rawQuery, trx) {
        // 1. ATOMIC HEARTBEAT UPSERT (Fixes New Day Crash)
        // Ensures row exists for today and adds 1 minute
        await trx('user_activity_heartbeats')
            .insert({ user_id: userId, active_date: trx.fn.now(), minutes_spent: 1 })
            .onConflict(['user_id', 'active_date'])
            .merge({
                minutes_spent: trx.raw('user_activity_heartbeats.minutes_spent + 1')
            });

        // Check for Burnout
        const heartbeat = await trx('user_activity_heartbeats')
            .where({ user_id: userId, active_date: trx.fn.now() }).first();
        if (heartbeat?.minutes_spent > 180) {
            return { error: "BURNOUT", message: "Daily limit reached. Please rest." };
        }

        // 2. IDENTITY FETCH (Fixes "PURGED" Leak)
        // We set the vault key to look inside the USERS vault, not the LEADS vault
        await trx.raw(`SET LOCAL app.vault_key_v1 = ?`, [process.env.DB_PII_VAULT_KEY]);
        const userRecord = await trx('v_decrypted_users').where({ id: userId }).first();
        const tenantRecord = await trx('tenants').where({ id: tenantId }).first();

        // 3. DYNAMIC SCRUB
        const scrubbedQuery = Scrubber.scrub(
            rawQuery, 
            userRecord?.full_name, 
            tenantRecord?.name 
        );

        // 4. HQ-AWARE GROUNDING
        const contextChunks = await trx('knowledge_vectors')
            .where(function() {
                this.where('tenant_id', tenantId).orWhereNull('tenant_id');
            })
            .orderByRaw('embedding <=> ?', [/* Query Vector */])
            .limit(3);

        if (contextChunks.length === 0) {
            return { ai_response: "I can only help with your specific curriculum topics." };
        }

        // 5. DISPATCH & LOG
        const aiResponse = "Hint: Consider the force acting on the object...";
        await trx('tutor_conversation_logs').insert({
            user_id: userId, tenant_id: tenantId,
            student_query_scrubbed: scrubbedQuery,
            ai_response: aiResponse,
            citations: JSON.stringify(contextChunks.map(c => c.metadata.source))
        });

        return { ai_response: aiResponse, citations: contextChunks.map(c => c.metadata.source) };
    }
}

module.exports = new AITutorService();

============================================================
FILE PATH: ./backend/src/core/services/presence.service.js
============================================================
const crypto = require('crypto');
const NotificationDispatcher = require('./notification.dispatcher');

class PresenceService {
    /**
     * SRS 4.7: Validates TOTP with a 3-step window (T-1, T, T+1)
     * Total window = 45 seconds (Safe for 3G/4G lag)
     */
    verifyAttendanceToken(token, centerId, tenantId) {
        const secret = process.env.QR_TOTP_SECRET;
        const currentEpoch = Math.floor(Date.now() / 15000);
        
        // Check 3 windows: 15s ago, Now, 15s from now
        for (let i = -1; i <= 1; i++) {
            const epoch = currentEpoch + i;
            const payload = `${centerId}:${tenantId}:${epoch}`;
            const expected = crypto.createHmac('sha256', secret).update(payload).digest('hex').substring(0, 8);
            if (token === expected) return true;
        }
        return false;
    }

    /**
     * SRS 15.8: High-Efficiency Minor Watchdog
     * Uses a single anti-join query for all centers
     */
    async runMinorWatchdog(trx) {
        // Bulk find all minors who should be in class but haven't checked in
        const absentees = await trx('enrollments')
            .join('users', 'enrollments.user_id', 'users.id')
            .join('physical_sessions', 'enrollments.batch_id', 'physical_sessions.batch_id')
            .join('parent_student_links', 'users.id', 'parent_student_links.student_user_id')
            .leftJoin('physical_attendance_logs', function() {
                this.on('users.id', '=', 'physical_attendance_logs.user_id')
                    .andOn('physical_attendance_logs.session_id', '=', 'physical_sessions.id');
            })
            .where({
                'physical_sessions.status': 'ACTIVE',
                'users.is_minor': true
            })
            .whereRaw("physical_sessions.start_time <= NOW() - INTERVAL '10 minutes'")
            .whereNull('physical_attendance_logs.id')
            .select('users.masked_name', 'parent_student_links.parent_user_id', 'physical_sessions.tenant_id');

        // Enqueue alerts using the Task 4.6 Priority Pattern
        for (const record of absentees) {
            await NotificationDispatcher.send(record.parent_user_id, record.tenant_id, 'MINOR_ABSENCE_ALERT', {
                studentName: record.masked_name
            }, { priority: 'CRITICAL' });
        }
    }
}

module.exports = new PresenceService();

============================================================
FILE PATH: ./backend/src/core/services/etl.service.js
============================================================
const crypto = require('crypto');
const { systemDb } = require('../../database');
const redis = require('../../infrastructure/redis');

class EtlService {
    /**
     * syncAssessments: High-Performance Watermark ETL
     */
    async syncAssessments() {
        const lock = await redis.set('lock:etl:assessments', 'active', 'NX', 'EX', 600);
        if (!lock) return console.log("ETL Job already in progress. Skipping.");

        try {
            const salt = process.env.ANALYTICS_SALT;
            const watermark = await systemDb('warehouse_watermarks').where({ table_name: 'f_assessments' }).first();
            const lastId = watermark ? watermark.last_processed_id : '00000000-0000-0000-0000-000000000000';

            // FIX: FETCH WITH FULL LINEAGE (Center ID and Minor Flag)
            const newRecords = await systemDb('exam_attempts')
                .join('student_profiles', 'exam_attempts.user_id', 'student_profiles.user_id')
                .join('users', 'exam_attempts.user_id', 'users.id') // Join users for is_minor
                .where('exam_attempts.status', 'SUBMITTED')
                .andWhere('exam_attempts.id', '>', lastId)
                .select(
                    'exam_attempts.*', 
                    'student_profiles.center_id', // FIX: Explicitly selected
                    'users.is_minor'              // FIX: Explicitly selected
                )
                .orderBy('exam_attempts.id', 'asc')
                .limit(500);

            if (newRecords.length === 0) return;

            await systemDb.transaction(async (trx) => {
                for (const rec of newRecords) {
                    const userHash = crypto.createHmac('sha256', salt).update(rec.user_id).digest('hex');

                    await trx('f_assessments').insert({
                        id: rec.id,
                        tenant_id: rec.tenant_id,
                        center_id: rec.center_id, // Now populated correctly
                        is_minor: rec.is_minor,   // Now populated correctly
                        user_hash: userHash,
                        score: rec.score_percentage,
                        topic_id: rec.topic_id,
                        created_at: rec.started_at
                    });
                }

                const latestId = newRecords[newRecords.length - 1].id;
                await trx('warehouse_watermarks').insert({ table_name: 'f_assessments', last_processed_id: latestId })
                    .onConflict('table_name').merge();
            });

        } finally {
            await redis.del('lock:etl:assessments');
        }
    }

    async hardAnonymizeUser(userId, tenantId) {
        const salt = process.env.ANALYTICS_SALT;
        const userHash = crypto.createHmac('sha256', salt).update(userId).digest('hex');

        await systemDb('f_assessments')
            .where({ tenant_id: tenantId, user_hash: userHash })
            .update({ user_hash: null });
            
        console.log(`[DPDP] Hard-Anonymized student ${userId} in Warehouse.`);
    }
}

module.exports = new EtlService();

============================================================
FILE PATH: ./backend/src/core/services/growth.handler.js
============================================================
const NotificationDispatcher = require('./notification.dispatcher');
const { systemDb } = require('../../database');

class GrowthHandler {
    /**
     * SRS 9.7: High-Trust Welcome with Referrer initials
     */
    async handleNewReferralLead(userId, tenantId, promoterId, leadData) {
        const promoter = await systemDb('users').where({ id: promoterId }).first();
        const referrerMaskedName = (promoter && promoter.masked_name) ? promoter.masked_name : 'A friend';

        await NotificationDispatcher.send(userId, tenantId, 'REFERRAL_WELCOME_LEAD', {
            firstName: leadData.firstName,
            referrerMaskedName: referrerMaskedName,
            loginUrl: `${process.env.FRONTEND_URL}/login`
        }, { priority: 'CRITICAL' });
    }

    /**
     * SRS 17.12: Anonymous Success Alert to Promoter
     */
    async handleConversionAlert(promoterId, tenantId, eventId) {
        // Data is empty to ensure no student PII is sent to the referrer
        await NotificationDispatcher.send(promoterId, tenantId, 'REFERRAL_SUCCESS_PROMOTER', {}, {
            triggerId: eventId,
            priority: 'ENGAGEMENT'
        });
    }
}

module.exports = new GrowthHandler();

============================================================
FILE PATH: ./backend/src/core/validation/tenant.schema.js
============================================================
const { z } = require('zod');
const sanitizeHtml = require('sanitize-html');

const OnboardingSchema = z.object({
    name: z.string().min(3).trim(),
    slug: z.string().regex(/^[a-z0-9-]+$/).transform(v => v.toLowerCase()),
    appName: z.string().transform(v => sanitizeHtml(v, {
        allowedTags: [],
        allowedAttributes: {}
    }))
});

module.exports = { OnboardingSchema };

============================================================
FILE PATH: ./backend/src/api/webhooks/payment.webhook.js
============================================================
const crypto = require('crypto');
const ConversionService = require('../../core/services/conversion.service');

const handlePaymentWebhook = async (req, res) => {
    const signature = req.headers['x-payment-signature'];
    const secret = process.env.PAYMENT_WEBHOOK_SECRET;

    // FIX: Use 'rawBody' to prevent key-order signature failures
    const rawBody = req.rawBody; 

    if (!rawBody) return res.status(400).send('No body provided');

    const expectedSignature = crypto.createHmac('sha256', secret)
                                    .update(rawBody)
                                    .digest('hex');

    if (signature !== expectedSignature) {
        return res.status(401).json({ error: "INVALID_SIGNATURE" });
    }

    const { leadId, offerId, txnId, event } = JSON.parse(rawBody.toString());

    if (event === 'payment.captured') {
        try {
            await ConversionService.convert(leadId, offerId, txnId);
            res.status(200).send('PROCESSED');
        } catch (err) {
            // If batch is full, the retrying webhook will keep failing until admin fixes it
            res.status(500).send(err.message);
        }
    } else {
        res.status(200).send('IGNORED');
    }
};

============================================================
FILE PATH: ./backend/src/api/webhooks/live.webhook.js
============================================================
const handleLiveWebhook = async (req) => {
    const { event, userId, sessionId, timestamp } = req.body;
    const trx = req.db; 

    if (event === 'user_left') {
        // FIX: THE COLLISION GUARD
        // We filter by BOTH user and session to ensure we hit the exact record
        const log = await trx('attendance_logs')
            .where({ 
                user_id: userId, 
                session_id: sessionId 
            })
            .first();
        
        if (log) {
            const leftAt = new Date(timestamp);
            const joinedAt = new Date(log.joined_at);
            const duration = Math.floor((leftAt - joinedAt) / 60000);

            await trx('attendance_logs').where({ id: log.id }).update({
                left_at: leftAt,
                total_minutes: duration,
                is_verified: duration >= 20
            });
        }
    }
    return { status: "PROCESSED" };
};

module.exports = { handleLiveWebhook };

============================================================
FILE PATH: ./backend/src/api/routes/comms.routes.js
============================================================
const express = require('express');
const router = express.Router();
const { verifyUnsubscribeToken } = require('../../core/utils/comms.token');
const { systemDb } = require('../../database');

/**
 * GET /api/v1/comms/unsubscribe?t=[token]
 * SRS 1.6: Isolated Unsubscribe
 */
router.get('/unsubscribe', async (req, res) => {
    const { t } = req.query;
    const verified = verifyUnsubscribeToken(t);

    if (!verified) {
        return res.status(400).send('Invalid or expired unsubscribe link.');
    }

    // FIX: UPDATE PREFERENCES FOR THIS SPECIFIC TENANT ONLY
    await systemDb('user_notification_preferences')
        .where({ 
            user_id: verified.userId, 
            tenant_id: verified.tenantId, // Isolated update
            channel: verified.channel 
        })
        .update({ is_enabled: false });

    res.send('Successfully unsubscribed from this institutions alerts.');
});

module.exports = router;

============================================================
FILE PATH: ./backend/src/api/routes/live.routes.js
============================================================
const express = require('express');
const router = express.Router();
const { executeInContext } = require('../../core/utils/execution.engine');
const { checkLiveAccess } = require('../../middleware/liveAccessGate');

/**
 * POST /api/v1/attendance/verify
 * SRS 4.7: Verified Physical Check-in
 */
router.post(
    '/attendance/verify', 
    checkLiveAccess, // 1. Check if student is in batch
    executeInContext(async (req, trx) => {
        // FIX: No redundant middleware. 
        // The 'executeInContext' wrapper below now handles X-Idempotency-Key
        // using the correct RLS tenant context.
        return { status: "SUCCESS", studentName: req.user.maskedName };
    })
);

module.exports = router;

============================================================
FILE PATH: ./backend/src/api/routes/analytics.routes.js
============================================================
const { executeInContext } = require('../../core/utils/execution.engine');

/**
 * SRS 21.6: Regional Benchmarking (Tenant-Isolated)
 */
const getRegionalBenchmarking = async (req, db) => {
    const report = await db('v_safe_topic_performance')
        .select('topic_id', 'is_minor', 'avg_score', 'sample_size')
        .orderBy('avg_score', 'desc');

    return {
        timestamp: new Date(),
        scope: "TENANT_LEVEL_BENCHMARK",
        metrics: report
    };
};

module.exports = { getRegionalBenchmarking };

============================================================
FILE PATH: ./backend/src/api/routes/interop.routes.js
============================================================
const express = require('express');
const router = express.Router();
const { executeInContext } = require('../../core/utils/execution.engine');
const { verifyPartnerKey } = require('../../middleware/partnerAuthGate');
const { verifyScope } = require('../../middleware/scopeGate');

/**
 * POST /api/v1/sync/external
 * SRS 18.6: Partner Data Sync
 */
router.post(
    '/sync/external',
    verifyPartnerKey,       // 1. Who are you? (Partner ID)
    verifyScope('write:sync'), // 2. Are you allowed to write?
    executeInContext(async (req, trx) => {
        // Handover to SyncService
        return { status: "RECEIVED" };
    })
);

module.exports = router;

============================================================
FILE PATH: ./backend/src/api/routes/maintenance.routes.js
============================================================
const express = require('express');
const router = express.Router();
const { executeInContext } = require('../../core/utils/execution.engine');
const MaintenanceService = require('../../core/services/maintenance.service');

router.get('/sovereignty-check', executeInContext(async (req, trx) => {
    if (req.user.role !== 'HQ_ADMIN') throw new Error("UNAUTHORIZED_ACCESS");

    const report = await MaintenanceService.runSovereigntyCheck();
    
    // Log the event with High Priority
    await trx('security_audit_logs').insert({
        user_id: req.user.userId,
        event_type: 'SYSTEM_SOVEREIGNTY_AUDIT',
        metadata: JSON.stringify(report)
    });

    return report;
}));

module.exports = router;

============================================================
FILE PATH: ./backend/src/api/routes/intelligence.routes.js
============================================================
const express = require('express');
const router = express.Router();
const { executeInContext } = require('../../core/utils/execution.engine');
const { blockSalesFromPerformance } = require('../../middleware/performanceGate');

const getRecommendationWhy = async (req, db) => {
    const { id } = req.params;
    const userId = req.user.userId;

    // FIX: THE WHY-FORGE (Owner-only check)
    const data = await db('remedial_suggestions')
        .join('learning_gaps', 'remedial_suggestions.gap_id', 'learning_gaps.id')
        .where({ 
            'remedial_suggestions.id': id,
            'learning_gaps.user_id': userId // Verification: Must be the owner
        })
        .select('remedial_suggestions.reason_code', 'learning_gaps.signals_detected')
        .first();

    if (!data) throw new Error("RECO_NOT_FOUND_OR_UNAUTHORIZED");

    return {
        explanation: "Based on your unique error patterns.",
        evidence: data.signals_detected
    };
};

// APPLY THE SALES GATE TO ALL ROUTES
router.use(blockSalesFromPerformance);

router.get('/recommendations/why/:id', executeInContext(getRecommendationWhy));

module.exports = router;

============================================================
FILE PATH: ./backend/src/api/routes/hr.routes.js
============================================================
const { executeInContext } = require('../../core/utils/execution.engine');
const crypto = require('crypto');

const searchStaffByName = async (req, db) => {
    const { searchTerm } = req.query;
    if (!searchTerm || searchTerm.length < 3) return [];

    const salt = process.env.BLIND_INDEX_SALT;
    const cleanSearch = searchTerm.toLowerCase().replace(/\s+/g, '');
    const searchHashes = [];
    for (let i = 0; i <= cleanSearch.length - 3; i++) {
        const chunk = cleanSearch.substring(i, i + 3);
        searchHashes.push(crypto.createHmac('sha256', salt).update(chunk).digest('hex'));
    }

    return await db('staff_search_indexes')
        .join('staff_profiles', 'staff_search_indexes.staff_id', 'staff_profiles.id')
        .whereIn('staff_search_indexes.trigram_hash', searchHashes)
        .select('staff_profiles.id', 'staff_profiles.current_rating')
        .distinct();
};

const getStaffDetails = async (req, db) => {
    const { staffId } = req.params;
    const staffVaultKey = process.env.DB_STAFF_VAULT_KEY;

    if (!['HQ_ADMIN', 'HR_MANAGER'].includes(req.user.role)) throw new Error("FORBIDDEN");

    try {
        await db.raw(`SET LOCAL app.staff_vault_key = ?`, [staffVaultKey]);
        return await db('v_decrypted_staff').where({ id: staffId }).first();
    } finally {
        await db.raw(`SET LOCAL app.staff_vault_key = ''`);
    }
};

module.exports = { searchStaffByName, getStaffDetails };

============================================================
FILE PATH: ./mobile/src/core/services/sync.manager.js
============================================================
import { Vibration } from 'react-native';

class SyncManager {
    async handleAttendanceScan(sessionId, token, apiClient, localDb) {
        const timeout = 2000; 
        try {
            const apiPromise = apiClient.post('/api/v1/attendance/verify', { sessionId, token });
            const timeoutPromise = new Promise((_, reject) => setTimeout(() => reject('TIMEOUT'), timeout));
            const response = await Promise.race([apiPromise, timeoutPromise]);

            Vibration.vibrate(100); 
            return { status: 'VERIFIED', data: response.data };
        } catch (error) {
            if (error === 'TIMEOUT') {
                return { status: 'RETRY_REQUIRED', message: "Network slow. Please verify ID manually." };
            }
            throw error; 
        }
    }

    async pushLocalUpdates(apiClient, localDb) {
        const pending = await localDb.execute("SELECT * FROM sync_queue");
        for (let action of pending) {
            try {
                const response = await apiClient.post('/api/v1/sync/push', action.payload);
                if (response.status === 200 || response.status === 409) {
                    await localDb.execute("DELETE FROM sync_queue WHERE id = ?", [action.id]);
                }
            } catch (e) {
                if (e.response && [400, 403].includes(e.response.status)) {
                    await localDb.execute("DELETE FROM sync_queue WHERE id = ?", [action.id]);
                }
            }
        }
    }
}
export default new SyncManager();

============================================================
FILE PATH: ./mobile/src/pages/AssistantScan.js
============================================================
import React, { useState } from 'react';
import { View, Text } from 'react-native';
import { Camera, useCodeScanner } from 'react-native-vision-camera';
import SyncManager from '../core/services/sync.manager';

const AssistantScan = ({ sessionId, apiClient, localDb }) => {
  const [statusMsg, setStatusMsg] = useState("Ready to Scan");

  const codeScanner = useCodeScanner({
    codeTypes: ['qr'],
    onCodeScanned: async (codes) => {
      const result = await SyncManager.handleAttendanceScan(sessionId, codes[0].value, apiClient, localDb);
      
      if (result.status === 'VERIFIED') {
        setStatusMsg(` ${result.data.studentName}`);
      } else if (result.status === 'RETRY_REQUIRED') {
        setStatusMsg(" NETWORK DELAY: Check ID Manually");
      }
    }
  });

  return (
    <View style={{ flex: 1 }}>
      <Camera style={{ flex: 1 }} isActive={true} codeScanner={codeScanner} />
      <View style={{ position: 'absolute', top: 50, width: '100%', alignItems: 'center' }}>
        <Text style={{ backgroundColor: 'white', padding: 10, borderRadius: 8, fontWeight: 'bold' }}>{statusMsg}</Text>
      </View>
    </View>
  );
};

export default AssistantScan;